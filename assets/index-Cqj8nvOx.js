(function(){const J=document.createElement("link").relList;if(J&&J.supports&&J.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))it(nt);new MutationObserver(nt=>{for(const ut of nt)if(ut.type==="childList")for(const vt of ut.addedNodes)vt.tagName==="LINK"&&vt.rel==="modulepreload"&&it(vt)}).observe(document,{childList:!0,subtree:!0});function ht(nt){const ut={};return nt.integrity&&(ut.integrity=nt.integrity),nt.referrerPolicy&&(ut.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?ut.credentials="include":nt.crossOrigin==="anonymous"?ut.credentials="omit":ut.credentials="same-origin",ut}function it(nt){if(nt.ep)return;nt.ep=!0;const ut=ht(nt);fetch(nt.href,ut)}})();function Za(I){return I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I}var wa={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var hs=wa.exports,Ka;function ds(){return Ka||(Ka=1,function(I){(function(J,ht){I.exports=J.document?ht(J,!0):function(it){if(!it.document)throw new Error("jQuery requires a window with a document");return ht(it)}})(typeof window<"u"?window:hs,function(J,ht){var it=[],nt=Object.getPrototypeOf,ut=it.slice,vt=it.flat?function(o){return it.flat.call(o)}:function(o){return it.concat.apply([],o)},It=it.push,bt=it.indexOf,hi={},B=hi.toString,ni=hi.hasOwnProperty,Ji=ni.toString,Zi=Ji.call(Object),Pt={},Ft=function(c){return typeof c=="function"&&typeof c.nodeType!="number"&&typeof c.item!="function"},Xi=function(c){return c!=null&&c===c.window},qt=J.document,xe={type:!0,src:!0,nonce:!0,noModule:!0};function Bi(o,c,g){g=g||qt;var y,P,S=g.createElement("script");if(S.text=o,c)for(y in xe)P=c[y]||c.getAttribute&&c.getAttribute(y),P&&S.setAttribute(y,P);g.head.appendChild(S).parentNode.removeChild(S)}function ki(o){return o==null?o+"":typeof o=="object"||typeof o=="function"?hi[B.call(o)]||"object":typeof o}var di="3.7.1",fe=/HTML$/i,M=function(o,c){return new M.fn.init(o,c)};M.fn=M.prototype={jquery:di,constructor:M,length:0,toArray:function(){return ut.call(this)},get:function(o){return o==null?ut.call(this):o<0?this[o+this.length]:this[o]},pushStack:function(o){var c=M.merge(this.constructor(),o);return c.prevObject=this,c},each:function(o){return M.each(this,o)},map:function(o){return this.pushStack(M.map(this,function(c,g){return o.call(c,g,c)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(M.grep(this,function(o,c){return(c+1)%2}))},odd:function(){return this.pushStack(M.grep(this,function(o,c){return c%2}))},eq:function(o){var c=this.length,g=+o+(o<0?c:0);return this.pushStack(g>=0&&g<c?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:It,sort:it.sort,splice:it.splice},M.extend=M.fn.extend=function(){var o,c,g,y,P,S,A=arguments[0]||{},H=1,z=arguments.length,Q=!1;for(typeof A=="boolean"&&(Q=A,A=arguments[H]||{},H++),typeof A!="object"&&!Ft(A)&&(A={}),H===z&&(A=this,H--);H<z;H++)if((o=arguments[H])!=null)for(c in o)y=o[c],!(c==="__proto__"||A===y)&&(Q&&y&&(M.isPlainObject(y)||(P=Array.isArray(y)))?(g=A[c],P&&!Array.isArray(g)?S=[]:!P&&!M.isPlainObject(g)?S={}:S=g,P=!1,A[c]=M.extend(Q,S,y)):y!==void 0&&(A[c]=y));return A},M.extend({expando:"jQuery"+(di+Math.random()).replace(/\D/g,""),isReady:!0,error:function(o){throw new Error(o)},noop:function(){},isPlainObject:function(o){var c,g;return!o||B.call(o)!=="[object Object]"?!1:(c=nt(o),c?(g=ni.call(c,"constructor")&&c.constructor,typeof g=="function"&&Ji.call(g)===Zi):!0)},isEmptyObject:function(o){var c;for(c in o)return!1;return!0},globalEval:function(o,c,g){Bi(o,{nonce:c&&c.nonce},g)},each:function(o,c){var g,y=0;if(ue(o))for(g=o.length;y<g&&c.call(o[y],y,o[y])!==!1;y++);else for(y in o)if(c.call(o[y],y,o[y])===!1)break;return o},text:function(o){var c,g="",y=0,P=o.nodeType;if(!P)for(;c=o[y++];)g+=M.text(c);return P===1||P===11?o.textContent:P===9?o.documentElement.textContent:P===3||P===4?o.nodeValue:g},makeArray:function(o,c){var g=c||[];return o!=null&&(ue(Object(o))?M.merge(g,typeof o=="string"?[o]:o):It.call(g,o)),g},inArray:function(o,c,g){return c==null?-1:bt.call(c,o,g)},isXMLDoc:function(o){var c=o&&o.namespaceURI,g=o&&(o.ownerDocument||o).documentElement;return!fe.test(c||g&&g.nodeName||"HTML")},merge:function(o,c){for(var g=+c.length,y=0,P=o.length;y<g;y++)o[P++]=c[y];return o.length=P,o},grep:function(o,c,g){for(var y,P=[],S=0,A=o.length,H=!g;S<A;S++)y=!c(o[S],S),y!==H&&P.push(o[S]);return P},map:function(o,c,g){var y,P,S=0,A=[];if(ue(o))for(y=o.length;S<y;S++)P=c(o[S],S,g),P!=null&&A.push(P);else for(S in o)P=c(o[S],S,g),P!=null&&A.push(P);return vt(A)},guid:1,support:Pt}),typeof Symbol=="function"&&(M.fn[Symbol.iterator]=it[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(o,c){hi["[object "+c+"]"]=c.toLowerCase()});function ue(o){var c=!!o&&"length"in o&&o.length,g=ki(o);return Ft(o)||Xi(o)?!1:g==="array"||c===0||typeof c=="number"&&c>0&&c-1 in o}function Ae(o,c){return o.nodeName&&o.nodeName.toLowerCase()===c.toLowerCase()}var gi=it.pop,oa=it.sort,De=it.splice,Ut="[\\x20\\t\\r\\n\\f]",Be=new RegExp("^"+Ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ut+"+$","g");M.contains=function(o,c){var g=c&&c.parentNode;return o===g||!!(g&&g.nodeType===1&&(o.contains?o.contains(g):o.compareDocumentPosition&&o.compareDocumentPosition(g)&16))};var Gi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Li(o,c){return c?o==="\0"?"ï¿½":o.slice(0,-1)+"\\"+o.charCodeAt(o.length-1).toString(16)+" ":"\\"+o}M.escapeSelector=function(o){return(o+"").replace(Gi,Li)};var ei=qt,Fi=It;(function(){var o,c,g,y,P,S=Fi,A,H,z,Q,lt,ft=M.expando,tt=0,Tt=0,oe=Ta(),Fe=Ta(),ve=Ta(),mi=Ta(),ui=function(W,$){return W===$&&(P=!0),0},Oi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",zi="(?:\\\\[\\da-fA-F]{1,6}"+Ut+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ce="\\["+Ut+"*("+zi+")(?:"+Ut+"*([*^$|!~]?=)"+Ut+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zi+"))|)"+Ut+"*\\]",da=":("+zi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ce+")*)|.*)\\)|)",Ve=new RegExp(Ut+"+","g"),ti=new RegExp("^"+Ut+"*,"+Ut+"*"),ba=new RegExp("^"+Ut+"*([>+~]|"+Ut+")"+Ut+"*"),Fa=new RegExp(Ut+"|>"),Ni=new RegExp(da),va=new RegExp("^"+zi+"$"),Ri={ID:new RegExp("^#("+zi+")"),CLASS:new RegExp("^\\.("+zi+")"),TAG:new RegExp("^("+zi+"|[*])"),ATTR:new RegExp("^"+Ce),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ut+"*(even|odd|(([+-]|)(\\d*)n|)"+Ut+"*(?:([+-]|)"+Ut+"*(\\d+)|))"+Ut+"*\\)|)","i"),bool:new RegExp("^(?:"+Oi+")$","i"),needsContext:new RegExp("^"+Ut+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ut+"*((?:-\\d)?\\d*)"+Ut+"*\\)|)(?=[^-]|$)","i")},ia=/^(?:input|select|textarea|button)$/i,aa=/^h\d$/i,Di=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ia=/[+~]/,Ki=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ut+"?|\\\\([^\\r\\n\\f])","g"),Qi=function(W,$){var q="0x"+W.slice(1)-65536;return $||(q<0?String.fromCharCode(q+65536):String.fromCharCode(q>>10|55296,q&1023|56320))},is=function(){sa()},as=Ca(function(W){return W.disabled===!0&&Ae(W,"fieldset")},{dir:"parentNode",next:"legend"});function ss(){try{return A.activeElement}catch{}}try{S.apply(it=ut.call(ei.childNodes),ei.childNodes),it[ei.childNodes.length].nodeType}catch{S={apply:function($,q){Fi.apply($,ut.call(q))},call:function($){Fi.apply($,ut.call(arguments,1))}}}function Oe(W,$,q,st){var gt,Lt,Ot,Ht,zt,ke,se,he=$&&$.ownerDocument,Te=$?$.nodeType:9;if(q=q||[],typeof W!="string"||!W||Te!==1&&Te!==9&&Te!==11)return q;if(!st&&(sa($),$=$||A,z)){if(Te!==11&&(zt=Di.exec(W)))if(gt=zt[1]){if(Te===9)if(Ot=$.getElementById(gt)){if(Ot.id===gt)return S.call(q,Ot),q}else return q;else if(he&&(Ot=he.getElementById(gt))&&Oe.contains($,Ot)&&Ot.id===gt)return S.call(q,Ot),q}else{if(zt[2])return S.apply(q,$.getElementsByTagName(W)),q;if((gt=zt[3])&&$.getElementsByClassName)return S.apply(q,$.getElementsByClassName(gt)),q}if(!mi[W+" "]&&(!Q||!Q.test(W))){if(se=W,he=$,Te===1&&(Fa.test(W)||ba.test(W))){for(he=Ia.test(W)&&Va($.parentNode)||$,(he!=$||!Pt.scope)&&((Ht=$.getAttribute("id"))?Ht=M.escapeSelector(Ht):$.setAttribute("id",Ht=ft)),ke=Ma(W),Lt=ke.length;Lt--;)ke[Lt]=(Ht?"#"+Ht:":scope")+" "+Pa(ke[Lt]);se=ke.join(",")}try{return S.apply(q,he.querySelectorAll(se)),q}catch{mi(W,!0)}finally{Ht===ft&&$.removeAttribute("id")}}}return $a(W.replace(Be,"$1"),$,q,st)}function Ta(){var W=[];function $(q,st){return W.push(q+" ")>c.cacheLength&&delete $[W.shift()],$[q+" "]=st}return $}function Yi(W){return W[ft]=!0,W}function ga(W){var $=A.createElement("fieldset");try{return!!W($)}catch{return!1}finally{$.parentNode&&$.parentNode.removeChild($),$=null}}function ns(W){return function($){return Ae($,"input")&&$.type===W}}function os(W){return function($){return(Ae($,"input")||Ae($,"button"))&&$.type===W}}function ja(W){return function($){return"form"in $?$.parentNode&&$.disabled===!1?"label"in $?"label"in $.parentNode?$.parentNode.disabled===W:$.disabled===W:$.isDisabled===W||$.isDisabled!==!W&&as($)===W:$.disabled===W:"label"in $?$.disabled===W:!1}}function ua(W){return Yi(function($){return $=+$,Yi(function(q,st){for(var gt,Lt=W([],q.length,$),Ot=Lt.length;Ot--;)q[gt=Lt[Ot]]&&(q[gt]=!(st[gt]=q[gt]))})})}function Va(W){return W&&typeof W.getElementsByTagName<"u"&&W}function sa(W){var $,q=W?W.ownerDocument||W:ei;return q==A||q.nodeType!==9||!q.documentElement||(A=q,H=A.documentElement,z=!M.isXMLDoc(A),lt=H.matches||H.webkitMatchesSelector||H.msMatchesSelector,H.msMatchesSelector&&ei!=A&&($=A.defaultView)&&$.top!==$&&$.addEventListener("unload",is),Pt.getById=ga(function(st){return H.appendChild(st).id=M.expando,!A.getElementsByName||!A.getElementsByName(M.expando).length}),Pt.disconnectedMatch=ga(function(st){return lt.call(st,"*")}),Pt.scope=ga(function(){return A.querySelectorAll(":scope")}),Pt.cssHas=ga(function(){try{return A.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Pt.getById?(c.filter.ID=function(st){var gt=st.replace(Ki,Qi);return function(Lt){return Lt.getAttribute("id")===gt}},c.find.ID=function(st,gt){if(typeof gt.getElementById<"u"&&z){var Lt=gt.getElementById(st);return Lt?[Lt]:[]}}):(c.filter.ID=function(st){var gt=st.replace(Ki,Qi);return function(Lt){var Ot=typeof Lt.getAttributeNode<"u"&&Lt.getAttributeNode("id");return Ot&&Ot.value===gt}},c.find.ID=function(st,gt){if(typeof gt.getElementById<"u"&&z){var Lt,Ot,Ht,zt=gt.getElementById(st);if(zt){if(Lt=zt.getAttributeNode("id"),Lt&&Lt.value===st)return[zt];for(Ht=gt.getElementsByName(st),Ot=0;zt=Ht[Ot++];)if(Lt=zt.getAttributeNode("id"),Lt&&Lt.value===st)return[zt]}return[]}}),c.find.TAG=function(st,gt){return typeof gt.getElementsByTagName<"u"?gt.getElementsByTagName(st):gt.querySelectorAll(st)},c.find.CLASS=function(st,gt){if(typeof gt.getElementsByClassName<"u"&&z)return gt.getElementsByClassName(st)},Q=[],ga(function(st){var gt;H.appendChild(st).innerHTML="<a id='"+ft+"' href='' disabled='disabled'></a><select id='"+ft+"-\r\\' disabled='disabled'><option selected=''></option></select>",st.querySelectorAll("[selected]").length||Q.push("\\["+Ut+"*(?:value|"+Oi+")"),st.querySelectorAll("[id~="+ft+"-]").length||Q.push("~="),st.querySelectorAll("a#"+ft+"+*").length||Q.push(".#.+[+~]"),st.querySelectorAll(":checked").length||Q.push(":checked"),gt=A.createElement("input"),gt.setAttribute("type","hidden"),st.appendChild(gt).setAttribute("name","D"),H.appendChild(st).disabled=!0,st.querySelectorAll(":disabled").length!==2&&Q.push(":enabled",":disabled"),gt=A.createElement("input"),gt.setAttribute("name",""),st.appendChild(gt),st.querySelectorAll("[name='']").length||Q.push("\\["+Ut+"*name"+Ut+"*="+Ut+`*(?:''|"")`)}),Pt.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),ui=function(st,gt){if(st===gt)return P=!0,0;var Lt=!st.compareDocumentPosition-!gt.compareDocumentPosition;return Lt||(Lt=(st.ownerDocument||st)==(gt.ownerDocument||gt)?st.compareDocumentPosition(gt):1,Lt&1||!Pt.sortDetached&&gt.compareDocumentPosition(st)===Lt?st===A||st.ownerDocument==ei&&Oe.contains(ei,st)?-1:gt===A||gt.ownerDocument==ei&&Oe.contains(ei,gt)?1:y?bt.call(y,st)-bt.call(y,gt):0:Lt&4?-1:1)}),A}Oe.matches=function(W,$){return Oe(W,null,null,$)},Oe.matchesSelector=function(W,$){if(sa(W),z&&!mi[$+" "]&&(!Q||!Q.test($)))try{var q=lt.call(W,$);if(q||Pt.disconnectedMatch||W.document&&W.document.nodeType!==11)return q}catch{mi($,!0)}return Oe($,A,null,[W]).length>0},Oe.contains=function(W,$){return(W.ownerDocument||W)!=A&&sa(W),M.contains(W,$)},Oe.attr=function(W,$){(W.ownerDocument||W)!=A&&sa(W);var q=c.attrHandle[$.toLowerCase()],st=q&&ni.call(c.attrHandle,$.toLowerCase())?q(W,$,!z):void 0;return st!==void 0?st:W.getAttribute($)},Oe.error=function(W){throw new Error("Syntax error, unrecognized expression: "+W)},M.uniqueSort=function(W){var $,q=[],st=0,gt=0;if(P=!Pt.sortStable,y=!Pt.sortStable&&ut.call(W,0),oa.call(W,ui),P){for(;$=W[gt++];)$===W[gt]&&(st=q.push(gt));for(;st--;)De.call(W,q[st],1)}return y=null,W},M.fn.uniqueSort=function(){return this.pushStack(M.uniqueSort(ut.apply(this)))},c=M.expr={cacheLength:50,createPseudo:Yi,match:Ri,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(W){return W[1]=W[1].replace(Ki,Qi),W[3]=(W[3]||W[4]||W[5]||"").replace(Ki,Qi),W[2]==="~="&&(W[3]=" "+W[3]+" "),W.slice(0,4)},CHILD:function(W){return W[1]=W[1].toLowerCase(),W[1].slice(0,3)==="nth"?(W[3]||Oe.error(W[0]),W[4]=+(W[4]?W[5]+(W[6]||1):2*(W[3]==="even"||W[3]==="odd")),W[5]=+(W[7]+W[8]||W[3]==="odd")):W[3]&&Oe.error(W[0]),W},PSEUDO:function(W){var $,q=!W[6]&&W[2];return Ri.CHILD.test(W[0])?null:(W[3]?W[2]=W[4]||W[5]||"":q&&Ni.test(q)&&($=Ma(q,!0))&&($=q.indexOf(")",q.length-$)-q.length)&&(W[0]=W[0].slice(0,$),W[2]=q.slice(0,$)),W.slice(0,3))}},filter:{TAG:function(W){var $=W.replace(Ki,Qi).toLowerCase();return W==="*"?function(){return!0}:function(q){return Ae(q,$)}},CLASS:function(W){var $=oe[W+" "];return $||($=new RegExp("(^|"+Ut+")"+W+"("+Ut+"|$)"))&&oe(W,function(q){return $.test(typeof q.className=="string"&&q.className||typeof q.getAttribute<"u"&&q.getAttribute("class")||"")})},ATTR:function(W,$,q){return function(st){var gt=Oe.attr(st,W);return gt==null?$==="!=":$?(gt+="",$==="="?gt===q:$==="!="?gt!==q:$==="^="?q&&gt.indexOf(q)===0:$==="*="?q&&gt.indexOf(q)>-1:$==="$="?q&&gt.slice(-q.length)===q:$==="~="?(" "+gt.replace(Ve," ")+" ").indexOf(q)>-1:$==="|="?gt===q||gt.slice(0,q.length+1)===q+"-":!1):!0}},CHILD:function(W,$,q,st,gt){var Lt=W.slice(0,3)!=="nth",Ot=W.slice(-4)!=="last",Ht=$==="of-type";return st===1&&gt===0?function(zt){return!!zt.parentNode}:function(zt,ke,se){var he,Te,Jt,je,Si,yi=Lt!==Ot?"nextSibling":"previousSibling",Wi=zt.parentNode,Hi=Ht&&zt.nodeName.toLowerCase(),ma=!se&&!Ht,vi=!1;if(Wi){if(Lt){for(;yi;){for(Jt=zt;Jt=Jt[yi];)if(Ht?Ae(Jt,Hi):Jt.nodeType===1)return!1;Si=yi=W==="only"&&!Si&&"nextSibling"}return!0}if(Si=[Ot?Wi.firstChild:Wi.lastChild],Ot&&ma){for(Te=Wi[ft]||(Wi[ft]={}),he=Te[W]||[],je=he[0]===tt&&he[1],vi=je&&he[2],Jt=je&&Wi.childNodes[je];Jt=++je&&Jt&&Jt[yi]||(vi=je=0)||Si.pop();)if(Jt.nodeType===1&&++vi&&Jt===zt){Te[W]=[tt,je,vi];break}}else if(ma&&(Te=zt[ft]||(zt[ft]={}),he=Te[W]||[],je=he[0]===tt&&he[1],vi=je),vi===!1)for(;(Jt=++je&&Jt&&Jt[yi]||(vi=je=0)||Si.pop())&&!((Ht?Ae(Jt,Hi):Jt.nodeType===1)&&++vi&&(ma&&(Te=Jt[ft]||(Jt[ft]={}),Te[W]=[tt,vi]),Jt===zt)););return vi-=gt,vi===st||vi%st===0&&vi/st>=0}}},PSEUDO:function(W,$){var q,st=c.pseudos[W]||c.setFilters[W.toLowerCase()]||Oe.error("unsupported pseudo: "+W);return st[ft]?st($):st.length>1?(q=[W,W,"",$],c.setFilters.hasOwnProperty(W.toLowerCase())?Yi(function(gt,Lt){for(var Ot,Ht=st(gt,$),zt=Ht.length;zt--;)Ot=bt.call(gt,Ht[zt]),gt[Ot]=!(Lt[Ot]=Ht[zt])}):function(gt){return st(gt,0,q)}):st}},pseudos:{not:Yi(function(W){var $=[],q=[],st=Ya(W.replace(Be,"$1"));return st[ft]?Yi(function(gt,Lt,Ot,Ht){for(var zt,ke=st(gt,null,Ht,[]),se=gt.length;se--;)(zt=ke[se])&&(gt[se]=!(Lt[se]=zt))}):function(gt,Lt,Ot){return $[0]=gt,st($,null,Ot,q),$[0]=null,!q.pop()}}),has:Yi(function(W){return function($){return Oe(W,$).length>0}}),contains:Yi(function(W){return W=W.replace(Ki,Qi),function($){return($.textContent||M.text($)).indexOf(W)>-1}}),lang:Yi(function(W){return va.test(W||"")||Oe.error("unsupported lang: "+W),W=W.replace(Ki,Qi).toLowerCase(),function($){var q;do if(q=z?$.lang:$.getAttribute("xml:lang")||$.getAttribute("lang"))return q=q.toLowerCase(),q===W||q.indexOf(W+"-")===0;while(($=$.parentNode)&&$.nodeType===1);return!1}}),target:function(W){var $=J.location&&J.location.hash;return $&&$.slice(1)===W.id},root:function(W){return W===H},focus:function(W){return W===ss()&&A.hasFocus()&&!!(W.type||W.href||~W.tabIndex)},enabled:ja(!1),disabled:ja(!0),checked:function(W){return Ae(W,"input")&&!!W.checked||Ae(W,"option")&&!!W.selected},selected:function(W){return W.parentNode&&W.parentNode.selectedIndex,W.selected===!0},empty:function(W){for(W=W.firstChild;W;W=W.nextSibling)if(W.nodeType<6)return!1;return!0},parent:function(W){return!c.pseudos.empty(W)},header:function(W){return aa.test(W.nodeName)},input:function(W){return ia.test(W.nodeName)},button:function(W){return Ae(W,"input")&&W.type==="button"||Ae(W,"button")},text:function(W){var $;return Ae(W,"input")&&W.type==="text"&&(($=W.getAttribute("type"))==null||$.toLowerCase()==="text")},first:ua(function(){return[0]}),last:ua(function(W,$){return[$-1]}),eq:ua(function(W,$,q){return[q<0?q+$:q]}),even:ua(function(W,$){for(var q=0;q<$;q+=2)W.push(q);return W}),odd:ua(function(W,$){for(var q=1;q<$;q+=2)W.push(q);return W}),lt:ua(function(W,$,q){var st;for(q<0?st=q+$:q>$?st=$:st=q;--st>=0;)W.push(st);return W}),gt:ua(function(W,$,q){for(var st=q<0?q+$:q;++st<$;)W.push(st);return W})}},c.pseudos.nth=c.pseudos.eq;for(o in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})c.pseudos[o]=ns(o);for(o in{submit:!0,reset:!0})c.pseudos[o]=os(o);function Ua(){}Ua.prototype=c.filters=c.pseudos,c.setFilters=new Ua;function Ma(W,$){var q,st,gt,Lt,Ot,Ht,zt,ke=Fe[W+" "];if(ke)return $?0:ke.slice(0);for(Ot=W,Ht=[],zt=c.preFilter;Ot;){(!q||(st=ti.exec(Ot)))&&(st&&(Ot=Ot.slice(st[0].length)||Ot),Ht.push(gt=[])),q=!1,(st=ba.exec(Ot))&&(q=st.shift(),gt.push({value:q,type:st[0].replace(Be," ")}),Ot=Ot.slice(q.length));for(Lt in c.filter)(st=Ri[Lt].exec(Ot))&&(!zt[Lt]||(st=zt[Lt](st)))&&(q=st.shift(),gt.push({value:q,type:Lt,matches:st}),Ot=Ot.slice(q.length));if(!q)break}return $?Ot.length:Ot?Oe.error(W):Fe(W,Ht).slice(0)}function Pa(W){for(var $=0,q=W.length,st="";$<q;$++)st+=W[$].value;return st}function Ca(W,$,q){var st=$.dir,gt=$.next,Lt=gt||st,Ot=q&&Lt==="parentNode",Ht=Tt++;return $.first?function(zt,ke,se){for(;zt=zt[st];)if(zt.nodeType===1||Ot)return W(zt,ke,se);return!1}:function(zt,ke,se){var he,Te,Jt=[tt,Ht];if(se){for(;zt=zt[st];)if((zt.nodeType===1||Ot)&&W(zt,ke,se))return!0}else for(;zt=zt[st];)if(zt.nodeType===1||Ot)if(Te=zt[ft]||(zt[ft]={}),gt&&Ae(zt,gt))zt=zt[st]||zt;else{if((he=Te[Lt])&&he[0]===tt&&he[1]===Ht)return Jt[2]=he[2];if(Te[Lt]=Jt,Jt[2]=W(zt,ke,se))return!0}return!1}}function Da(W){return W.length>1?function($,q,st){for(var gt=W.length;gt--;)if(!W[gt]($,q,st))return!1;return!0}:W[0]}function rs(W,$,q){for(var st=0,gt=$.length;st<gt;st++)Oe(W,$[st],q);return q}function Sa(W,$,q,st,gt){for(var Lt,Ot=[],Ht=0,zt=W.length,ke=$!=null;Ht<zt;Ht++)(Lt=W[Ht])&&(!q||q(Lt,st,gt))&&(Ot.push(Lt),ke&&$.push(Ht));return Ot}function Wa(W,$,q,st,gt,Lt){return st&&!st[ft]&&(st=Wa(st)),gt&&!gt[ft]&&(gt=Wa(gt,Lt)),Yi(function(Ot,Ht,zt,ke){var se,he,Te,Jt,je=[],Si=[],yi=Ht.length,Wi=Ot||rs($||"*",zt.nodeType?[zt]:zt,[]),Hi=W&&(Ot||!$)?Sa(Wi,je,W,zt,ke):Wi;if(q?(Jt=gt||(Ot?W:yi||st)?[]:Ht,q(Hi,Jt,zt,ke)):Jt=Hi,st)for(se=Sa(Jt,Si),st(se,[],zt,ke),he=se.length;he--;)(Te=se[he])&&(Jt[Si[he]]=!(Hi[Si[he]]=Te));if(Ot){if(gt||W){if(gt){for(se=[],he=Jt.length;he--;)(Te=Jt[he])&&se.push(Hi[he]=Te);gt(null,Jt=[],se,ke)}for(he=Jt.length;he--;)(Te=Jt[he])&&(se=gt?bt.call(Ot,Te):je[he])>-1&&(Ot[se]=!(Ht[se]=Te))}}else Jt=Sa(Jt===Ht?Jt.splice(yi,Jt.length):Jt),gt?gt(null,Ht,Jt,ke):S.apply(Ht,Jt)})}function Xa(W){for(var $,q,st,gt=W.length,Lt=c.relative[W[0].type],Ot=Lt||c.relative[" "],Ht=Lt?1:0,zt=Ca(function(he){return he===$},Ot,!0),ke=Ca(function(he){return bt.call($,he)>-1},Ot,!0),se=[function(he,Te,Jt){var je=!Lt&&(Jt||Te!=g)||(($=Te).nodeType?zt(he,Te,Jt):ke(he,Te,Jt));return $=null,je}];Ht<gt;Ht++)if(q=c.relative[W[Ht].type])se=[Ca(Da(se),q)];else{if(q=c.filter[W[Ht].type].apply(null,W[Ht].matches),q[ft]){for(st=++Ht;st<gt&&!c.relative[W[st].type];st++);return Wa(Ht>1&&Da(se),Ht>1&&Pa(W.slice(0,Ht-1).concat({value:W[Ht-2].type===" "?"*":""})).replace(Be,"$1"),q,Ht<st&&Xa(W.slice(Ht,st)),st<gt&&Xa(W=W.slice(st)),st<gt&&Pa(W))}se.push(q)}return Da(se)}function ls(W,$){var q=$.length>0,st=W.length>0,gt=function(Lt,Ot,Ht,zt,ke){var se,he,Te,Jt=0,je="0",Si=Lt&&[],yi=[],Wi=g,Hi=Lt||st&&c.find.TAG("*",ke),ma=tt+=Wi==null?1:Math.random()||.1,vi=Hi.length;for(ke&&(g=Ot==A||Ot||ke);je!==vi&&(se=Hi[je])!=null;je++){if(st&&se){for(he=0,!Ot&&se.ownerDocument!=A&&(sa(se),Ht=!z);Te=W[he++];)if(Te(se,Ot||A,Ht)){S.call(zt,se);break}ke&&(tt=ma)}q&&((se=!Te&&se)&&Jt--,Lt&&Si.push(se))}if(Jt+=je,q&&je!==Jt){for(he=0;Te=$[he++];)Te(Si,yi,Ot,Ht);if(Lt){if(Jt>0)for(;je--;)Si[je]||yi[je]||(yi[je]=gi.call(zt));yi=Sa(yi)}S.apply(zt,yi),ke&&!Lt&&yi.length>0&&Jt+$.length>1&&M.uniqueSort(zt)}return ke&&(tt=ma,g=Wi),Si};return q?Yi(gt):gt}function Ya(W,$){var q,st=[],gt=[],Lt=ve[W+" "];if(!Lt){for($||($=Ma(W)),q=$.length;q--;)Lt=Xa($[q]),Lt[ft]?st.push(Lt):gt.push(Lt);Lt=ve(W,ls(gt,st)),Lt.selector=W}return Lt}function $a(W,$,q,st){var gt,Lt,Ot,Ht,zt,ke=typeof W=="function"&&W,se=!st&&Ma(W=ke.selector||W);if(q=q||[],se.length===1){if(Lt=se[0]=se[0].slice(0),Lt.length>2&&(Ot=Lt[0]).type==="ID"&&$.nodeType===9&&z&&c.relative[Lt[1].type]){if($=(c.find.ID(Ot.matches[0].replace(Ki,Qi),$)||[])[0],$)ke&&($=$.parentNode);else return q;W=W.slice(Lt.shift().value.length)}for(gt=Ri.needsContext.test(W)?0:Lt.length;gt--&&(Ot=Lt[gt],!c.relative[Ht=Ot.type]);)if((zt=c.find[Ht])&&(st=zt(Ot.matches[0].replace(Ki,Qi),Ia.test(Lt[0].type)&&Va($.parentNode)||$))){if(Lt.splice(gt,1),W=st.length&&Pa(Lt),!W)return S.apply(q,st),q;break}}return(ke||Ya(W,se))(st,$,!z,q,!$||Ia.test(W)&&Va($.parentNode)||$),q}Pt.sortStable=ft.split("").sort(ui).join("")===ft,sa(),Pt.sortDetached=ga(function(W){return W.compareDocumentPosition(A.createElement("fieldset"))&1}),M.find=Oe,M.expr[":"]=M.expr.pseudos,M.unique=M.uniqueSort,Oe.compile=Ya,Oe.select=$a,Oe.setDocument=sa,Oe.tokenize=Ma,Oe.escape=M.escapeSelector,Oe.getText=M.text,Oe.isXML=M.isXMLDoc,Oe.selectors=M.expr,Oe.support=M.support,Oe.uniqueSort=M.uniqueSort})();var Ti=function(o,c,g){for(var y=[],P=g!==void 0;(o=o[c])&&o.nodeType!==9;)if(o.nodeType===1){if(P&&M(o).is(g))break;y.push(o)}return y},qi=function(o,c){for(var g=[];o;o=o.nextSibling)o.nodeType===1&&o!==c&&g.push(o);return g},ci=M.expr.match.needsContext,R=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Nt(o,c,g){return Ft(c)?M.grep(o,function(y,P){return!!c.call(y,P,y)!==g}):c.nodeType?M.grep(o,function(y){return y===c!==g}):typeof c!="string"?M.grep(o,function(y){return bt.call(c,y)>-1!==g}):M.filter(c,o,g)}M.filter=function(o,c,g){var y=c[0];return g&&(o=":not("+o+")"),c.length===1&&y.nodeType===1?M.find.matchesSelector(y,o)?[y]:[]:M.find.matches(o,M.grep(c,function(P){return P.nodeType===1}))},M.fn.extend({find:function(o){var c,g,y=this.length,P=this;if(typeof o!="string")return this.pushStack(M(o).filter(function(){for(c=0;c<y;c++)if(M.contains(P[c],this))return!0}));for(g=this.pushStack([]),c=0;c<y;c++)M.find(o,P[c],g);return y>1?M.uniqueSort(g):g},filter:function(o){return this.pushStack(Nt(this,o||[],!1))},not:function(o){return this.pushStack(Nt(this,o||[],!0))},is:function(o){return!!Nt(this,typeof o=="string"&&ci.test(o)?M(o):o||[],!1).length}});var O,X=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ot=M.fn.init=function(o,c,g){var y,P;if(!o)return this;if(g=g||O,typeof o=="string")if(o[0]==="<"&&o[o.length-1]===">"&&o.length>=3?y=[null,o,null]:y=X.exec(o),y&&(y[1]||!c))if(y[1]){if(c=c instanceof M?c[0]:c,M.merge(this,M.parseHTML(y[1],c&&c.nodeType?c.ownerDocument||c:qt,!0)),R.test(y[1])&&M.isPlainObject(c))for(y in c)Ft(this[y])?this[y](c[y]):this.attr(y,c[y]);return this}else return P=qt.getElementById(y[2]),P&&(this[0]=P,this.length=1),this;else return!c||c.jquery?(c||g).find(o):this.constructor(c).find(o);else{if(o.nodeType)return this[0]=o,this.length=1,this;if(Ft(o))return g.ready!==void 0?g.ready(o):o(M)}return M.makeArray(o,this)};ot.prototype=M.fn,O=M(qt);var Mt=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};M.fn.extend({has:function(o){var c=M(o,this),g=c.length;return this.filter(function(){for(var y=0;y<g;y++)if(M.contains(this,c[y]))return!0})},closest:function(o,c){var g,y=0,P=this.length,S=[],A=typeof o!="string"&&M(o);if(!ci.test(o)){for(;y<P;y++)for(g=this[y];g&&g!==c;g=g.parentNode)if(g.nodeType<11&&(A?A.index(g)>-1:g.nodeType===1&&M.find.matchesSelector(g,o))){S.push(g);break}}return this.pushStack(S.length>1?M.uniqueSort(S):S)},index:function(o){return o?typeof o=="string"?bt.call(M(o),this[0]):bt.call(this,o.jquery?o[0]:o):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,c){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(o,c))))},addBack:function(o){return this.add(o==null?this.prevObject:this.prevObject.filter(o))}});function kt(o,c){for(;(o=o[c])&&o.nodeType!==1;);return o}M.each({parent:function(o){var c=o.parentNode;return c&&c.nodeType!==11?c:null},parents:function(o){return Ti(o,"parentNode")},parentsUntil:function(o,c,g){return Ti(o,"parentNode",g)},next:function(o){return kt(o,"nextSibling")},prev:function(o){return kt(o,"previousSibling")},nextAll:function(o){return Ti(o,"nextSibling")},prevAll:function(o){return Ti(o,"previousSibling")},nextUntil:function(o,c,g){return Ti(o,"nextSibling",g)},prevUntil:function(o,c,g){return Ti(o,"previousSibling",g)},siblings:function(o){return qi((o.parentNode||{}).firstChild,o)},children:function(o){return qi(o.firstChild)},contents:function(o){return o.contentDocument!=null&&nt(o.contentDocument)?o.contentDocument:(Ae(o,"template")&&(o=o.content||o),M.merge([],o.childNodes))}},function(o,c){M.fn[o]=function(g,y){var P=M.map(this,c,g);return o.slice(-5)!=="Until"&&(y=g),y&&typeof y=="string"&&(P=M.filter(y,P)),this.length>1&&(dt[o]||M.uniqueSort(P),Mt.test(o)&&P.reverse()),this.pushStack(P)}});var Vt=/[^\x20\t\r\n\f]+/g;function ce(o){var c={};return M.each(o.match(Vt)||[],function(g,y){c[y]=!0}),c}M.Callbacks=function(o){o=typeof o=="string"?ce(o):M.extend({},o);var c,g,y,P,S=[],A=[],H=-1,z=function(){for(P=P||o.once,y=c=!0;A.length;H=-1)for(g=A.shift();++H<S.length;)S[H].apply(g[0],g[1])===!1&&o.stopOnFalse&&(H=S.length,g=!1);o.memory||(g=!1),c=!1,P&&(g?S=[]:S="")},Q={add:function(){return S&&(g&&!c&&(H=S.length-1,A.push(g)),function lt(ft){M.each(ft,function(tt,Tt){Ft(Tt)?(!o.unique||!Q.has(Tt))&&S.push(Tt):Tt&&Tt.length&&ki(Tt)!=="string"&&lt(Tt)})}(arguments),g&&!c&&z()),this},remove:function(){return M.each(arguments,function(lt,ft){for(var tt;(tt=M.inArray(ft,S,tt))>-1;)S.splice(tt,1),tt<=H&&H--}),this},has:function(lt){return lt?M.inArray(lt,S)>-1:S.length>0},empty:function(){return S&&(S=[]),this},disable:function(){return P=A=[],S=g="",this},disabled:function(){return!S},lock:function(){return P=A=[],!g&&!c&&(S=g=""),this},locked:function(){return!!P},fireWith:function(lt,ft){return P||(ft=ft||[],ft=[lt,ft.slice?ft.slice():ft],A.push(ft),c||z()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!y}};return Q};function re(o){return o}function Zt(o){throw o}function Me(o,c,g,y){var P;try{o&&Ft(P=o.promise)?P.call(o).done(c).fail(g):o&&Ft(P=o.then)?P.call(o,c,g):c.apply(void 0,[o].slice(y))}catch(S){g.apply(void 0,[S])}}M.extend({Deferred:function(o){var c=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],g="pending",y={state:function(){return g},always:function(){return P.done(arguments).fail(arguments),this},catch:function(S){return y.then(null,S)},pipe:function(){var S=arguments;return M.Deferred(function(A){M.each(c,function(H,z){var Q=Ft(S[z[4]])&&S[z[4]];P[z[1]](function(){var lt=Q&&Q.apply(this,arguments);lt&&Ft(lt.promise)?lt.promise().progress(A.notify).done(A.resolve).fail(A.reject):A[z[0]+"With"](this,Q?[lt]:arguments)})}),S=null}).promise()},then:function(S,A,H){var z=0;function Q(lt,ft,tt,Tt){return function(){var oe=this,Fe=arguments,ve=function(){var ui,Oi;if(!(lt<z)){if(ui=tt.apply(oe,Fe),ui===ft.promise())throw new TypeError("Thenable self-resolution");Oi=ui&&(typeof ui=="object"||typeof ui=="function")&&ui.then,Ft(Oi)?Tt?Oi.call(ui,Q(z,ft,re,Tt),Q(z,ft,Zt,Tt)):(z++,Oi.call(ui,Q(z,ft,re,Tt),Q(z,ft,Zt,Tt),Q(z,ft,re,ft.notifyWith))):(tt!==re&&(oe=void 0,Fe=[ui]),(Tt||ft.resolveWith)(oe,Fe))}},mi=Tt?ve:function(){try{ve()}catch(ui){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(ui,mi.error),lt+1>=z&&(tt!==Zt&&(oe=void 0,Fe=[ui]),ft.rejectWith(oe,Fe))}};lt?mi():(M.Deferred.getErrorHook?mi.error=M.Deferred.getErrorHook():M.Deferred.getStackHook&&(mi.error=M.Deferred.getStackHook()),J.setTimeout(mi))}}return M.Deferred(function(lt){c[0][3].add(Q(0,lt,Ft(H)?H:re,lt.notifyWith)),c[1][3].add(Q(0,lt,Ft(S)?S:re)),c[2][3].add(Q(0,lt,Ft(A)?A:Zt))}).promise()},promise:function(S){return S!=null?M.extend(S,y):y}},P={};return M.each(c,function(S,A){var H=A[2],z=A[5];y[A[1]]=H.add,z&&H.add(function(){g=z},c[3-S][2].disable,c[3-S][3].disable,c[0][2].lock,c[0][3].lock),H.add(A[3].fire),P[A[0]]=function(){return P[A[0]+"With"](this===P?void 0:this,arguments),this},P[A[0]+"With"]=H.fireWith}),y.promise(P),o&&o.call(P,P),P},when:function(o){var c=arguments.length,g=c,y=Array(g),P=ut.call(arguments),S=M.Deferred(),A=function(H){return function(z){y[H]=this,P[H]=arguments.length>1?ut.call(arguments):z,--c||S.resolveWith(y,P)}};if(c<=1&&(Me(o,S.done(A(g)).resolve,S.reject,!c),S.state()==="pending"||Ft(P[g]&&P[g].then)))return S.then();for(;g--;)Me(P[g],A(g),S.reject);return S.promise()}});var ge=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(o,c){J.console&&J.console.warn&&o&&ge.test(o.name)&&J.console.warn("jQuery.Deferred exception: "+o.message,o.stack,c)},M.readyException=function(o){J.setTimeout(function(){throw o})};var wt=M.Deferred();M.fn.ready=function(o){return wt.then(o).catch(function(c){M.readyException(c)}),this},M.extend({isReady:!1,readyWait:1,ready:function(o){(o===!0?--M.readyWait:M.isReady)||(M.isReady=!0,!(o!==!0&&--M.readyWait>0)&&wt.resolveWith(qt,[M]))}}),M.ready.then=wt.then;function Qe(){qt.removeEventListener("DOMContentLoaded",Qe),J.removeEventListener("load",Qe),M.ready()}qt.readyState==="complete"||qt.readyState!=="loading"&&!qt.documentElement.doScroll?J.setTimeout(M.ready):(qt.addEventListener("DOMContentLoaded",Qe),J.addEventListener("load",Qe));var Qt=function(o,c,g,y,P,S,A){var H=0,z=o.length,Q=g==null;if(ki(g)==="object"){P=!0;for(H in g)Qt(o,c,H,g[H],!0,S,A)}else if(y!==void 0&&(P=!0,Ft(y)||(A=!0),Q&&(A?(c.call(o,y),c=null):(Q=c,c=function(lt,ft,tt){return Q.call(M(lt),tt)})),c))for(;H<z;H++)c(o[H],g,A?y:y.call(o[H],H,c(o[H],g)));return P?o:Q?c.call(o):z?c(o[0],g):S},ji=/^-ms-/,Ui=/-([a-z])/g;function _i(o,c){return c.toUpperCase()}function Ii(o){return o.replace(ji,"ms-").replace(Ui,_i)}var Pi=function(o){return o.nodeType===1||o.nodeType===9||!+o.nodeType};function ra(){this.expando=M.expando+ra.uid++}ra.uid=1,ra.prototype={cache:function(o){var c=o[this.expando];return c||(c={},Pi(o)&&(o.nodeType?o[this.expando]=c:Object.defineProperty(o,this.expando,{value:c,configurable:!0}))),c},set:function(o,c,g){var y,P=this.cache(o);if(typeof c=="string")P[Ii(c)]=g;else for(y in c)P[Ii(y)]=c[y];return P},get:function(o,c){return c===void 0?this.cache(o):o[this.expando]&&o[this.expando][Ii(c)]},access:function(o,c,g){return c===void 0||c&&typeof c=="string"&&g===void 0?this.get(o,c):(this.set(o,c,g),g!==void 0?g:c)},remove:function(o,c){var g,y=o[this.expando];if(y!==void 0){if(c!==void 0)for(Array.isArray(c)?c=c.map(Ii):(c=Ii(c),c=c in y?[c]:c.match(Vt)||[]),g=c.length;g--;)delete y[c[g]];(c===void 0||M.isEmptyObject(y))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var c=o[this.expando];return c!==void 0&&!M.isEmptyObject(c)}};var Rt=new ra,fi=new ra,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pa=/[A-Z]/g;function Aa(o){return o==="true"?!0:o==="false"?!1:o==="null"?null:o===+o+""?+o:Re.test(o)?JSON.parse(o):o}function xa(o,c,g){var y;if(g===void 0&&o.nodeType===1)if(y="data-"+c.replace(pa,"-$&").toLowerCase(),g=o.getAttribute(y),typeof g=="string"){try{g=Aa(g)}catch{}fi.set(o,c,g)}else g=void 0;return g}M.extend({hasData:function(o){return fi.hasData(o)||Rt.hasData(o)},data:function(o,c,g){return fi.access(o,c,g)},removeData:function(o,c){fi.remove(o,c)},_data:function(o,c,g){return Rt.access(o,c,g)},_removeData:function(o,c){Rt.remove(o,c)}}),M.fn.extend({data:function(o,c){var g,y,P,S=this[0],A=S&&S.attributes;if(o===void 0){if(this.length&&(P=fi.get(S),S.nodeType===1&&!Rt.get(S,"hasDataAttrs"))){for(g=A.length;g--;)A[g]&&(y=A[g].name,y.indexOf("data-")===0&&(y=Ii(y.slice(5)),xa(S,y,P[y])));Rt.set(S,"hasDataAttrs",!0)}return P}return typeof o=="object"?this.each(function(){fi.set(this,o)}):Qt(this,function(H){var z;if(S&&H===void 0)return z=fi.get(S,o),z!==void 0||(z=xa(S,o),z!==void 0)?z:void 0;this.each(function(){fi.set(this,o,H)})},null,c,arguments.length>1,null,!0)},removeData:function(o){return this.each(function(){fi.remove(this,o)})}}),M.extend({queue:function(o,c,g){var y;if(o)return c=(c||"fx")+"queue",y=Rt.get(o,c),g&&(!y||Array.isArray(g)?y=Rt.access(o,c,M.makeArray(g)):y.push(g)),y||[]},dequeue:function(o,c){c=c||"fx";var g=M.queue(o,c),y=g.length,P=g.shift(),S=M._queueHooks(o,c),A=function(){M.dequeue(o,c)};P==="inprogress"&&(P=g.shift(),y--),P&&(c==="fx"&&g.unshift("inprogress"),delete S.stop,P.call(o,A,S)),!y&&S&&S.empty.fire()},_queueHooks:function(o,c){var g=c+"queueHooks";return Rt.get(o,g)||Rt.access(o,g,{empty:M.Callbacks("once memory").add(function(){Rt.remove(o,[c+"queue",g])})})}}),M.fn.extend({queue:function(o,c){var g=2;return typeof o!="string"&&(c=o,o="fx",g--),arguments.length<g?M.queue(this[0],o):c===void 0?this:this.each(function(){var y=M.queue(this,o,c);M._queueHooks(this,o),o==="fx"&&y[0]!=="inprogress"&&M.dequeue(this,o)})},dequeue:function(o){return this.each(function(){M.dequeue(this,o)})},clearQueue:function(o){return this.queue(o||"fx",[])},promise:function(o,c){var g,y=1,P=M.Deferred(),S=this,A=this.length,H=function(){--y||P.resolveWith(S,[S])};for(typeof o!="string"&&(c=o,o=void 0),o=o||"fx";A--;)g=Rt.get(S[A],o+"queueHooks"),g&&g.empty&&(y++,g.empty.add(H));return H(),P.promise(c)}});var la=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+la+")([a-z%]*)$","i"),Pe=["Top","Right","Bottom","Left"],Je=qt.documentElement,ta=function(o){return M.contains(o.ownerDocument,o)},Ba={composed:!0};Je.getRootNode&&(ta=function(o){return M.contains(o.ownerDocument,o)||o.getRootNode(Ba)===o.ownerDocument});var ha=function(o,c){return o=c||o,o.style.display==="none"||o.style.display===""&&ta(o)&&M.css(o,"display")==="none"};function v(o,c,g,y){var P,S,A=20,H=y?function(){return y.cur()}:function(){return M.css(o,c,"")},z=H(),Q=g&&g[3]||(M.cssNumber[c]?"":"px"),lt=o.nodeType&&(M.cssNumber[c]||Q!=="px"&&+z)&&Ue.exec(M.css(o,c));if(lt&&lt[3]!==Q){for(z=z/2,Q=Q||lt[3],lt=+z||1;A--;)M.style(o,c,lt+Q),(1-S)*(1-(S=H()/z||.5))<=0&&(A=0),lt=lt/S;lt=lt*2,M.style(o,c,lt+Q),g=g||[]}return g&&(lt=+lt||+z||0,P=g[1]?lt+(g[1]+1)*g[2]:+g[2],y&&(y.unit=Q,y.start=lt,y.end=P)),P}var T={};function L(o){var c,g=o.ownerDocument,y=o.nodeName,P=T[y];return P||(c=g.body.appendChild(g.createElement(y)),P=M.css(c,"display"),c.parentNode.removeChild(c),P==="none"&&(P="block"),T[y]=P,P)}function Z(o,c){for(var g,y,P=[],S=0,A=o.length;S<A;S++)y=o[S],y.style&&(g=y.style.display,c?(g==="none"&&(P[S]=Rt.get(y,"display")||null,P[S]||(y.style.display="")),y.style.display===""&&ha(y)&&(P[S]=L(y))):g!=="none"&&(P[S]="none",Rt.set(y,"display",g)));for(S=0;S<A;S++)P[S]!=null&&(o[S].style.display=P[S]);return o}M.fn.extend({show:function(){return Z(this,!0)},hide:function(){return Z(this)},toggle:function(o){return typeof o=="boolean"?o?this.show():this.hide():this.each(function(){ha(this)?M(this).show():M(this).hide()})}});var yt=/^(?:checkbox|radio)$/i,Ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,at=/^$|^module$|\/(?:java|ecma)script/i;(function(){var o=qt.createDocumentFragment(),c=o.appendChild(qt.createElement("div")),g=qt.createElement("input");g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),c.appendChild(g),Pt.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,c.innerHTML="<textarea>x</textarea>",Pt.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue,c.innerHTML="<option></option>",Pt.option=!!c.lastChild})();var Yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,Pt.option||(Yt.optgroup=Yt.option=[1,"<select multiple='multiple'>","</select>"]);function ye(o,c){var g;return typeof o.getElementsByTagName<"u"?g=o.getElementsByTagName(c||"*"):typeof o.querySelectorAll<"u"?g=o.querySelectorAll(c||"*"):g=[],c===void 0||c&&Ae(o,c)?M.merge([o],g):g}function Se(o,c){for(var g=0,y=o.length;g<y;g++)Rt.set(o[g],"globalEval",!c||Rt.get(c[g],"globalEval"))}var pi=/<|&#?\w+;/;function Xe(o,c,g,y,P){for(var S,A,H,z,Q,lt,ft=c.createDocumentFragment(),tt=[],Tt=0,oe=o.length;Tt<oe;Tt++)if(S=o[Tt],S||S===0)if(ki(S)==="object")M.merge(tt,S.nodeType?[S]:S);else if(!pi.test(S))tt.push(c.createTextNode(S));else{for(A=A||ft.appendChild(c.createElement("div")),H=(Ct.exec(S)||["",""])[1].toLowerCase(),z=Yt[H]||Yt._default,A.innerHTML=z[1]+M.htmlPrefilter(S)+z[2],lt=z[0];lt--;)A=A.lastChild;M.merge(tt,A.childNodes),A=ft.firstChild,A.textContent=""}for(ft.textContent="",Tt=0;S=tt[Tt++];){if(y&&M.inArray(S,y)>-1){P&&P.push(S);continue}if(Q=ta(S),A=ye(ft.appendChild(S),"script"),Q&&Se(A),g)for(lt=0;S=A[lt++];)at.test(S.type||"")&&g.push(S)}return ft}var Ze=/^([^.]*)(?:\.(.+)|)/;function Le(){return!0}function Ge(){return!1}function ii(o,c,g,y,P,S){var A,H;if(typeof c=="object"){typeof g!="string"&&(y=y||g,g=void 0);for(H in c)ii(o,H,g,y,c[H],S);return o}if(y==null&&P==null?(P=g,y=g=void 0):P==null&&(typeof g=="string"?(P=y,y=void 0):(P=y,y=g,g=void 0)),P===!1)P=Ge;else if(!P)return o;return S===1&&(A=P,P=function(z){return M().off(z),A.apply(this,arguments)},P.guid=A.guid||(A.guid=M.guid++)),o.each(function(){M.event.add(this,c,P,y,g)})}M.event={global:{},add:function(o,c,g,y,P){var S,A,H,z,Q,lt,ft,tt,Tt,oe,Fe,ve=Rt.get(o);if(Pi(o))for(g.handler&&(S=g,g=S.handler,P=S.selector),P&&M.find.matchesSelector(Je,P),g.guid||(g.guid=M.guid++),(z=ve.events)||(z=ve.events=Object.create(null)),(A=ve.handle)||(A=ve.handle=function(mi){return typeof M<"u"&&M.event.triggered!==mi.type?M.event.dispatch.apply(o,arguments):void 0}),c=(c||"").match(Vt)||[""],Q=c.length;Q--;)H=Ze.exec(c[Q])||[],Tt=Fe=H[1],oe=(H[2]||"").split(".").sort(),Tt&&(ft=M.event.special[Tt]||{},Tt=(P?ft.delegateType:ft.bindType)||Tt,ft=M.event.special[Tt]||{},lt=M.extend({type:Tt,origType:Fe,data:y,handler:g,guid:g.guid,selector:P,needsContext:P&&M.expr.match.needsContext.test(P),namespace:oe.join(".")},S),(tt=z[Tt])||(tt=z[Tt]=[],tt.delegateCount=0,(!ft.setup||ft.setup.call(o,y,oe,A)===!1)&&o.addEventListener&&o.addEventListener(Tt,A)),ft.add&&(ft.add.call(o,lt),lt.handler.guid||(lt.handler.guid=g.guid)),P?tt.splice(tt.delegateCount++,0,lt):tt.push(lt),M.event.global[Tt]=!0)},remove:function(o,c,g,y,P){var S,A,H,z,Q,lt,ft,tt,Tt,oe,Fe,ve=Rt.hasData(o)&&Rt.get(o);if(!(!ve||!(z=ve.events))){for(c=(c||"").match(Vt)||[""],Q=c.length;Q--;){if(H=Ze.exec(c[Q])||[],Tt=Fe=H[1],oe=(H[2]||"").split(".").sort(),!Tt){for(Tt in z)M.event.remove(o,Tt+c[Q],g,y,!0);continue}for(ft=M.event.special[Tt]||{},Tt=(y?ft.delegateType:ft.bindType)||Tt,tt=z[Tt]||[],H=H[2]&&new RegExp("(^|\\.)"+oe.join("\\.(?:.*\\.|)")+"(\\.|$)"),A=S=tt.length;S--;)lt=tt[S],(P||Fe===lt.origType)&&(!g||g.guid===lt.guid)&&(!H||H.test(lt.namespace))&&(!y||y===lt.selector||y==="**"&&lt.selector)&&(tt.splice(S,1),lt.selector&&tt.delegateCount--,ft.remove&&ft.remove.call(o,lt));A&&!tt.length&&((!ft.teardown||ft.teardown.call(o,oe,ve.handle)===!1)&&M.removeEvent(o,Tt,ve.handle),delete z[Tt])}M.isEmptyObject(z)&&Rt.remove(o,"handle events")}},dispatch:function(o){var c,g,y,P,S,A,H=new Array(arguments.length),z=M.event.fix(o),Q=(Rt.get(this,"events")||Object.create(null))[z.type]||[],lt=M.event.special[z.type]||{};for(H[0]=z,c=1;c<arguments.length;c++)H[c]=arguments[c];if(z.delegateTarget=this,!(lt.preDispatch&&lt.preDispatch.call(this,z)===!1)){for(A=M.event.handlers.call(this,z,Q),c=0;(P=A[c++])&&!z.isPropagationStopped();)for(z.currentTarget=P.elem,g=0;(S=P.handlers[g++])&&!z.isImmediatePropagationStopped();)(!z.rnamespace||S.namespace===!1||z.rnamespace.test(S.namespace))&&(z.handleObj=S,z.data=S.data,y=((M.event.special[S.origType]||{}).handle||S.handler).apply(P.elem,H),y!==void 0&&(z.result=y)===!1&&(z.preventDefault(),z.stopPropagation()));return lt.postDispatch&&lt.postDispatch.call(this,z),z.result}},handlers:function(o,c){var g,y,P,S,A,H=[],z=c.delegateCount,Q=o.target;if(z&&Q.nodeType&&!(o.type==="click"&&o.button>=1)){for(;Q!==this;Q=Q.parentNode||this)if(Q.nodeType===1&&!(o.type==="click"&&Q.disabled===!0)){for(S=[],A={},g=0;g<z;g++)y=c[g],P=y.selector+" ",A[P]===void 0&&(A[P]=y.needsContext?M(P,this).index(Q)>-1:M.find(P,this,null,[Q]).length),A[P]&&S.push(y);S.length&&H.push({elem:Q,handlers:S})}}return Q=this,z<c.length&&H.push({elem:Q,handlers:c.slice(z)}),H},addProp:function(o,c){Object.defineProperty(M.Event.prototype,o,{enumerable:!0,configurable:!0,get:Ft(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(g){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(o){return o[M.expando]?o:new M.Event(o)},special:{load:{noBubble:!0},click:{setup:function(o){var c=this||o;return yt.test(c.type)&&c.click&&Ae(c,"input")&&Xt(c,"click",!0),!1},trigger:function(o){var c=this||o;return yt.test(c.type)&&c.click&&Ae(c,"input")&&Xt(c,"click"),!0},_default:function(o){var c=o.target;return yt.test(c.type)&&c.click&&Ae(c,"input")&&Rt.get(c,"click")||Ae(c,"a")}},beforeunload:{postDispatch:function(o){o.result!==void 0&&o.originalEvent&&(o.originalEvent.returnValue=o.result)}}}};function Xt(o,c,g){if(!g){Rt.get(o,c)===void 0&&M.event.add(o,c,Le);return}Rt.set(o,c,!1),M.event.add(o,c,{namespace:!1,handler:function(y){var P,S=Rt.get(this,c);if(y.isTrigger&1&&this[c]){if(S)(M.event.special[c]||{}).delegateType&&y.stopPropagation();else if(S=ut.call(arguments),Rt.set(this,c,S),this[c](),P=Rt.get(this,c),Rt.set(this,c,!1),S!==P)return y.stopImmediatePropagation(),y.preventDefault(),P}else S&&(Rt.set(this,c,M.event.trigger(S[0],S.slice(1),this)),y.stopPropagation(),y.isImmediatePropagationStopped=Le)}})}M.removeEvent=function(o,c,g){o.removeEventListener&&o.removeEventListener(c,g)},M.Event=function(o,c){if(!(this instanceof M.Event))return new M.Event(o,c);o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||o.defaultPrevented===void 0&&o.returnValue===!1?Le:Ge,this.target=o.target&&o.target.nodeType===3?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,c&&M.extend(this,c),this.timeStamp=o&&o.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:Ge,isPropagationStopped:Ge,isImmediatePropagationStopped:Ge,isSimulated:!1,preventDefault:function(){var o=this.originalEvent;this.isDefaultPrevented=Le,o&&!this.isSimulated&&o.preventDefault()},stopPropagation:function(){var o=this.originalEvent;this.isPropagationStopped=Le,o&&!this.isSimulated&&o.stopPropagation()},stopImmediatePropagation:function(){var o=this.originalEvent;this.isImmediatePropagationStopped=Le,o&&!this.isSimulated&&o.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},M.event.addProp),M.each({focus:"focusin",blur:"focusout"},function(o,c){function g(y){if(qt.documentMode){var P=Rt.get(this,"handle"),S=M.event.fix(y);S.type=y.type==="focusin"?"focus":"blur",S.isSimulated=!0,P(y),S.target===S.currentTarget&&P(S)}else M.event.simulate(c,y.target,M.event.fix(y))}M.event.special[o]={setup:function(){var y;if(Xt(this,o,!0),qt.documentMode)y=Rt.get(this,c),y||this.addEventListener(c,g),Rt.set(this,c,(y||0)+1);else return!1},trigger:function(){return Xt(this,o),!0},teardown:function(){var y;if(qt.documentMode)y=Rt.get(this,c)-1,y?Rt.set(this,c,y):(this.removeEventListener(c,g),Rt.remove(this,c));else return!1},_default:function(y){return Rt.get(y.target,o)},delegateType:c},M.event.special[c]={setup:function(){var y=this.ownerDocument||this.document||this,P=qt.documentMode?this:y,S=Rt.get(P,c);S||(qt.documentMode?this.addEventListener(c,g):y.addEventListener(o,g,!0)),Rt.set(P,c,(S||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,P=qt.documentMode?this:y,S=Rt.get(P,c)-1;S?Rt.set(P,c,S):(qt.documentMode?this.removeEventListener(c,g):y.removeEventListener(o,g,!0),Rt.remove(P,c))}}}),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(o,c){M.event.special[o]={delegateType:c,bindType:c,handle:function(g){var y,P=this,S=g.relatedTarget,A=g.handleObj;return(!S||S!==P&&!M.contains(P,S))&&(g.type=A.origType,y=A.handler.apply(this,arguments),g.type=c),y}}}),M.fn.extend({on:function(o,c,g,y){return ii(this,o,c,g,y)},one:function(o,c,g,y){return ii(this,o,c,g,y,1)},off:function(o,c,g){var y,P;if(o&&o.preventDefault&&o.handleObj)return y=o.handleObj,M(o.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if(typeof o=="object"){for(P in o)this.off(P,c,o[P]);return this}return(c===!1||typeof c=="function")&&(g=c,c=void 0),g===!1&&(g=Ge),this.each(function(){M.event.remove(this,o,g,c)})}});var Ie=/<script|<style|<link/i,t=/checked\s*(?:[^=]|=\s*.checked.)/i,n=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function i(o,c){return Ae(o,"table")&&Ae(c.nodeType!==11?c:c.firstChild,"tr")&&M(o).children("tbody")[0]||o}function e(o){return o.type=(o.getAttribute("type")!==null)+"/"+o.type,o}function a(o){return(o.type||"").slice(0,5)==="true/"?o.type=o.type.slice(5):o.removeAttribute("type"),o}function r(o,c){var g,y,P,S,A,H,z;if(c.nodeType===1){if(Rt.hasData(o)&&(S=Rt.get(o),z=S.events,z)){Rt.remove(c,"handle events");for(P in z)for(g=0,y=z[P].length;g<y;g++)M.event.add(c,P,z[P][g])}fi.hasData(o)&&(A=fi.access(o),H=M.extend({},A),fi.set(c,H))}}function l(o,c){var g=c.nodeName.toLowerCase();g==="input"&&yt.test(o.type)?c.checked=o.checked:(g==="input"||g==="textarea")&&(c.defaultValue=o.defaultValue)}function x(o,c,g,y){c=vt(c);var P,S,A,H,z,Q,lt=0,ft=o.length,tt=ft-1,Tt=c[0],oe=Ft(Tt);if(oe||ft>1&&typeof Tt=="string"&&!Pt.checkClone&&t.test(Tt))return o.each(function(Fe){var ve=o.eq(Fe);oe&&(c[0]=Tt.call(this,Fe,ve.html())),x(ve,c,g,y)});if(ft&&(P=Xe(c,o[0].ownerDocument,!1,o,y),S=P.firstChild,P.childNodes.length===1&&(P=S),S||y)){for(A=M.map(ye(P,"script"),e),H=A.length;lt<ft;lt++)z=P,lt!==tt&&(z=M.clone(z,!0,!0),H&&M.merge(A,ye(z,"script"))),g.call(o[lt],z,lt);if(H)for(Q=A[A.length-1].ownerDocument,M.map(A,a),lt=0;lt<H;lt++)z=A[lt],at.test(z.type||"")&&!Rt.access(z,"globalEval")&&M.contains(Q,z)&&(z.src&&(z.type||"").toLowerCase()!=="module"?M._evalUrl&&!z.noModule&&M._evalUrl(z.src,{nonce:z.nonce||z.getAttribute("nonce")},Q):Bi(z.textContent.replace(n,""),z,Q))}return o}function m(o,c,g){for(var y,P=c?M.filter(c,o):o,S=0;(y=P[S])!=null;S++)!g&&y.nodeType===1&&M.cleanData(ye(y)),y.parentNode&&(g&&ta(y)&&Se(ye(y,"script")),y.parentNode.removeChild(y));return o}M.extend({htmlPrefilter:function(o){return o},clone:function(o,c,g){var y,P,S,A,H=o.cloneNode(!0),z=ta(o);if(!Pt.noCloneChecked&&(o.nodeType===1||o.nodeType===11)&&!M.isXMLDoc(o))for(A=ye(H),S=ye(o),y=0,P=S.length;y<P;y++)l(S[y],A[y]);if(c)if(g)for(S=S||ye(o),A=A||ye(H),y=0,P=S.length;y<P;y++)r(S[y],A[y]);else r(o,H);return A=ye(H,"script"),A.length>0&&Se(A,!z&&ye(o,"script")),H},cleanData:function(o){for(var c,g,y,P=M.event.special,S=0;(g=o[S])!==void 0;S++)if(Pi(g)){if(c=g[Rt.expando]){if(c.events)for(y in c.events)P[y]?M.event.remove(g,y):M.removeEvent(g,y,c.handle);g[Rt.expando]=void 0}g[fi.expando]&&(g[fi.expando]=void 0)}}}),M.fn.extend({detach:function(o){return m(this,o,!0)},remove:function(o){return m(this,o)},text:function(o){return Qt(this,function(c){return c===void 0?M.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=c)})},null,o,arguments.length)},append:function(){return x(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var c=i(this,o);c.appendChild(o)}})},prepend:function(){return x(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var c=i(this,o);c.insertBefore(o,c.firstChild)}})},before:function(){return x(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this)})},after:function(){return x(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling)})},empty:function(){for(var o,c=0;(o=this[c])!=null;c++)o.nodeType===1&&(M.cleanData(ye(o,!1)),o.textContent="");return this},clone:function(o,c){return o=o??!1,c=c??o,this.map(function(){return M.clone(this,o,c)})},html:function(o){return Qt(this,function(c){var g=this[0]||{},y=0,P=this.length;if(c===void 0&&g.nodeType===1)return g.innerHTML;if(typeof c=="string"&&!Ie.test(c)&&!Yt[(Ct.exec(c)||["",""])[1].toLowerCase()]){c=M.htmlPrefilter(c);try{for(;y<P;y++)g=this[y]||{},g.nodeType===1&&(M.cleanData(ye(g,!1)),g.innerHTML=c);g=0}catch{}}g&&this.empty().append(c)},null,o,arguments.length)},replaceWith:function(){var o=[];return x(this,arguments,function(c){var g=this.parentNode;M.inArray(this,o)<0&&(M.cleanData(ye(this)),g&&g.replaceChild(c,this))},o)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,c){M.fn[o]=function(g){for(var y,P=[],S=M(g),A=S.length-1,H=0;H<=A;H++)y=H===A?this:this.clone(!0),M(S[H])[c](y),It.apply(P,y.get());return this.pushStack(P)}});var u=new RegExp("^("+la+")(?!px)[a-z%]+$","i"),d=/^--/,h=function(o){var c=o.ownerDocument.defaultView;return(!c||!c.opener)&&(c=J),c.getComputedStyle(o)},p=function(o,c,g){var y,P,S={};for(P in c)S[P]=o.style[P],o.style[P]=c[P];y=g.call(o);for(P in c)o.style[P]=S[P];return y},s=new RegExp(Pe.join("|"),"i");(function(){function o(){if(Q){z.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(z).appendChild(Q);var lt=J.getComputedStyle(Q);g=lt.top!=="1%",H=c(lt.marginLeft)===12,Q.style.right="60%",S=c(lt.right)===36,y=c(lt.width)===36,Q.style.position="absolute",P=c(Q.offsetWidth/3)===12,Je.removeChild(z),Q=null}}function c(lt){return Math.round(parseFloat(lt))}var g,y,P,S,A,H,z=qt.createElement("div"),Q=qt.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",Pt.clearCloneStyle=Q.style.backgroundClip==="content-box",M.extend(Pt,{boxSizingReliable:function(){return o(),y},pixelBoxStyles:function(){return o(),S},pixelPosition:function(){return o(),g},reliableMarginLeft:function(){return o(),H},scrollboxSize:function(){return o(),P},reliableTrDimensions:function(){var lt,ft,tt,Tt;return A==null&&(lt=qt.createElement("table"),ft=qt.createElement("tr"),tt=qt.createElement("div"),lt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ft.style.cssText="box-sizing:content-box;border:1px solid",ft.style.height="1px",tt.style.height="9px",tt.style.display="block",Je.appendChild(lt).appendChild(ft).appendChild(tt),Tt=J.getComputedStyle(ft),A=parseInt(Tt.height,10)+parseInt(Tt.borderTopWidth,10)+parseInt(Tt.borderBottomWidth,10)===ft.offsetHeight,Je.removeChild(lt)),A}}))})();function b(o,c,g){var y,P,S,A,H=d.test(c),z=o.style;return g=g||h(o),g&&(A=g.getPropertyValue(c)||g[c],H&&A&&(A=A.replace(Be,"$1")||void 0),A===""&&!ta(o)&&(A=M.style(o,c)),!Pt.pixelBoxStyles()&&u.test(A)&&s.test(c)&&(y=z.width,P=z.minWidth,S=z.maxWidth,z.minWidth=z.maxWidth=z.width=A,A=g.width,z.width=y,z.minWidth=P,z.maxWidth=S)),A!==void 0?A+"":A}function k(o,c){return{get:function(){if(o()){delete this.get;return}return(this.get=c).apply(this,arguments)}}}var w=["Webkit","Moz","ms"],f=qt.createElement("div").style,_={};function C(o){for(var c=o[0].toUpperCase()+o.slice(1),g=w.length;g--;)if(o=w[g]+c,o in f)return o}function E(o){var c=M.cssProps[o]||_[o];return c||(o in f?o:_[o]=C(o)||o)}var D=/^(none|table(?!-c[ea]).+)/,V={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function xt(o,c,g){var y=Ue.exec(c);return y?Math.max(0,y[2]-(g||0))+(y[3]||"px"):c}function U(o,c,g,y,P,S){var A=c==="width"?1:0,H=0,z=0,Q=0;if(g===(y?"border":"content"))return 0;for(;A<4;A+=2)g==="margin"&&(Q+=M.css(o,g+Pe[A],!0,P)),y?(g==="content"&&(z-=M.css(o,"padding"+Pe[A],!0,P)),g!=="margin"&&(z-=M.css(o,"border"+Pe[A]+"Width",!0,P))):(z+=M.css(o,"padding"+Pe[A],!0,P),g!=="padding"?z+=M.css(o,"border"+Pe[A]+"Width",!0,P):H+=M.css(o,"border"+Pe[A]+"Width",!0,P));return!y&&S>=0&&(z+=Math.max(0,Math.ceil(o["offset"+c[0].toUpperCase()+c.slice(1)]-S-z-H-.5))||0),z+Q}function K(o,c,g){var y=h(o),P=!Pt.boxSizingReliable()||g,S=P&&M.css(o,"boxSizing",!1,y)==="border-box",A=S,H=b(o,c,y),z="offset"+c[0].toUpperCase()+c.slice(1);if(u.test(H)){if(!g)return H;H="auto"}return(!Pt.boxSizingReliable()&&S||!Pt.reliableTrDimensions()&&Ae(o,"tr")||H==="auto"||!parseFloat(H)&&M.css(o,"display",!1,y)==="inline")&&o.getClientRects().length&&(S=M.css(o,"boxSizing",!1,y)==="border-box",A=z in o,A&&(H=o[z])),H=parseFloat(H)||0,H+U(o,c,g||(S?"border":"content"),A,y,H)+"px"}M.extend({cssHooks:{opacity:{get:function(o,c){if(c){var g=b(o,"opacity");return g===""?"1":g}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(o,c,g,y){if(!(!o||o.nodeType===3||o.nodeType===8||!o.style)){var P,S,A,H=Ii(c),z=d.test(c),Q=o.style;if(z||(c=E(H)),A=M.cssHooks[c]||M.cssHooks[H],g!==void 0){if(S=typeof g,S==="string"&&(P=Ue.exec(g))&&P[1]&&(g=v(o,c,P),S="number"),g==null||g!==g)return;S==="number"&&!z&&(g+=P&&P[3]||(M.cssNumber[H]?"":"px")),!Pt.clearCloneStyle&&g===""&&c.indexOf("background")===0&&(Q[c]="inherit"),(!A||!("set"in A)||(g=A.set(o,g,y))!==void 0)&&(z?Q.setProperty(c,g):Q[c]=g)}else return A&&"get"in A&&(P=A.get(o,!1,y))!==void 0?P:Q[c]}},css:function(o,c,g,y){var P,S,A,H=Ii(c),z=d.test(c);return z||(c=E(H)),A=M.cssHooks[c]||M.cssHooks[H],A&&"get"in A&&(P=A.get(o,!0,g)),P===void 0&&(P=b(o,c,y)),P==="normal"&&c in et&&(P=et[c]),g===""||g?(S=parseFloat(P),g===!0||isFinite(S)?S||0:P):P}}),M.each(["height","width"],function(o,c){M.cssHooks[c]={get:function(g,y,P){if(y)return D.test(M.css(g,"display"))&&(!g.getClientRects().length||!g.getBoundingClientRect().width)?p(g,V,function(){return K(g,c,P)}):K(g,c,P)},set:function(g,y,P){var S,A=h(g),H=!Pt.scrollboxSize()&&A.position==="absolute",z=H||P,Q=z&&M.css(g,"boxSizing",!1,A)==="border-box",lt=P?U(g,c,P,Q,A):0;return Q&&H&&(lt-=Math.ceil(g["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(A[c])-U(g,c,"border",!1,A)-.5)),lt&&(S=Ue.exec(y))&&(S[3]||"px")!=="px"&&(g.style[c]=y,y=M.css(g,c)),xt(g,y,lt)}}}),M.cssHooks.marginLeft=k(Pt.reliableMarginLeft,function(o,c){if(c)return(parseFloat(b(o,"marginLeft"))||o.getBoundingClientRect().left-p(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(o,c){M.cssHooks[o+c]={expand:function(g){for(var y=0,P={},S=typeof g=="string"?g.split(" "):[g];y<4;y++)P[o+Pe[y]+c]=S[y]||S[y-2]||S[0];return P}},o!=="margin"&&(M.cssHooks[o+c].set=xt)}),M.fn.extend({css:function(o,c){return Qt(this,function(g,y,P){var S,A,H={},z=0;if(Array.isArray(y)){for(S=h(g),A=y.length;z<A;z++)H[y[z]]=M.css(g,y[z],!1,S);return H}return P!==void 0?M.style(g,y,P):M.css(g,y)},o,c,arguments.length>1)}});function j(o,c,g,y,P){return new j.prototype.init(o,c,g,y,P)}M.Tween=j,j.prototype={constructor:j,init:function(o,c,g,y,P,S){this.elem=o,this.prop=g,this.easing=P||M.easing._default,this.options=c,this.start=this.now=this.cur(),this.end=y,this.unit=S||(M.cssNumber[g]?"":"px")},cur:function(){var o=j.propHooks[this.prop];return o&&o.get?o.get(this):j.propHooks._default.get(this)},run:function(o){var c,g=j.propHooks[this.prop];return this.options.duration?this.pos=c=M.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):this.pos=c=o,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(o){var c;return o.elem.nodeType!==1||o.elem[o.prop]!=null&&o.elem.style[o.prop]==null?o.elem[o.prop]:(c=M.css(o.elem,o.prop,""),!c||c==="auto"?0:c)},set:function(o){M.fx.step[o.prop]?M.fx.step[o.prop](o):o.elem.nodeType===1&&(M.cssHooks[o.prop]||o.elem.style[E(o.prop)]!=null)?M.style(o.elem,o.prop,o.now+o.unit):o.elem[o.prop]=o.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(o){o.elem.nodeType&&o.elem.parentNode&&(o.elem[o.prop]=o.now)}},M.easing={linear:function(o){return o},swing:function(o){return .5-Math.cos(o*Math.PI)/2},_default:"swing"},M.fx=j.prototype.init,M.fx.step={};var N,F,G=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function Y(){F&&(qt.hidden===!1&&J.requestAnimationFrame?J.requestAnimationFrame(Y):J.setTimeout(Y,M.fx.interval),M.fx.tick())}function $t(){return J.setTimeout(function(){N=void 0}),N=Date.now()}function pe(o,c){var g,y=0,P={height:o};for(c=c?1:0;y<4;y+=2-c)g=Pe[y],P["margin"+g]=P["padding"+g]=o;return c&&(P.opacity=P.width=o),P}function be(o,c,g){for(var y,P=(we.tweeners[c]||[]).concat(we.tweeners["*"]),S=0,A=P.length;S<A;S++)if(y=P[S].call(g,c,o))return y}function me(o,c,g){var y,P,S,A,H,z,Q,lt,ft="width"in c||"height"in c,tt=this,Tt={},oe=o.style,Fe=o.nodeType&&ha(o),ve=Rt.get(o,"fxshow");g.queue||(A=M._queueHooks(o,"fx"),A.unqueued==null&&(A.unqueued=0,H=A.empty.fire,A.empty.fire=function(){A.unqueued||H()}),A.unqueued++,tt.always(function(){tt.always(function(){A.unqueued--,M.queue(o,"fx").length||A.empty.fire()})}));for(y in c)if(P=c[y],G.test(P)){if(delete c[y],S=S||P==="toggle",P===(Fe?"hide":"show"))if(P==="show"&&ve&&ve[y]!==void 0)Fe=!0;else continue;Tt[y]=ve&&ve[y]||M.style(o,y)}if(z=!M.isEmptyObject(c),!(!z&&M.isEmptyObject(Tt))){ft&&o.nodeType===1&&(g.overflow=[oe.overflow,oe.overflowX,oe.overflowY],Q=ve&&ve.display,Q==null&&(Q=Rt.get(o,"display")),lt=M.css(o,"display"),lt==="none"&&(Q?lt=Q:(Z([o],!0),Q=o.style.display||Q,lt=M.css(o,"display"),Z([o]))),(lt==="inline"||lt==="inline-block"&&Q!=null)&&M.css(o,"float")==="none"&&(z||(tt.done(function(){oe.display=Q}),Q==null&&(lt=oe.display,Q=lt==="none"?"":lt)),oe.display="inline-block")),g.overflow&&(oe.overflow="hidden",tt.always(function(){oe.overflow=g.overflow[0],oe.overflowX=g.overflow[1],oe.overflowY=g.overflow[2]})),z=!1;for(y in Tt)z||(ve?"hidden"in ve&&(Fe=ve.hidden):ve=Rt.access(o,"fxshow",{display:Q}),S&&(ve.hidden=!Fe),Fe&&Z([o],!0),tt.done(function(){Fe||Z([o]),Rt.remove(o,"fxshow");for(y in Tt)M.style(o,y,Tt[y])})),z=be(Fe?ve[y]:0,y,tt),y in ve||(ve[y]=z.start,Fe&&(z.end=z.start,z.start=0))}}function ie(o,c){var g,y,P,S,A;for(g in o)if(y=Ii(g),P=c[y],S=o[g],Array.isArray(S)&&(P=S[1],S=o[g]=S[0]),g!==y&&(o[y]=S,delete o[g]),A=M.cssHooks[y],A&&"expand"in A){S=A.expand(S),delete o[y];for(g in S)g in o||(o[g]=S[g],c[g]=P)}else c[y]=P}function we(o,c,g){var y,P,S=0,A=we.prefilters.length,H=M.Deferred().always(function(){delete z.elem}),z=function(){if(P)return!1;for(var ft=N||$t(),tt=Math.max(0,Q.startTime+Q.duration-ft),Tt=tt/Q.duration||0,oe=1-Tt,Fe=0,ve=Q.tweens.length;Fe<ve;Fe++)Q.tweens[Fe].run(oe);return H.notifyWith(o,[Q,oe,tt]),oe<1&&ve?tt:(ve||H.notifyWith(o,[Q,1,0]),H.resolveWith(o,[Q]),!1)},Q=H.promise({elem:o,props:M.extend({},c),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},g),originalProperties:c,originalOptions:g,startTime:N||$t(),duration:g.duration,tweens:[],createTween:function(ft,tt){var Tt=M.Tween(o,Q.opts,ft,tt,Q.opts.specialEasing[ft]||Q.opts.easing);return Q.tweens.push(Tt),Tt},stop:function(ft){var tt=0,Tt=ft?Q.tweens.length:0;if(P)return this;for(P=!0;tt<Tt;tt++)Q.tweens[tt].run(1);return ft?(H.notifyWith(o,[Q,1,0]),H.resolveWith(o,[Q,ft])):H.rejectWith(o,[Q,ft]),this}}),lt=Q.props;for(ie(lt,Q.opts.specialEasing);S<A;S++)if(y=we.prefilters[S].call(Q,o,lt,Q.opts),y)return Ft(y.stop)&&(M._queueHooks(Q.elem,Q.opts.queue).stop=y.stop.bind(y)),y;return M.map(lt,be,Q),Ft(Q.opts.start)&&Q.opts.start.call(o,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),M.fx.timer(M.extend(z,{elem:o,anim:Q,queue:Q.opts.queue})),Q}M.Animation=M.extend(we,{tweeners:{"*":[function(o,c){var g=this.createTween(o,c);return v(g.elem,o,Ue.exec(c),g),g}]},tweener:function(o,c){Ft(o)?(c=o,o=["*"]):o=o.match(Vt);for(var g,y=0,P=o.length;y<P;y++)g=o[y],we.tweeners[g]=we.tweeners[g]||[],we.tweeners[g].unshift(c)},prefilters:[me],prefilter:function(o,c){c?we.prefilters.unshift(o):we.prefilters.push(o)}}),M.speed=function(o,c,g){var y=o&&typeof o=="object"?M.extend({},o):{complete:g||!g&&c||Ft(o)&&o,duration:o,easing:g&&c||c&&!Ft(c)&&c};return M.fx.off?y.duration=0:typeof y.duration!="number"&&(y.duration in M.fx.speeds?y.duration=M.fx.speeds[y.duration]:y.duration=M.fx.speeds._default),(y.queue==null||y.queue===!0)&&(y.queue="fx"),y.old=y.complete,y.complete=function(){Ft(y.old)&&y.old.call(this),y.queue&&M.dequeue(this,y.queue)},y},M.fn.extend({fadeTo:function(o,c,g,y){return this.filter(ha).css("opacity",0).show().end().animate({opacity:c},o,g,y)},animate:function(o,c,g,y){var P=M.isEmptyObject(o),S=M.speed(c,g,y),A=function(){var H=we(this,M.extend({},o),S);(P||Rt.get(this,"finish"))&&H.stop(!0)};return A.finish=A,P||S.queue===!1?this.each(A):this.queue(S.queue,A)},stop:function(o,c,g){var y=function(P){var S=P.stop;delete P.stop,S(g)};return typeof o!="string"&&(g=c,c=o,o=void 0),c&&this.queue(o||"fx",[]),this.each(function(){var P=!0,S=o!=null&&o+"queueHooks",A=M.timers,H=Rt.get(this);if(S)H[S]&&H[S].stop&&y(H[S]);else for(S in H)H[S]&&H[S].stop&&ct.test(S)&&y(H[S]);for(S=A.length;S--;)A[S].elem===this&&(o==null||A[S].queue===o)&&(A[S].anim.stop(g),P=!1,A.splice(S,1));(P||!g)&&M.dequeue(this,o)})},finish:function(o){return o!==!1&&(o=o||"fx"),this.each(function(){var c,g=Rt.get(this),y=g[o+"queue"],P=g[o+"queueHooks"],S=M.timers,A=y?y.length:0;for(g.finish=!0,M.queue(this,o,[]),P&&P.stop&&P.stop.call(this,!0),c=S.length;c--;)S[c].elem===this&&S[c].queue===o&&(S[c].anim.stop(!0),S.splice(c,1));for(c=0;c<A;c++)y[c]&&y[c].finish&&y[c].finish.call(this);delete g.finish})}}),M.each(["toggle","show","hide"],function(o,c){var g=M.fn[c];M.fn[c]=function(y,P,S){return y==null||typeof y=="boolean"?g.apply(this,arguments):this.animate(pe(c,!0),y,P,S)}}),M.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(o,c){M.fn[o]=function(g,y,P){return this.animate(c,g,y,P)}}),M.timers=[],M.fx.tick=function(){var o,c=0,g=M.timers;for(N=Date.now();c<g.length;c++)o=g[c],!o()&&g[c]===o&&g.splice(c--,1);g.length||M.fx.stop(),N=void 0},M.fx.timer=function(o){M.timers.push(o),M.fx.start()},M.fx.interval=13,M.fx.start=function(){F||(F=!0,Y())},M.fx.stop=function(){F=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(o,c){return o=M.fx&&M.fx.speeds[o]||o,c=c||"fx",this.queue(c,function(g,y){var P=J.setTimeout(g,o);y.stop=function(){J.clearTimeout(P)}})},function(){var o=qt.createElement("input"),c=qt.createElement("select"),g=c.appendChild(qt.createElement("option"));o.type="checkbox",Pt.checkOn=o.value!=="",Pt.optSelected=g.selected,o=qt.createElement("input"),o.value="t",o.type="radio",Pt.radioValue=o.value==="t"}();var le,te=M.expr.attrHandle;M.fn.extend({attr:function(o,c){return Qt(this,M.attr,o,c,arguments.length>1)},removeAttr:function(o){return this.each(function(){M.removeAttr(this,o)})}}),M.extend({attr:function(o,c,g){var y,P,S=o.nodeType;if(!(S===3||S===8||S===2)){if(typeof o.getAttribute>"u")return M.prop(o,c,g);if((S!==1||!M.isXMLDoc(o))&&(P=M.attrHooks[c.toLowerCase()]||(M.expr.match.bool.test(c)?le:void 0)),g!==void 0){if(g===null){M.removeAttr(o,c);return}return P&&"set"in P&&(y=P.set(o,g,c))!==void 0?y:(o.setAttribute(c,g+""),g)}return P&&"get"in P&&(y=P.get(o,c))!==null?y:(y=M.find.attr(o,c),y??void 0)}},attrHooks:{type:{set:function(o,c){if(!Pt.radioValue&&c==="radio"&&Ae(o,"input")){var g=o.value;return o.setAttribute("type",c),g&&(o.value=g),c}}}},removeAttr:function(o,c){var g,y=0,P=c&&c.match(Vt);if(P&&o.nodeType===1)for(;g=P[y++];)o.removeAttribute(g)}}),le={set:function(o,c,g){return c===!1?M.removeAttr(o,g):o.setAttribute(g,g),g}},M.each(M.expr.match.bool.source.match(/\w+/g),function(o,c){var g=te[c]||M.find.attr;te[c]=function(y,P,S){var A,H,z=P.toLowerCase();return S||(H=te[z],te[z]=A,A=g(y,P,S)!=null?z:null,te[z]=H),A}});var _t=/^(?:input|select|textarea|button)$/i,Dt=/^(?:a|area)$/i;M.fn.extend({prop:function(o,c){return Qt(this,M.prop,o,c,arguments.length>1)},removeProp:function(o){return this.each(function(){delete this[M.propFix[o]||o]})}}),M.extend({prop:function(o,c,g){var y,P,S=o.nodeType;if(!(S===3||S===8||S===2))return(S!==1||!M.isXMLDoc(o))&&(c=M.propFix[c]||c,P=M.propHooks[c]),g!==void 0?P&&"set"in P&&(y=P.set(o,g,c))!==void 0?y:o[c]=g:P&&"get"in P&&(y=P.get(o,c))!==null?y:o[c]},propHooks:{tabIndex:{get:function(o){var c=M.find.attr(o,"tabindex");return c?parseInt(c,10):_t.test(o.nodeName)||Dt.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Pt.optSelected||(M.propHooks.selected={get:function(o){var c=o.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(o){var c=o.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this});function qe(o){var c=o.match(Vt)||[];return c.join(" ")}function Ye(o){return o.getAttribute&&o.getAttribute("class")||""}function Ci(o){return Array.isArray(o)?o:typeof o=="string"?o.match(Vt)||[]:[]}M.fn.extend({addClass:function(o){var c,g,y,P,S,A;return Ft(o)?this.each(function(H){M(this).addClass(o.call(this,H,Ye(this)))}):(c=Ci(o),c.length?this.each(function(){if(y=Ye(this),g=this.nodeType===1&&" "+qe(y)+" ",g){for(S=0;S<c.length;S++)P=c[S],g.indexOf(" "+P+" ")<0&&(g+=P+" ");A=qe(g),y!==A&&this.setAttribute("class",A)}}):this)},removeClass:function(o){var c,g,y,P,S,A;return Ft(o)?this.each(function(H){M(this).removeClass(o.call(this,H,Ye(this)))}):arguments.length?(c=Ci(o),c.length?this.each(function(){if(y=Ye(this),g=this.nodeType===1&&" "+qe(y)+" ",g){for(S=0;S<c.length;S++)for(P=c[S];g.indexOf(" "+P+" ")>-1;)g=g.replace(" "+P+" "," ");A=qe(g),y!==A&&this.setAttribute("class",A)}}):this):this.attr("class","")},toggleClass:function(o,c){var g,y,P,S,A=typeof o,H=A==="string"||Array.isArray(o);return Ft(o)?this.each(function(z){M(this).toggleClass(o.call(this,z,Ye(this),c),c)}):typeof c=="boolean"&&H?c?this.addClass(o):this.removeClass(o):(g=Ci(o),this.each(function(){if(H)for(S=M(this),P=0;P<g.length;P++)y=g[P],S.hasClass(y)?S.removeClass(y):S.addClass(y);else(o===void 0||A==="boolean")&&(y=Ye(this),y&&Rt.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||o===!1?"":Rt.get(this,"__className__")||""))}))},hasClass:function(o){var c,g,y=0;for(c=" "+o+" ";g=this[y++];)if(g.nodeType===1&&(" "+qe(Ye(g))+" ").indexOf(c)>-1)return!0;return!1}});var Vi=/\r/g;M.fn.extend({val:function(o){var c,g,y,P=this[0];return arguments.length?(y=Ft(o),this.each(function(S){var A;this.nodeType===1&&(y?A=o.call(this,S,M(this).val()):A=o,A==null?A="":typeof A=="number"?A+="":Array.isArray(A)&&(A=M.map(A,function(H){return H==null?"":H+""})),c=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()],(!c||!("set"in c)||c.set(this,A,"value")===void 0)&&(this.value=A))})):P?(c=M.valHooks[P.type]||M.valHooks[P.nodeName.toLowerCase()],c&&"get"in c&&(g=c.get(P,"value"))!==void 0?g:(g=P.value,typeof g=="string"?g.replace(Vi,""):g??"")):void 0}}),M.extend({valHooks:{option:{get:function(o){var c=M.find.attr(o,"value");return c??qe(M.text(o))}},select:{get:function(o){var c,g,y,P=o.options,S=o.selectedIndex,A=o.type==="select-one",H=A?null:[],z=A?S+1:P.length;for(S<0?y=z:y=A?S:0;y<z;y++)if(g=P[y],(g.selected||y===S)&&!g.disabled&&(!g.parentNode.disabled||!Ae(g.parentNode,"optgroup"))){if(c=M(g).val(),A)return c;H.push(c)}return H},set:function(o,c){for(var g,y,P=o.options,S=M.makeArray(c),A=P.length;A--;)y=P[A],(y.selected=M.inArray(M.valHooks.option.get(y),S)>-1)&&(g=!0);return g||(o.selectedIndex=-1),S}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(o,c){if(Array.isArray(c))return o.checked=M.inArray(M(o).val(),c)>-1}},Pt.checkOn||(M.valHooks[this].get=function(o){return o.getAttribute("value")===null?"on":o.value})});var rt=J.location,ea={guid:Date.now()},$e=/\?/;M.parseXML=function(o){var c,g;if(!o||typeof o!="string")return null;try{c=new J.DOMParser().parseFromString(o,"text/xml")}catch{}return g=c&&c.getElementsByTagName("parsererror")[0],(!c||g)&&M.error("Invalid XML: "+(g?M.map(g.childNodes,function(y){return y.textContent}).join(`
`):o)),c};var $i=/^(?:focusinfocus|focusoutblur)$/,mt=function(o){o.stopPropagation()};M.extend(M.event,{trigger:function(o,c,g,y){var P,S,A,H,z,Q,lt,ft,tt=[g||qt],Tt=ni.call(o,"type")?o.type:o,oe=ni.call(o,"namespace")?o.namespace.split("."):[];if(S=ft=A=g=g||qt,!(g.nodeType===3||g.nodeType===8)&&!$i.test(Tt+M.event.triggered)&&(Tt.indexOf(".")>-1&&(oe=Tt.split("."),Tt=oe.shift(),oe.sort()),z=Tt.indexOf(":")<0&&"on"+Tt,o=o[M.expando]?o:new M.Event(Tt,typeof o=="object"&&o),o.isTrigger=y?2:3,o.namespace=oe.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)"+oe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=g),c=c==null?[o]:M.makeArray(c,[o]),lt=M.event.special[Tt]||{},!(!y&&lt.trigger&&lt.trigger.apply(g,c)===!1))){if(!y&&!lt.noBubble&&!Xi(g)){for(H=lt.delegateType||Tt,$i.test(H+Tt)||(S=S.parentNode);S;S=S.parentNode)tt.push(S),A=S;A===(g.ownerDocument||qt)&&tt.push(A.defaultView||A.parentWindow||J)}for(P=0;(S=tt[P++])&&!o.isPropagationStopped();)ft=S,o.type=P>1?H:lt.bindType||Tt,Q=(Rt.get(S,"events")||Object.create(null))[o.type]&&Rt.get(S,"handle"),Q&&Q.apply(S,c),Q=z&&S[z],Q&&Q.apply&&Pi(S)&&(o.result=Q.apply(S,c),o.result===!1&&o.preventDefault());return o.type=Tt,!y&&!o.isDefaultPrevented()&&(!lt._default||lt._default.apply(tt.pop(),c)===!1)&&Pi(g)&&z&&Ft(g[Tt])&&!Xi(g)&&(A=g[z],A&&(g[z]=null),M.event.triggered=Tt,o.isPropagationStopped()&&ft.addEventListener(Tt,mt),g[Tt](),o.isPropagationStopped()&&ft.removeEventListener(Tt,mt),M.event.triggered=void 0,A&&(g[z]=A)),o.result}},simulate:function(o,c,g){var y=M.extend(new M.Event,g,{type:o,isSimulated:!0});M.event.trigger(y,null,c)}}),M.fn.extend({trigger:function(o,c){return this.each(function(){M.event.trigger(o,c,this)})},triggerHandler:function(o,c){var g=this[0];if(g)return M.event.trigger(o,c,g,!0)}});var pt=/\[\]$/,St=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Bt=/^(?:input|select|textarea|keygen)/i;function ee(o,c,g,y){var P;if(Array.isArray(c))M.each(c,function(S,A){g||pt.test(o)?y(o,A):ee(o+"["+(typeof A=="object"&&A!=null?S:"")+"]",A,g,y)});else if(!g&&ki(c)==="object")for(P in c)ee(o+"["+P+"]",c[P],g,y);else y(o,c)}M.param=function(o,c){var g,y=[],P=function(S,A){var H=Ft(A)?A():A;y[y.length]=encodeURIComponent(S)+"="+encodeURIComponent(H??"")};if(o==null)return"";if(Array.isArray(o)||o.jquery&&!M.isPlainObject(o))M.each(o,function(){P(this.name,this.value)});else for(g in o)ee(g,o[g],c,P);return y.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var o=M.prop(this,"elements");return o?M.makeArray(o):this}).filter(function(){var o=this.type;return this.name&&!M(this).is(":disabled")&&Bt.test(this.nodeName)&&!Gt.test(o)&&(this.checked||!yt.test(o))}).map(function(o,c){var g=M(this).val();return g==null?null:Array.isArray(g)?M.map(g,function(y){return{name:c.name,value:y.replace(St,`\r
`)}}):{name:c.name,value:g.replace(St,`\r
`)}}).get()}});var ze=/%20/g,We=/#.*$/,At=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_e=/^(?:GET|HEAD)$/,Kt=/^\/\//,ae={},Et={},ne="*/".concat("*"),ai=qt.createElement("a");ai.href=rt.href;function Ne(o){return function(c,g){typeof c!="string"&&(g=c,c="*");var y,P=0,S=c.toLowerCase().match(Vt)||[];if(Ft(g))for(;y=S[P++];)y[0]==="+"?(y=y.slice(1)||"*",(o[y]=o[y]||[]).unshift(g)):(o[y]=o[y]||[]).push(g)}}function He(o,c,g,y){var P={},S=o===Et;function A(H){var z;return P[H]=!0,M.each(o[H]||[],function(Q,lt){var ft=lt(c,g,y);if(typeof ft=="string"&&!S&&!P[ft])return c.dataTypes.unshift(ft),A(ft),!1;if(S)return!(z=ft)}),z}return A(c.dataTypes[0])||!P["*"]&&A("*")}function Ai(o,c){var g,y,P=M.ajaxSettings.flatOptions||{};for(g in c)c[g]!==void 0&&((P[g]?o:y||(y={}))[g]=c[g]);return y&&M.extend(!0,o,y),o}function oi(o,c,g){for(var y,P,S,A,H=o.contents,z=o.dataTypes;z[0]==="*";)z.shift(),y===void 0&&(y=o.mimeType||c.getResponseHeader("Content-Type"));if(y){for(P in H)if(H[P]&&H[P].test(y)){z.unshift(P);break}}if(z[0]in g)S=z[0];else{for(P in g){if(!z[0]||o.converters[P+" "+z[0]]){S=P;break}A||(A=P)}S=S||A}if(S)return S!==z[0]&&z.unshift(S),g[S]}function ya(o,c,g,y){var P,S,A,H,z,Q={},lt=o.dataTypes.slice();if(lt[1])for(A in o.converters)Q[A.toLowerCase()]=o.converters[A];for(S=lt.shift();S;)if(o.responseFields[S]&&(g[o.responseFields[S]]=c),!z&&y&&o.dataFilter&&(c=o.dataFilter(c,o.dataType)),z=S,S=lt.shift(),S){if(S==="*")S=z;else if(z!=="*"&&z!==S){if(A=Q[z+" "+S]||Q["* "+S],!A){for(P in Q)if(H=P.split(" "),H[1]===S&&(A=Q[z+" "+H[0]]||Q["* "+H[0]],A)){A===!0?A=Q[P]:Q[P]!==!0&&(S=H[0],lt.unshift(H[1]));break}}if(A!==!0)if(A&&o.throws)c=A(c);else try{c=A(c)}catch(ft){return{state:"parsererror",error:A?ft:"No conversion from "+z+" to "+S}}}}return{state:"success",data:c}}M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rt.href,type:"GET",isLocal:Ke.test(rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ne,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,c){return c?Ai(Ai(o,M.ajaxSettings),c):Ai(M.ajaxSettings,o)},ajaxPrefilter:Ne(ae),ajaxTransport:Ne(Et),ajax:function(o,c){typeof o=="object"&&(c=o,o=void 0),c=c||{};var g,y,P,S,A,H,z,Q,lt,ft,tt=M.ajaxSetup({},c),Tt=tt.context||tt,oe=tt.context&&(Tt.nodeType||Tt.jquery)?M(Tt):M.event,Fe=M.Deferred(),ve=M.Callbacks("once memory"),mi=tt.statusCode||{},ui={},Oi={},zi="canceled",Ce={readyState:0,getResponseHeader:function(Ve){var ti;if(z){if(!S)for(S={};ti=Ee.exec(P);)S[ti[1].toLowerCase()+" "]=(S[ti[1].toLowerCase()+" "]||[]).concat(ti[2]);ti=S[Ve.toLowerCase()+" "]}return ti==null?null:ti.join(", ")},getAllResponseHeaders:function(){return z?P:null},setRequestHeader:function(Ve,ti){return z==null&&(Ve=Oi[Ve.toLowerCase()]=Oi[Ve.toLowerCase()]||Ve,ui[Ve]=ti),this},overrideMimeType:function(Ve){return z==null&&(tt.mimeType=Ve),this},statusCode:function(Ve){var ti;if(Ve)if(z)Ce.always(Ve[Ce.status]);else for(ti in Ve)mi[ti]=[mi[ti],Ve[ti]];return this},abort:function(Ve){var ti=Ve||zi;return g&&g.abort(ti),da(0,ti),this}};if(Fe.promise(Ce),tt.url=((o||tt.url||rt.href)+"").replace(Kt,rt.protocol+"//"),tt.type=c.method||c.type||tt.method||tt.type,tt.dataTypes=(tt.dataType||"*").toLowerCase().match(Vt)||[""],tt.crossDomain==null){H=qt.createElement("a");try{H.href=tt.url,H.href=H.href,tt.crossDomain=ai.protocol+"//"+ai.host!=H.protocol+"//"+H.host}catch{tt.crossDomain=!0}}if(tt.data&&tt.processData&&typeof tt.data!="string"&&(tt.data=M.param(tt.data,tt.traditional)),He(ae,tt,c,Ce),z)return Ce;Q=M.event&&tt.global,Q&&M.active++===0&&M.event.trigger("ajaxStart"),tt.type=tt.type.toUpperCase(),tt.hasContent=!_e.test(tt.type),y=tt.url.replace(We,""),tt.hasContent?tt.data&&tt.processData&&(tt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(tt.data=tt.data.replace(ze,"+")):(ft=tt.url.slice(y.length),tt.data&&(tt.processData||typeof tt.data=="string")&&(y+=($e.test(y)?"&":"?")+tt.data,delete tt.data),tt.cache===!1&&(y=y.replace(At,"$1"),ft=($e.test(y)?"&":"?")+"_="+ea.guid+++ft),tt.url=y+ft),tt.ifModified&&(M.lastModified[y]&&Ce.setRequestHeader("If-Modified-Since",M.lastModified[y]),M.etag[y]&&Ce.setRequestHeader("If-None-Match",M.etag[y])),(tt.data&&tt.hasContent&&tt.contentType!==!1||c.contentType)&&Ce.setRequestHeader("Content-Type",tt.contentType),Ce.setRequestHeader("Accept",tt.dataTypes[0]&&tt.accepts[tt.dataTypes[0]]?tt.accepts[tt.dataTypes[0]]+(tt.dataTypes[0]!=="*"?", "+ne+"; q=0.01":""):tt.accepts["*"]);for(lt in tt.headers)Ce.setRequestHeader(lt,tt.headers[lt]);if(tt.beforeSend&&(tt.beforeSend.call(Tt,Ce,tt)===!1||z))return Ce.abort();if(zi="abort",ve.add(tt.complete),Ce.done(tt.success),Ce.fail(tt.error),g=He(Et,tt,c,Ce),!g)da(-1,"No Transport");else{if(Ce.readyState=1,Q&&oe.trigger("ajaxSend",[Ce,tt]),z)return Ce;tt.async&&tt.timeout>0&&(A=J.setTimeout(function(){Ce.abort("timeout")},tt.timeout));try{z=!1,g.send(ui,da)}catch(Ve){if(z)throw Ve;da(-1,Ve)}}function da(Ve,ti,ba,Fa){var Ni,va,Ri,ia,aa,Di=ti;z||(z=!0,A&&J.clearTimeout(A),g=void 0,P=Fa||"",Ce.readyState=Ve>0?4:0,Ni=Ve>=200&&Ve<300||Ve===304,ba&&(ia=oi(tt,Ce,ba)),!Ni&&M.inArray("script",tt.dataTypes)>-1&&M.inArray("json",tt.dataTypes)<0&&(tt.converters["text script"]=function(){}),ia=ya(tt,ia,Ce,Ni),Ni?(tt.ifModified&&(aa=Ce.getResponseHeader("Last-Modified"),aa&&(M.lastModified[y]=aa),aa=Ce.getResponseHeader("etag"),aa&&(M.etag[y]=aa)),Ve===204||tt.type==="HEAD"?Di="nocontent":Ve===304?Di="notmodified":(Di=ia.state,va=ia.data,Ri=ia.error,Ni=!Ri)):(Ri=Di,(Ve||!Di)&&(Di="error",Ve<0&&(Ve=0))),Ce.status=Ve,Ce.statusText=(ti||Di)+"",Ni?Fe.resolveWith(Tt,[va,Di,Ce]):Fe.rejectWith(Tt,[Ce,Di,Ri]),Ce.statusCode(mi),mi=void 0,Q&&oe.trigger(Ni?"ajaxSuccess":"ajaxError",[Ce,tt,Ni?va:Ri]),ve.fireWith(Tt,[Ce,Di]),Q&&(oe.trigger("ajaxComplete",[Ce,tt]),--M.active||M.event.trigger("ajaxStop")))}return Ce},getJSON:function(o,c,g){return M.get(o,c,g,"json")},getScript:function(o,c){return M.get(o,void 0,c,"script")}}),M.each(["get","post"],function(o,c){M[c]=function(g,y,P,S){return Ft(y)&&(S=S||P,P=y,y=void 0),M.ajax(M.extend({url:g,type:c,dataType:S,data:y,success:P},M.isPlainObject(g)&&g))}}),M.ajaxPrefilter(function(o){var c;for(c in o.headers)c.toLowerCase()==="content-type"&&(o.contentType=o.headers[c]||"")}),M._evalUrl=function(o,c,g){return M.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){M.globalEval(y,c,g)}})},M.fn.extend({wrapAll:function(o){var c;return this[0]&&(Ft(o)&&(o=o.call(this[0])),c=M(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(o){return Ft(o)?this.each(function(c){M(this).wrapInner(o.call(this,c))}):this.each(function(){var c=M(this),g=c.contents();g.length?g.wrapAll(o):c.append(o)})},wrap:function(o){var c=Ft(o);return this.each(function(g){M(this).wrapAll(c?o.call(this,g):o)})},unwrap:function(o){return this.parent(o).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(o){return!M.expr.pseudos.visible(o)},M.expr.pseudos.visible=function(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new J.XMLHttpRequest}catch{}};var de={0:200,1223:204},Ei=M.ajaxSettings.xhr();Pt.cors=!!Ei&&"withCredentials"in Ei,Pt.ajax=Ei=!!Ei,M.ajaxTransport(function(o){var c,g;if(Pt.cors||Ei&&!o.crossDomain)return{send:function(y,P){var S,A=o.xhr();if(A.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(S in o.xhrFields)A[S]=o.xhrFields[S];o.mimeType&&A.overrideMimeType&&A.overrideMimeType(o.mimeType),!o.crossDomain&&!y["X-Requested-With"]&&(y["X-Requested-With"]="XMLHttpRequest");for(S in y)A.setRequestHeader(S,y[S]);c=function(H){return function(){c&&(c=g=A.onload=A.onerror=A.onabort=A.ontimeout=A.onreadystatechange=null,H==="abort"?A.abort():H==="error"?typeof A.status!="number"?P(0,"error"):P(A.status,A.statusText):P(de[A.status]||A.status,A.statusText,(A.responseType||"text")!=="text"||typeof A.responseText!="string"?{binary:A.response}:{text:A.responseText},A.getAllResponseHeaders()))}},A.onload=c(),g=A.onerror=A.ontimeout=c("error"),A.onabort!==void 0?A.onabort=g:A.onreadystatechange=function(){A.readyState===4&&J.setTimeout(function(){c&&g()})},c=c("abort");try{A.send(o.hasContent&&o.data||null)}catch(H){if(c)throw H}},abort:function(){c&&c()}}}),M.ajaxPrefilter(function(o){o.crossDomain&&(o.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(o){return M.globalEval(o),o}}}),M.ajaxPrefilter("script",function(o){o.cache===void 0&&(o.cache=!1),o.crossDomain&&(o.type="GET")}),M.ajaxTransport("script",function(o){if(o.crossDomain||o.scriptAttrs){var c,g;return{send:function(y,P){c=M("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",g=function(S){c.remove(),g=null,S&&P(S.type==="error"?404:200,S.type)}),qt.head.appendChild(c[0])},abort:function(){g&&g()}}}});var Ha=[],La=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var o=Ha.pop()||M.expando+"_"+ea.guid++;return this[o]=!0,o}}),M.ajaxPrefilter("json jsonp",function(o,c,g){var y,P,S,A=o.jsonp!==!1&&(La.test(o.url)?"url":typeof o.data=="string"&&(o.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&La.test(o.data)&&"data");if(A||o.dataTypes[0]==="jsonp")return y=o.jsonpCallback=Ft(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,A?o[A]=o[A].replace(La,"$1"+y):o.jsonp!==!1&&(o.url+=($e.test(o.url)?"&":"?")+o.jsonp+"="+y),o.converters["script json"]=function(){return S||M.error(y+" was not called"),S[0]},o.dataTypes[0]="json",P=J[y],J[y]=function(){S=arguments},g.always(function(){P===void 0?M(J).removeProp(y):J[y]=P,o[y]&&(o.jsonpCallback=c.jsonpCallback,Ha.push(y)),S&&Ft(P)&&P(S[0]),S=P=void 0}),"script"}),Pt.createHTMLDocument=function(){var o=qt.implementation.createHTMLDocument("").body;return o.innerHTML="<form></form><form></form>",o.childNodes.length===2}(),M.parseHTML=function(o,c,g){if(typeof o!="string")return[];typeof c=="boolean"&&(g=c,c=!1);var y,P,S;return c||(Pt.createHTMLDocument?(c=qt.implementation.createHTMLDocument(""),y=c.createElement("base"),y.href=qt.location.href,c.head.appendChild(y)):c=qt),P=R.exec(o),S=!g&&[],P?[c.createElement(P[1])]:(P=Xe([o],c,S),S&&S.length&&M(S).remove(),M.merge([],P.childNodes))},M.fn.load=function(o,c,g){var y,P,S,A=this,H=o.indexOf(" ");return H>-1&&(y=qe(o.slice(H)),o=o.slice(0,H)),Ft(c)?(g=c,c=void 0):c&&typeof c=="object"&&(P="POST"),A.length>0&&M.ajax({url:o,type:P||"GET",dataType:"html",data:c}).done(function(z){S=arguments,A.html(y?M("<div>").append(M.parseHTML(z)).find(y):z)}).always(g&&function(z,Q){A.each(function(){g.apply(this,S||[z.responseText,Q,z])})}),this},M.expr.pseudos.animated=function(o){return M.grep(M.timers,function(c){return o===c.elem}).length},M.offset={setOffset:function(o,c,g){var y,P,S,A,H,z,Q,lt=M.css(o,"position"),ft=M(o),tt={};lt==="static"&&(o.style.position="relative"),H=ft.offset(),S=M.css(o,"top"),z=M.css(o,"left"),Q=(lt==="absolute"||lt==="fixed")&&(S+z).indexOf("auto")>-1,Q?(y=ft.position(),A=y.top,P=y.left):(A=parseFloat(S)||0,P=parseFloat(z)||0),Ft(c)&&(c=c.call(o,g,M.extend({},H))),c.top!=null&&(tt.top=c.top-H.top+A),c.left!=null&&(tt.left=c.left-H.left+P),"using"in c?c.using.call(o,tt):ft.css(tt)}},M.fn.extend({offset:function(o){if(arguments.length)return o===void 0?this:this.each(function(P){M.offset.setOffset(this,o,P)});var c,g,y=this[0];if(y)return y.getClientRects().length?(c=y.getBoundingClientRect(),g=y.ownerDocument.defaultView,{top:c.top+g.pageYOffset,left:c.left+g.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var o,c,g,y=this[0],P={top:0,left:0};if(M.css(y,"position")==="fixed")c=y.getBoundingClientRect();else{for(c=this.offset(),g=y.ownerDocument,o=y.offsetParent||g.documentElement;o&&(o===g.body||o===g.documentElement)&&M.css(o,"position")==="static";)o=o.parentNode;o&&o!==y&&o.nodeType===1&&(P=M(o).offset(),P.top+=M.css(o,"borderTopWidth",!0),P.left+=M.css(o,"borderLeftWidth",!0))}return{top:c.top-P.top-M.css(y,"marginTop",!0),left:c.left-P.left-M.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent;o&&M.css(o,"position")==="static";)o=o.offsetParent;return o||Je})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,c){var g=c==="pageYOffset";M.fn[o]=function(y){return Qt(this,function(P,S,A){var H;if(Xi(P)?H=P:P.nodeType===9&&(H=P.defaultView),A===void 0)return H?H[c]:P[S];H?H.scrollTo(g?H.pageXOffset:A,g?A:H.pageYOffset):P[S]=A},o,y,arguments.length)}}),M.each(["top","left"],function(o,c){M.cssHooks[c]=k(Pt.pixelPosition,function(g,y){if(y)return y=b(g,c),u.test(y)?M(g).position()[c]+"px":y})}),M.each({Height:"height",Width:"width"},function(o,c){M.each({padding:"inner"+o,content:c,"":"outer"+o},function(g,y){M.fn[y]=function(P,S){var A=arguments.length&&(g||typeof P!="boolean"),H=g||(P===!0||S===!0?"margin":"border");return Qt(this,function(z,Q,lt){var ft;return Xi(z)?y.indexOf("outer")===0?z["inner"+o]:z.document.documentElement["client"+o]:z.nodeType===9?(ft=z.documentElement,Math.max(z.body["scroll"+o],ft["scroll"+o],z.body["offset"+o],ft["offset"+o],ft["client"+o])):lt===void 0?M.css(z,Q,H):M.style(z,Q,lt,H)},c,A?P:void 0,A)}})}),M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,c){M.fn[c]=function(g){return this.on(c,g)}}),M.fn.extend({bind:function(o,c,g){return this.on(o,null,c,g)},unbind:function(o,c){return this.off(o,null,c)},delegate:function(o,c,g,y){return this.on(c,o,g,y)},undelegate:function(o,c,g){return arguments.length===1?this.off(o,"**"):this.off(c,o||"**",g)},hover:function(o,c){return this.on("mouseenter",o).on("mouseleave",c||o)}}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(o,c){M.fn[c]=function(g,y){return arguments.length>0?this.on(c,null,g,y):this.trigger(c)}});var qa=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;M.proxy=function(o,c){var g,y,P;if(typeof c=="string"&&(g=o[c],c=o,o=g),!!Ft(o))return y=ut.call(arguments,2),P=function(){return o.apply(c||this,y.concat(ut.call(arguments)))},P.guid=o.guid=o.guid||M.guid++,P},M.holdReady=function(o){o?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=Ae,M.isFunction=Ft,M.isWindow=Xi,M.camelCase=Ii,M.type=ki,M.now=Date.now,M.isNumeric=function(o){var c=M.type(o);return(c==="number"||c==="string")&&!isNaN(o-parseFloat(o))},M.trim=function(o){return o==null?"":(o+"").replace(qa,"$1")};var ts=J.jQuery,es=J.$;return M.noConflict=function(o){return J.$===M&&(J.$=es),o&&J.jQuery===M&&(J.jQuery=ts),M},typeof ht>"u"&&(J.jQuery=J.$=M),M})}(wa)),wa.exports}var us=ds();const bi=Za(us);let Mi={algorithmSelect:bi("#algorithm-select"),submitButton:bi("#submit-button"),startButton:bi("#start-button"),resetButton:bi("#reset-button"),prevButton:bi("#prev-button"),nextButton:bi("#next-button"),stopButton:bi("#stop-button"),codeDisplay:bi("#code-display"),currentStepNumberSpan:bi("#current-step-number"),totalStepsSpan:bi("#total-steps"),stepDescriptionSpan:bi("#step-description"),chartContainer:bi("#chart-container")};const jt="#a0aec0",ri="#fcd34d",si="#f97316",Qa="#dc2626",li="#34d399";function cs(I){const J=I.length;Wt(I,"å¼å§éæ©æåº",[1,2],Array(J).fill(jt));for(let ht=0;ht<J-1;ht++){let it=ht;Wt(I,`å¯»æ¾ç¬¬ ${ht+1} è½®æå°åç´  (å½åæå°ç´¢å¼: ${it})`,[3],Array(J).fill(jt).map((nt,ut)=>ut===it?ri:nt));for(let nt=ht+1;nt<J;nt++)Wt(I,`æ¯è¾ ${I[nt]} å ${I[it]}`,[5],Array(J).fill(jt).map((ut,vt)=>vt===nt||vt===it?ri:ut)),I[nt]<I[it]&&(it=nt,Wt(I,`æ´æ°æå°ç´¢å¼ä¸º ${it}`,[6],Array(J).fill(jt).map((ut,vt)=>vt===it?ri:ut)));Wt(I,`äº¤æ¢ ${I[ht]} å ${I[it]}`,[8],Array(J).fill(jt).map((nt,ut)=>ut===ht||ut===it?si:nt)),[I[ht],I[it]]=[I[it],I[ht]],Wt(I,`äº¤æ¢å®æï¼åç´  ${I[ht]} å·²æåº`,[8],Array(J).fill(jt).map((nt,ut)=>ut<=ht?li:nt))}Wt(I,"éæ©æåºå®æ",[9],Array(J).fill(li))}function ps(I){const J=I.length;Wt(I,"å¼å§åæ³¡æåº",[1,2],Array(J).fill(jt));for(let ht=0;ht<J-1;ht++){for(let it=0;it<J-ht-1;it++)Wt(I,`æ¯è¾ ${I[it]} å ${I[it+1]}`,[4],Array(J).fill(jt).map((nt,ut)=>ut===it||ut===it+1?ri:nt)),I[it]>I[it+1]&&(Wt(I,`äº¤æ¢ ${I[it]} å ${I[it+1]}`,[6],Array(J).fill(jt).map((nt,ut)=>ut===it||ut===it+1?si:nt)),[I[it],I[it+1]]=[I[it+1],I[it]],Wt(I,"äº¤æ¢å®æ",[6],Array(J).fill(jt).map((nt,ut)=>ut===it||ut===it+1?si:nt)));Wt(I,`ç¬¬ ${ht+1} è½®åæ³¡å®æï¼æå¤§åç´ å·²ç§»å°æ«å°¾`,[8],Array(J).fill(jt).map((it,nt)=>nt>=J-ht-1?li:it))}Wt(I,"åæ³¡æåºå®æ",[9],Array(J).fill(li))}function xs(I){const J=I.length;Wt(I,"å¼å§æå¥æåº",[1,2],Array(J).fill(jt));for(let ht=1;ht<J;ht++){const it=I[ht];let nt=ht-1;for(Wt(I,`å°åç´  ${it} (ç´¢å¼ ${ht}) æå¥å°å·²æåºé¨å`,[3],Array(J).fill(jt).map((ut,vt)=>vt===ht?ri:ut));nt>=0&&I[nt]>it;)Wt(I,`æ¯è¾ ${I[nt]} å ${it}`,[5],Array(J).fill(jt).map((ut,vt)=>vt===nt||vt===ht?ri:ut)),I[nt+1]=I[nt],Wt(I,`åç´  ${I[nt]} (ç´¢å¼ ${nt}) åç§»å°ç´¢å¼ ${nt+1}`,[6],Array(J).fill(jt).map((ut,vt)=>vt===nt+1?si:ut)),nt--;I[nt+1]=it,Wt(I,`å° ${it} æå¥å°ç´¢å¼ ${nt+1}`,[8],Array(J).fill(jt).map((ut,vt)=>vt===nt+1?si:ut))}Wt(I,"æå¥æåºå®æ",[9],Array(J).fill(li))}function Oa(I,J,ht,it=[]){if(J===void 0&&(J=0),ht===void 0&&(ht=I.length-1),it.length===0&&Wt(I,"å¼å§å¿«éæåº",[1,2],Array(I.length).fill(jt)),J<ht){Wt(I,`å¯¹å­æ°ç» [${J}, ${ht}] è¿è¡ååº`,[3],it.length>0?it:Array(I.length).fill(jt));let nt=gs(I,J,ht,it),ut=xi[xi.length-1].barColors;Wt(I,`åºååç´  ${I[nt]} ä½äºæ­£ç¡®ä½ç½® (ç´¢å¼ ${nt})`,[4],ut.map((vt,It)=>It===nt?li:vt)),Oa(I,J,nt-1,ut),Oa(I,nt+1,ht,ut)}else if(J===ht){let nt=xi.length>0?xi[xi.length-1].barColors:Array(I.length).fill(jt);Wt(I,`åç´  ${I[J]} (ç´¢å¼ ${J}) è§ä¸ºå·²æåº`,[3],nt.map((ut,vt)=>vt===J?li:ut))}J===0&&ht===I.length-1&&I.every((nt,ut)=>xi[xi.length-1].barColors[ut]===li)&&Wt(I,"å¿«éæåºå®æ",[6],Array(I.length).fill(li))}function gs(I,J,ht,it){let nt=I[ht],ut=J-1,vt=it.length>0?[...it]:Array(I.length).fill(jt);vt[ht]=Qa,Wt(I,`éæ© ${nt} (ç´¢å¼ ${ht}) ä½ä¸ºåºå`,[11],vt);for(let It=J;It<ht;It++)vt=it.length>0?[...it]:Array(I.length).fill(jt),vt[ht]=Qa,vt[It]=ri,ut>=J&&(vt[ut]=ri),Wt(I,`æ¯è¾åç´  ${I[It]} (ç´¢å¼ ${It}) ååºå ${nt}`,[16],vt),I[It]<=nt&&(ut++,vt[ut]=si,vt[It]=si,Wt(I,`åç´  ${I[It]} å°äºæç­äºåºåï¼äº¤æ¢ ${I[ut]} å ${I[It]}`,[18,20],vt),[I[ut],I[It]]=[I[It],I[ut]],Wt(I,"äº¤æ¢å®æ",[20],vt));return vt=it.length>0?[...it]:Array(I.length).fill(jt),vt[ht]=si,vt[ut+1]=si,Wt(I,`å°åºå ${nt} äº¤æ¢å°æ­£ç¡®ä½ç½® (ç´¢å¼ ${ut+1})`,[24],vt),[I[ut+1],I[ht]]=[I[ht],I[ut+1]],Wt(I,"åºåæ¾ç½®å®æ",[24],vt),ut+1}function za(I){if(I.length>1){const J=Math.floor(I.length/2),ht=I.slice(0,J),it=I.slice(J);Wt(I,`åå²æ°ç»ä¸ºå·¦å­æ°ç» [${ht}] åå³å­æ°ç» [${it}]`,[3],Array(I.length).fill(jt).map((It,bt)=>bt<J?ri:jt)),za(ht),za(it);let nt=0,ut=0,vt=0;for(Wt(I,"åå¹¶å·¦å­æ°ç»åå³å­æ°ç»",[5],Array(I.length).fill(jt));nt<ht.length&&ut<it.length;)Wt(I,`æ¯è¾ ${ht[nt]} å ${it[ut]}`,[7],Array(I.length).fill(jt).map((It,bt)=>bt===vt?ri:It)),ht[nt]<it[ut]?(I[vt]=ht[nt],nt++,Wt(I,`${ht[nt-1]} è¾å°ï¼æ¾å¥æ°ç»`,[8],Array(I.length).fill(jt).map((It,bt)=>bt===vt?si:It))):(I[vt]=it[ut],ut++,Wt(I,`${it[ut-1]} è¾å°ï¼æ¾å¥æ°ç»`,[8],Array(I.length).fill(jt).map((It,bt)=>bt===vt?si:It))),vt++;for(;nt<ht.length;)I[vt]=ht[nt],nt++,vt++,Wt(I,`å°å©ä½å·¦å­æ°ç»åç´  ${ht[nt-1]} æ¾å¥æ°ç»`,[10],Array(I.length).fill(jt).map((It,bt)=>bt===vt-1?si:It));for(;ut<it.length;)I[vt]=it[ut],ut++,vt++,Wt(I,`å°å©ä½å³å­æ°ç»åç´  ${it[ut-1]} æ¾å¥æ°ç»`,[10],Array(I.length).fill(jt).map((It,bt)=>bt===vt-1?si:It))}I.length===1?Wt(I,`åä¸ªåç´  ${I[0]} è§ä¸ºå·²æåº`,[11],Array(I.length).fill(li)):I.length>1&&Wt(I,`æ°ç» [${I}] åå¹¶å®æ`,[12],Array(I.length).fill(jt)),I.length===initialArray.length&&ms(I)&&Wt(I,"å½å¹¶æåºå®æ",[13],Array(I.length).fill(li))}function ms(I){for(let J=0;J<I.length-1;J++)if(I[J]>I[J+1])return!1;return!0}function fs(I){const J=I.length,ht=Math.max(...I),it=Math.min(...I),nt=5,ut=Math.floor((ht-it)/nt)+1,vt=new Array(ut).fill(null).map(()=>[]);Wt(I,"å¼å§æ¡¶æåº",[1,2],Array(J).fill(jt)),Wt(I,`åå»º ${ut} ä¸ªæ¡¶ï¼æ¡¶å¤§å°ä¸º ${nt}`,[3],Array(J).fill(jt));for(let bt=0;bt<J;bt++){const hi=Math.floor((I[bt]-it)/nt);Wt(I,`å° ${I[bt]} æ¾å¥æ¡¶ ${hi}`,[5],Array(J).fill(jt).map((B,ni)=>ni===bt?si:B)),vt[hi].push(I[bt])}for(let bt=0;bt<ut;bt++)Wt(I,`å¯¹æ¡¶ ${bt} [${vt[bt]}] è¿è¡æåº`,[7],Array(J).fill(jt)),vt[bt].sort((hi,B)=>hi-B);let It=0;for(let bt=0;bt<ut;bt++)for(let hi=0;hi<vt[bt].length;hi++)Wt(I,`å°æ¡¶ ${bt} ä¸­ç ${vt[bt][hi]} æ¾ååæ°ç»`,[9],Array(J).fill(jt).map((B,ni)=>ni===It?si:B)),I[It++]=vt[bt][hi];Wt(I,"æ¡¶æåºå®æ",[10],Array(J).fill(li))}function ys(I){const J=Math.max(...I),ht=Math.min(...I),it=J-ht+1,nt=new Array(it).fill(0);Wt(I,"å¼å§è®¡æ°æåº",[1,2],Array(I.length).fill(jt)),Wt(I,`åå»ºè®¡æ°æ°ç»ï¼èå´ [${ht}, ${J}]`,[3],Array(I.length).fill(jt));for(let vt of I)Wt(I,`ç»è®¡ ${vt} çåºç°æ¬¡æ°`,[5],Array(I.length).fill(jt).map((It,bt)=>bt===I.indexOf(vt)?ri:It)),nt[vt-ht]++;let ut=0;for(let vt=0;vt<it;vt++)for(;nt[vt]>0;)Wt(I,`å° ${vt+ht} æ¾ååæ°ç»`,[7],Array(I.length).fill(jt).map((It,bt)=>bt===ut?si:It)),I[ut++]=vt+ht,nt[vt]--;Wt(I,"è®¡æ°æåºå®æ",[8],Array(I.length).fill(li))}function bs(I){const J=(it,nt)=>Math.floor(Math.abs(it)/Math.pow(10,nt))%10,ht=Math.max(...I).toString().length;Wt(I,"å¼å§åºæ°æåº",[1,2],Array(I.length).fill(jt)),Wt(I,`æå¤§ä½æ°: ${ht}`,[3],Array(I.length).fill(jt));for(let it=0;it<ht;it++){const nt=Array.from({length:10},()=>[]);Wt(I,`æç¬¬ ${it} ä½æ°å­åéå°æ¡¶`,[5],Array(I.length).fill(jt));for(let ut of I){const vt=J(ut,it);Wt(I,`æ°å­ ${ut} çç¬¬ ${it} ä½: ${vt}`,[7],Array(I.length).fill(jt).map((It,bt)=>bt===I.indexOf(ut)?ri:It)),nt[vt].push(ut)}Wt(I,"æ¶éæ¡¶ä¸­çåç´ ",[9],Array(I.length).fill(jt)),I=[].concat(...nt)}Wt(I,"åºæ°æåºå®æ",[10],Array(I.length).fill(li))}function vs(I){let J=I.length;Wt(I,"å¼å§å¸å°æåº",[1,2],Array(J).fill(jt));for(let ht=Math.floor(J/2);ht>0;ht=Math.floor(ht/2)){Wt(I,`å½åå¢é: ${ht}`,[3],Array(J).fill(jt));for(let it=ht;it<J;it++){let nt=I[it],ut;for(Wt(I,`å°åç´  ${nt} (ç´¢å¼ ${it}) æå¥å°å¢éä¸º ${ht} çå­åºåä¸­`,[5,6],Array(J).fill(jt).map((vt,It)=>It===it?ri:vt)),ut=it;ut>=ht&&I[ut-ht]>nt;ut-=ht)Wt(I,`æ¯è¾ ${I[ut-ht]} å ${nt}`,[8],Array(J).fill(jt).map((vt,It)=>It===ut-ht||It===it?ri:vt)),I[ut]=I[ut-ht],Wt(I,`åç´  ${I[ut]} (ç´¢å¼ ${ut-ht}) åç§»å°ç´¢å¼ ${ut}`,[9],Array(J).fill(jt).map((vt,It)=>It===ut?si:vt));I[ut]=nt,Wt(I,`å° ${nt} æå¥å°ç´¢å¼ ${ut}`,[11],Array(J).fill(jt).map((vt,It)=>It===ut?si:vt))}}Wt(I,"å¸å°æåºå®æ",[12],Array(J).fill(li))}function Ms(I){let J=I.length;Wt(I,"å¼å§å æåº",[1,2],Array(J).fill(jt));for(let ht=Math.floor(J/2)-1;ht>=0;ht--)Wt(I,`æå»ºå : å¯¹å­æ  ${ht} è¿è¡å å`,[4],Array(J).fill(jt).map((it,nt)=>nt===ht?ri:it)),Na(I,J,ht);Wt(I,"æå¤§å æå»ºå®æ",[5],Array(J).fill(jt));for(let ht=J-1;ht>0;ht--)Wt(I,`å°å é¡¶åç´  ${I[0]} ä¸æ«å°¾åç´  ${I[ht]} äº¤æ¢`,[8],Array(J).fill(jt).map((it,nt)=>nt===0||nt===ht?si:it)),[I[0],I[ht]]=[I[ht],I[0]],Wt(I,`äº¤æ¢å®æï¼åç´  ${I[ht]} å·²æåº`,[8],Array(J).fill(jt).map((it,nt)=>nt>ht||nt===ht?li:it)),Wt(I,`å¯¹å©ä½ ${ht} ä¸ªåç´ çå è¿è¡å å`,[10],Array(J).fill(jt).map((it,nt)=>nt>ht?li:it)),Na(I,ht,0);Wt(I,"å æåºå®æ",[11],Array(J).fill(li))}function Na(I,J,ht){let it=ht,nt=2*ht+1,ut=2*ht+2,vt=Array(I.length).fill(jt);for(let It=J;It<I.length;It++)vt[It]=li;Wt(I,`å å: æ ¹èç¹ ${I[ht]} (ç´¢å¼ ${ht})`,[15],vt.map((It,bt)=>bt===ht?ri:It)),nt<J&&(Wt(I,`å å: æ¯è¾æ ¹èç¹ ${I[it]} åå·¦å­èç¹ ${I[nt]}`,[19],vt.map((It,bt)=>bt===it||bt===nt?ri:It)),I[nt]>I[it]&&(it=nt,Wt(I,`å å: å·¦å­èç¹ ${I[nt]} æ´å¤§`,[20],vt.map((It,bt)=>bt===it?ri:It)))),ut<J&&(Wt(I,`å å: æ¯è¾å½åæå¤§ ${I[it]} åå³å­èç¹ ${I[ut]}`,[24],vt.map((It,bt)=>bt===it||bt===ut?ri:It)),I[ut]>I[it]&&(it=ut,Wt(I,`å å: å³å­èç¹ ${I[ut]} æ´å¤§`,[25],vt.map((It,bt)=>bt===it?ri:It)))),it!==ht&&(Wt(I,`å å: äº¤æ¢ ${I[ht]} å ${I[it]}`,[29],vt.map((It,bt)=>bt===ht||bt===it?si:It)),[I[ht],I[it]]=[I[it],I[ht]],Wt(I,"å å: äº¤æ¢å®æ",[29],vt.map((It,bt)=>bt===ht||bt===it?si:It)),Na(I,J,it))}var Ea={exports:{}},Ja;function ks(){return Ja||(Ja=1,function(I){(function(){function J(v,T){v.prototype=ht(T.prototype),v.prototype.constructor=v,v.base=T.prototype}function ht(v){function T(){}return T.prototype=v,new T}function it(v,T,L){return L==="millisecond"?v.setMilliseconds(v.getMilliseconds()+1*T):L==="second"?v.setSeconds(v.getSeconds()+1*T):L==="minute"?v.setMinutes(v.getMinutes()+1*T):L==="hour"?v.setHours(v.getHours()+1*T):L==="day"?v.setDate(v.getDate()+1*T):L==="week"?v.setDate(v.getDate()+7*T):L==="month"?v.setMonth(v.getMonth()+1*T):L==="year"&&v.setFullYear(v.getFullYear()+1*T),v}function nt(v,T){var L=!1;for(0>v&&(L=!0,v*=-1),v=""+v,T=T||1;v.length<T;)v="0"+v;return L?"-"+v:v}function ut(v){if(!v)return v;v=v.replace(/^\s\s*/,"");for(var T=/\s/,L=v.length;T.test(v.charAt(--L)););return v.slice(0,L+1)}function vt(v){v.roundRect=function(T,L,Z,yt,Ct,at,Yt,ye){Yt&&(this.fillStyle=Yt),ye&&(this.strokeStyle=ye),typeof Ct>"u"&&(Ct=5),Ct=Math.min(Ct,Math.min(Z,yt)/2),this.lineWidth=at,this.beginPath(),this.moveTo(T+Ct,L),this.lineTo(T+Z-Ct,L),this.quadraticCurveTo(T+Z,L,T+Z,L+Ct),this.lineTo(T+Z,L+yt-Ct),this.quadraticCurveTo(T+Z,L+yt,T+Z-Ct,L+yt),this.lineTo(T+Ct,L+yt),this.quadraticCurveTo(T,L+yt,T,L+yt-Ct),this.lineTo(T,L+Ct),this.quadraticCurveTo(T,L,T+Ct,L),this.closePath(),Yt&&this.fill(),ye&&0<at&&this.stroke()}}function It(v,T){return v-T}function bt(v){var T=((v&16711680)>>16).toString(16),L=((v&65280)>>8).toString(16);return v=((v&255)>>0).toString(16),T=2>T.length?"0"+T:T,L=2>L.length?"0"+L:L,v=2>v.length?"0"+v:v,"#"+T+L+v}function hi(v,T){var L=this.length>>>0,Z=Number(T)||0,Z=0>Z?Math.ceil(Z):Math.floor(Z);for(0>Z&&(Z+=L);Z<L;Z++)if(Z in this&&this[Z]===v)return Z;return-1}function B(v){return v===null||typeof v>"u"}function ni(v){return v.indexOf||(v.indexOf=hi),v}function Ji(v){ci.fSDec&&v[Je("`eeDwdouMhrudods")](Je("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){ci._fTWm&&ci._fTWm(v)})}function Zi(v,T,L){L=L||"normal";var Z=v+"_"+T+"_"+L,yt=Ui[Z];if(isNaN(yt)){try{if(!_i){var Ct=document.body;_i=document.createElement("span"),_i.innerHTML="";var at=document.createTextNode("Mpgyi");_i.appendChild(at),Ct.appendChild(_i)}_i.style.display="",fe(_i,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:v,fontSize:T+"px",fontWeight:L}),yt=Math.round(_i.offsetHeight),_i.style.display="none"}catch{yt=Math.ceil(1.1*T)}yt=Math.max(yt,T),Ui[Z]=yt}return yt}function Pt(v,T){var L=[];if(L={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[v||"solid"])for(var Z=0;Z<L.length;Z++)L[Z]*=T;else L=[];return L}function Ft(v,T,L,Z,yt){return Z=Z||[],yt=B(yt)?ji?{passive:!1,capture:!1}:!1:yt,Z.push([v,T,L,yt]),v.addEventListener?(v.addEventListener(T,L,yt),L):v.attachEvent?(Z=function(Ct){Ct=Ct||window.event,Ct.preventDefault=Ct.preventDefault||function(){Ct.returnValue=!1},Ct.stopPropagation=Ct.stopPropagation||function(){Ct.cancelBubble=!0},L.call(v,Ct)},v.attachEvent("on"+T,Z),Z):!1}function Xi(v){if(v._menuButton)v.exportEnabled?(fe(v._menuButton,{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor}),Ae(v._menuButton),ue(v,v._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&v._menuButton.childNodes[0]&&fe(v._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):gi(v._menuButton);else if(v.exportEnabled&&R){var T=!1;v._menuButton=document.createElement("button"),ue(v,v._menuButton,"menu"),v._toolBar.appendChild(v._menuButton),Ft(v._menuButton,"touchstart",function(Ct){T=!0},v.allDOMEventHandlers),Ft(v._menuButton,"click",function(){v._dropdownMenu.style.display!=="none"||v._dropDownCloseTime&&500>=new Date().getTime()-v._dropDownCloseTime.getTime()||(v._dropdownMenu.style.display="block",v._menuButton.blur(),v._dropdownMenu.focus())},v.allDOMEventHandlers,!0),Ft(v._menuButton,"mousemove",function(){T||(fe(v._menuButton,{backgroundColor:v.toolbar.itemBackgroundColorOnHover,color:v.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&fe(v._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},v.allDOMEventHandlers,!0),Ft(v._menuButton,"mouseout",function(){T||(fe(v._menuButton,{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&fe(v._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},v.allDOMEventHandlers,!0)}if(v.exportEnabled&&v._dropdownMenu){var L=v.theme&&v.theme.indexOf("dark")!==-1?"black":"#888888";fe(v._dropdownMenu,{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor,boxShadow:"2px 2px 10px "+L});for(var L=v._dropdownMenu.childNodes,Z=[v._cultureInfo.printText,v._cultureInfo.saveJPGText,v._cultureInfo.savePNGText],yt=0;yt<Z.length;yt++)fe(L[yt],{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor}),L[yt].innerHTML=Z[yt]}else!v._dropdownMenu&&v.exportEnabled&&R&&(T=!1,v._dropdownMenu=document.createElement("div"),v._dropdownMenu.setAttribute("tabindex",-1),L=v.theme&&v.theme.indexOf("dark")!==-1?"black":"#888888",fe(v._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:v.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+L}),v._dropdownMenu.style.display="none",v._toolBar.appendChild(v._dropdownMenu),Ft(v._dropdownMenu,"blur",function(){gi(v._dropdownMenu),v._dropDownCloseTime=new Date},v.allDOMEventHandlers,!0),L=document.createElement("div"),fe(L,{padding:"12px 8px 12px 8px"}),L.innerHTML=v._cultureInfo.printText,L.style.backgroundColor=v.toolbar.itemBackgroundColor,L.style.color=v.toolbar.fontColor,v._dropdownMenu.appendChild(L),Ft(L,"touchstart",function(Ct){T=!0},v.allDOMEventHandlers),Ft(L,"mousemove",function(){T||(this.style.backgroundColor=v.toolbar.itemBackgroundColorOnHover,this.style.color=v.toolbar.fontColorOnHover)},v.allDOMEventHandlers,!0),Ft(L,"mouseout",function(){T||(this.style.backgroundColor=v.toolbar.itemBackgroundColor,this.style.color=v.toolbar.fontColor)},v.allDOMEventHandlers,!0),Ft(L,"click",function(){v.print(),gi(v._dropdownMenu)},v.allDOMEventHandlers,!0),L=document.createElement("div"),fe(L,{padding:"12px 8px 12px 8px"}),L.innerHTML=v._cultureInfo.saveJPGText,L.style.backgroundColor=v.toolbar.itemBackgroundColor,L.style.color=v.toolbar.fontColor,v._dropdownMenu.appendChild(L),Ft(L,"touchstart",function(Ct){T=!0},v.allDOMEventHandlers),Ft(L,"mousemove",function(){T||(this.style.backgroundColor=v.toolbar.itemBackgroundColorOnHover,this.style.color=v.toolbar.fontColorOnHover)},v.allDOMEventHandlers,!0),Ft(L,"mouseout",function(){T||(this.style.backgroundColor=v.toolbar.itemBackgroundColor,this.style.color=v.toolbar.fontColor)},v.allDOMEventHandlers,!0),Ft(L,"click",function(){v.exportChart({format:"jpeg",fileName:v.exportFileName}),gi(v._dropdownMenu)},v.allDOMEventHandlers,!0),L=document.createElement("div"),fe(L,{padding:"12px 8px 12px 8px"}),L.innerHTML=v._cultureInfo.savePNGText,L.style.backgroundColor=v.toolbar.itemBackgroundColor,L.style.color=v.toolbar.fontColor,v._dropdownMenu.appendChild(L),Ft(L,"touchstart",function(Ct){T=!0},v.allDOMEventHandlers),Ft(L,"mousemove",function(){T||(this.style.backgroundColor=v.toolbar.itemBackgroundColorOnHover,this.style.color=v.toolbar.fontColorOnHover)},v.allDOMEventHandlers,!0),Ft(L,"mouseout",function(){T||(this.style.backgroundColor=v.toolbar.itemBackgroundColor,this.style.color=v.toolbar.fontColor)},v.allDOMEventHandlers,!0),Ft(L,"click",function(){v.exportChart({format:"png",fileName:v.exportFileName}),gi(v._dropdownMenu)},v.allDOMEventHandlers,!0))}function qt(v,T,L){for(v*=Ue,T*=Ue,v=L.getImageData(v,T,2,2).data,T=!0,L=0;4>L;L++)if(v[L]!==v[L+4]|v[L]!==v[L+8]|v[L]!==v[L+12]){T=!1;break}return T?v[0]<<16|v[1]<<8|v[2]:0}function xe(v,T,L){return v in T?T[v]:L[v]}function Bi(v,T,L,Z){R&&Aa?(Z=!B(Z)&&Z?v.getContext("2d",{willReadFrequently:!0}):v.getContext("2d"),la=Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1,Ue=xa/la,v.width=T*Ue,v.height=L*Ue,xa!==la&&(v.style.width=T+"px",v.style.height=L+"px",Z.scale(Ue,Ue))):(v.width=T,v.height=L)}function ki(v){if(!ta){var T=!1,L=!1;typeof Nt.Chart.creditHref>"u"?(v.creditHref=Je("iuuqr;..b`ow`rkr/bnl."),v.creditText=Je("B`ow`rKR/bnl")):(T=v.updateOption("creditText"),L=v.updateOption("creditHref")),v.creditHref&&v.creditText&&(v._creditLink||(v._creditLink=document.createElement("a"),v._creditLink.setAttribute("class","canvasjs-chart-credit"),v._creditLink.setAttribute("title","JavaScript Charts"),fe(v._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:v.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),v._creditLink.setAttribute("tabIndex",-1),v._creditLink.setAttribute("target","_blank")),(v.renderCount===0||T||L)&&(v._creditLink.setAttribute("href",v.creditHref),v._creditLink.innerHTML=v.creditText),v._creditLink&&v.creditHref&&v.creditText?(v._creditLink.parentElement||v._canvasJSContainer.appendChild(v._creditLink),v._creditLink.style.top=v.height-14+"px"):v._creditLink.parentElement&&v._canvasJSContainer.removeChild(v._creditLink))}}function di(v,T,L){var Z=document.createElement("canvas");return Z.setAttribute("class","canvasjs-chart-canvas"),Bi(Z,v,T,L),R||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(Z),Z}function fe(v,T){for(var L in T)v.style[L]=T[L]}function M(v){return v.currentStyle?v.currentStyle:window&&window.getComputedStyle?window.getComputedStyle(v,null):v.style}function ue(v,T,L){T.getAttribute("state")||(T.style.backgroundColor=v.toolbar.itemBackgroundColor,T.style.color=v.toolbar.fontColor,T.style.border="none",fe(T,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),T.getAttribute("state")!==L&&(T.setAttribute("state",L),T.setAttribute("type","button"),fe(T,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),T.innerHTML="<img src='"+Ba[L].image+"' alt='"+v._cultureInfo[L+"Text"]+"' />",fe(T.childNodes[0],{height:"95%",pointerEvents:"none"})),T.setAttribute("title",v._cultureInfo[L+"Text"])}function Ae(){for(var v=null,T=0;T<arguments.length;T++)v=arguments[T],v.style&&(v.style.display="inline")}function gi(){for(var v=null,T=0;T<arguments.length;T++)(v=arguments[T])&&v.style&&(v.style.display="none")}function oa(v,T,L,Z,yt){return v===null||typeof v>"u"?typeof L>"u"?T:L:(v=parseFloat(v.toString())*(0<=v.toString().indexOf("%")?T/100:1),typeof Z<"u"&&(v=Math.min(Z,v),typeof yt<"u"&&(v=Math.max(yt,v))),!isNaN(v)&&v<=T&&0<=v?v:typeof L>"u"?T:L)}function De(v,T,L,Z,yt){this._defaultsKey=v,this._themeOptionsKey=T,this._index=Z,this.parent=yt,this._eventListeners=[],v={},this.theme&&B(this.parent)&&B(T)&&B(Z)?v=B(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[T]&&(Z===null?v=this.parent.themeOptions[T]:0<this.parent.themeOptions[T].length&&(Z=Math.min(this.parent.themeOptions[T].length-1,Z),v=this.parent.themeOptions[T][Z])),this.themeOptions=v,this.options=L||{_isPlaceholder:!0},this.setOptions(this.options,v)}function Ut(v,T,L,Z,yt){typeof yt>"u"&&(yt=0),this._padding=yt,this._x1=v,this._y1=T,this._x2=L,this._y2=Z,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function Be(v,T){Be.base.constructor.call(this,"TextBlock",null,T,null,null),this.ctx=v,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Gi(v,T){Gi.base.constructor.call(this,"Toolbar","toolbar",T,null,v),this.chart=v,this.canvas=v.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function Li(v,T){if(Li.base.constructor.call(this,"Title","title",T,null,v),this.chart=v,this.canvas=v.canvas,this.ctx=this.chart.ctx,this.optionsName="title",B(this.options.margin)&&v.options.subtitles){for(var L=v.options.subtitles,Z=0;Z<L.length;Z++)if((B(L[Z].horizontalAlign)&&this.horizontalAlign==="center"||L[Z].horizontalAlign===this.horizontalAlign)&&(B(L[Z].verticalAlign)&&this.verticalAlign==="top"||L[Z].verticalAlign===this.verticalAlign)&&!L[Z].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function ei(v,T,L){ei.base.constructor.call(this,"Subtitle","subtitles",T,L,v),this.chart=v,this.canvas=v.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Fi(){this.pool=[]}function Ti(v){var T;v&&O[v]&&(T=O[v]),Ti.base.constructor.call(this,"CultureInfo",null,T,null,null)}var qi=!1,ci={},R=!!document.createElement("canvas").getContext,Nt={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:R?"transparent":null,margin:5,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:R?"transparent":null,borderColor:R?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextAlign:"left",itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:R?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:R?"transparent":null,titleBorderColor:R?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,titleTextAlign:"left",titlePadding:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:R?"transparent":null,labelBorderColor:R?"transparent":null,labelBorderThickness:0,labelPadding:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:R?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:R?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,labelTextAlign:"left",labelPadding:0,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelTextAlign:"left",labelBackgroundColor:R?"grey":null,labelBorderColor:R?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:R?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelPadding:{top:2,right:3,bottom:2,left:4},labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelPadding:0,indexLabelBackgroundColor:null,indexLabelBorderColor:null,indexLabelBorderThickness:0,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:!1,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:R?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:R?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},O={en:{}},X=R?"Trebuchet MS, Helvetica, sans-serif":"Arial",ot=R?"Impact, Charcoal, sans-serif":"Arial",Mt={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},dt,kt,Vt,ce,re;kt="#333333",Vt="#000000",dt="#666666",re=ce="#000000";var ge=20,wt=14,Zt={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:ot,fontSize:32,fontColor:kt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ot,fontSize:wt,fontColor:kt,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:X,indexLabelFontSize:wt,indexLabelFontColor:kt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:kt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:0,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:kt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:0,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:kt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:1,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:kt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:1,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:X,fontSize:14,fontColor:kt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};Vt=kt="#F5F5F5",dt="#FFFFFF",ce="#40BAF1",re="#F5F5F5";var ge=20,wt=14,Me={colorSet:"colorSet2",title:{fontFamily:X,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:X,fontSize:wt,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:X,indexLabelFontSize:wt,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:X,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};Vt=kt="#F5F5F5",dt="#FFFFFF",ce="#40BAF1",re="#F5F5F5",ge=20,wt=14,ot={colorSet:"colorSet1",backgroundColor:"#2A2A2A",title:{fontFamily:ot,fontSize:32,fontColor:kt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:ot,fontSize:wt,fontColor:kt,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:X,indexLabelFontSize:wt,indexLabelFontColor:Vt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:0,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:0,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:1,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:1,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:X,fontSize:14,fontColor:kt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:Vt,backgroundColor:"rgba(0, 0, 0, .7)"}},dt="#FFFFFF",Vt=kt="#FAFAFA",ce="#40BAF1",re="#F5F5F5";var ge=20,wt=14,Qe={light1:Zt,light2:Me,dark1:ot,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:X,fontSize:32,fontColor:kt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:X,fontSize:wt,fontColor:kt,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:X,indexLabelFontSize:wt,indexLabelFontColor:Vt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:0,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:1,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:0,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:0,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:1,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:X,titleFontSize:ge,titleFontColor:Vt,titleFontWeight:"normal",labelFontFamily:X,labelFontSize:wt,labelFontColor:Vt,labelFontWeight:"normal",lineThickness:0,lineColor:dt,tickThickness:1,tickColor:dt,gridThickness:1,gridColor:dt,stripLines:[{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:X,labelFontSize:wt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:ce,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:X,fontSize:14,fontColor:kt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:X,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:Vt,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Zt,theme2:Me,theme3:Zt},Qt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};(function(){ci.fSDec=function(v){for(var T="",L=0;L<v.length;L++)T+=String.fromCharCode(Math.ceil(v.length/57/5)^v.charCodeAt(L));return T},delete Nt[ci.fSDec("Bi`su")][ci.fSDec("bsdehuIsdg")],ci.pro={sCH:Nt[ci.fSDec("Bi`su")][ci.fSDec("bsdehuIsdg")]}})();var ji=function(){var v=!1;try{var T=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return v=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,T),window.removeEventListener("test",null,T))}catch{v=!1}return v}(),Ui={},_i=null,Ii=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Pi=function(v){v.width=1,v.height=1,v.getContext("2d")&&v.getContext("2d").clearRect(0,0,1,1)},ra=function(v,T,L){return T=Math.min(this.width,this.height),Math.max(this.theme==="theme4"?0:300<=T?12:11,Math.round(T*(v/400)))},Rt=function(){var v=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,T="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),L="Sun Mon Tue Wed Thu Fri Sat".split(" "),Z="January February March April May June July August September October November December".split(" "),yt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ct=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,at=/[^-+\dA-Z]/g;return function(Yt,ye,Se){var pi=Se?Se.days:T,Xe=Se?Se.months:Z,Ze=Se?Se.shortDays:L,Le=Se?Se.shortMonths:yt;Se="";var Ge=!1;if(Yt=Yt&&Yt.getTime?Yt:Yt?new Date(Yt):new Date,isNaN(Yt))throw SyntaxError("invalid date");ye.slice(0,4)==="UTC:"&&(ye=ye.slice(4),Ge=!0),Se=Ge?"getUTC":"get";var ii=Yt[Se+"Date"](),Xt=Yt[Se+"Day"](),Ie=Yt[Se+"Month"](),t=Yt[Se+"FullYear"](),n=Yt[Se+"Hours"](),i=Yt[Se+"Minutes"](),e=Yt[Se+"Seconds"](),a=Yt[Se+"Milliseconds"](),r=Ge?0:Yt.getTimezoneOffset();return Se=ye.replace(v,function(l){switch(l){case"D":return ii;case"DD":return nt(ii,2);case"DDD":return Ze[Xt];case"DDDD":return pi[Xt];case"M":return Ie+1;case"MM":return nt(Ie+1,2);case"MMM":return Le[Ie];case"MMMM":return Xe[Ie];case"Y":return parseInt(String(t).slice(-2));case"YY":return nt(String(t).slice(-2),2);case"YYY":return nt(String(t).slice(-3),3);case"YYYY":return nt(t,4);case"h":return n%12||12;case"hh":return nt(n%12||12,2);case"H":return n;case"HH":return nt(n,2);case"m":return i;case"mm":return nt(i,2);case"s":return e;case"ss":return nt(e,2);case"f":return nt(String(a),3).slice(0,1);case"ff":return nt(String(a),3).slice(0,2);case"fff":return nt(String(a),3).slice(0,3);case"t":return 12>n?"a":"p";case"tt":return 12>n?"am":"pm";case"T":return 12>n?"A":"P";case"TT":return 12>n?"AM":"PM";case"K":return Ge?"UTC":(String(Yt).match(Ct)||[""]).pop().replace(at,"");case"z":return(0<r?"-":"+")+Math.floor(Math.abs(r)/60);case"zz":return(0<r?"-":"+")+nt(Math.floor(Math.abs(r)/60),2);case"zzz":return(0<r?"-":"+")+nt(Math.floor(Math.abs(r)/60),2)+nt(Math.abs(r)%60,2);default:return l.slice(1,l.length-1)}})}}(),fi=function(v){var T=0>v;if(1>Math.abs(v)){var L=parseInt(v.toString().split("e-")[1]);L&&(v=(T?-1*v:v)*Math.pow(10,L-1),v="0."+Array(L).join("0")+v.toString().substring(2),v=T?"-"+v:v)}else L=parseInt(v.toString().split("+")[1]),20<L&&(L-=20,v/=Math.pow(10,L),v=v.toString()+Array(L+1).join("0"));return String(v)},Re=function(v,T,L){if(v===null)return"";if(!isFinite(v))return v;v=Number(v);var Z=0>v;Z&&(v*=-1);var yt=L?L.decimalSeparator:".",Ct=L?L.digitGroupSeparator:",",at="";T=String(T);var at=1,ii=L="",Yt=-1,ye=[],Se=[],pi=0,Xe=0,Ze=0,Le=!1,Ge=0,ii=T.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);T=null;for(var Xt=0;ii&&Xt<ii.length;Xt++)if(T=ii[Xt],T==="."&&0>Yt)Yt=Xt;else{if(T==="%")at*=100;else if(T==="â°"){at*=1e3;continue}else if(T[0]===","&&T[T.length-1]==="."){at/=Math.pow(1e3,T.length-1),Yt=Xt+T.length-1;continue}else T[0]!=="E"&&T[0]!=="e"||T[T.length-1]!=="0"||(Le=!0);0>Yt?(ye.push(T),T==="#"||T==="0"?pi++:T===","&&Ze++):(Se.push(T),T!=="#"&&T!=="0"||Xe++)}for(Le&&(T=Math.floor(v),ii=-Math.floor(Math.log(v)/Math.LN10+1),Ge=v===0?0:T===0?-(pi+ii):fi(T).length-pi,at/=Math.pow(10,Ge)),0>Yt&&(Yt=Xt),at=(v*at).toFixed(Xe),T=at.split("."),at=(T[0]+"").split(""),v=(T[1]+"").split(""),at&&at[0]==="0"&&at.shift(),Le=ii=Xt=Xe=Yt=0;0<ye.length;)if(T=ye.pop(),T==="#"||T==="0")if(Yt++,Yt===pi){var Ie=at,at=[];if(T==="0")for(T=pi-Xe-(Ie?Ie.length:0);0<T;)Ie.unshift("0"),T--;for(;0<Ie.length;)L=Ie.pop()+L,Le++,Le%ii===0&&Xt===Ze&&0<Ie.length&&(L=Ct+L)}else 0<at.length?(L=at.pop()+L,Xe++,Le++):T==="0"&&(L="0"+L,Xe++,Le++),Le%ii===0&&Xt===Ze&&0<at.length&&(L=Ct+L);else T[0]!=="E"&&T[0]!=="e"||T[T.length-1]!=="0"||!/[eE][+-]*[0]+/.test(T)?T===","?(Xt++,ii=Le,Le=0,0<at.length&&(L=Ct+L)):L=1<T.length&&(T[0]==='"'&&T[T.length-1]==='"'||T[0]==="'"&&T[T.length-1]==="'")?T.slice(1,T.length-1)+L:T+L:(T=0>Ge?T.replace("+","").replace("-",""):T.replace("-",""),L+=T.replace(/[0]+/,function(t){return nt(Ge,t.length)}));for(Ct="",ye=!1;0<Se.length;)T=Se.shift(),T==="#"||T==="0"?0<v.length&&Number(v.join(""))!==0?(Ct+=v.shift(),ye=!0):T==="0"&&(Ct+="0",ye=!0):1<T.length&&(T[0]==='"'&&T[T.length-1]==='"'||T[0]==="'"&&T[T.length-1]==="'")?Ct+=T.slice(1,T.length-1):T[0]!=="E"&&T[0]!=="e"||T[T.length-1]!=="0"||!/[eE][+-]*[0]+/.test(T)?Ct+=T:(T=0>Ge?T.replace("+","").replace("-",""):T.replace("-",""),Ct+=T.replace(/[0]+/,function(t){return nt(Ge,t.length)}));return L+=(ye?yt:"")+Ct,Z?"-"+L:L},pa=function(v){var T=0,L=0;return v=v||window.event,v.offsetX||v.offsetX===0?(T=v.offsetX,L=v.offsetY):v.layerX||v.layerX==0?(T=v.layerX,L=v.layerY):(T=v.pageX-v.target.offsetLeft,L=v.pageY-v.target.offsetTop),{x:T,y:L}},Aa=!0,xa=window.devicePixelRatio||1,la=1,Ue=xa/la,Pe=function(v,T,L,Z,yt,Ct,at,Yt,ye,Se,pi,Xe,Ze){typeof Ze>"u"&&(Ze=1),at=at||0,Yt=Yt||"black";var Le=15<Z-T&&15<yt-L?8:.35*Math.min(Z-T,yt-L);v.beginPath(),v.moveTo(T,L),v.save(),v.fillStyle=Ct,v.globalAlpha=Ze,v.fillRect(T,L,Z-T,yt-L),v.globalAlpha=1,0<at&&(Ze=at%2===0?0:.5,v.beginPath(),v.lineWidth=at,v.strokeStyle=Yt,v.moveTo(T,L),v.rect(T-Ze,L-Ze,Z-T+2*Ze,yt-L+2*Ze),v.stroke()),v.restore(),ye===!0&&(v.save(),v.beginPath(),v.moveTo(T,L),v.lineTo(T+Le,L+Le),v.lineTo(Z-Le,L+Le),v.lineTo(Z,L),v.closePath(),at=v.createLinearGradient((Z+T)/2,L+Le,(Z+T)/2,L),at.addColorStop(0,Ct),at.addColorStop(1,"rgba(255, 255, 255, .4)"),v.fillStyle=at,v.fill(),v.restore()),Se===!0&&(v.save(),v.beginPath(),v.moveTo(T,yt),v.lineTo(T+Le,yt-Le),v.lineTo(Z-Le,yt-Le),v.lineTo(Z,yt),v.closePath(),at=v.createLinearGradient((Z+T)/2,yt-Le,(Z+T)/2,yt),at.addColorStop(0,Ct),at.addColorStop(1,"rgba(255, 255, 255, .4)"),v.fillStyle=at,v.fill(),v.restore())},Je=function(v){for(var T="",L=0;L<v.length;L++)T+=String.fromCharCode(Math.ceil(v.length/57/5)^v.charCodeAt(L));return T},ta=window&&window[Je("mnb`uhno")]&&window[Je("mnb`uhno")].href&&window[Je("mnb`uhno")].href.indexOf&&(window[Je("mnb`uhno")].href.indexOf(Je("b`ow`rkr/bnl"))!==-1||window[Je("mnb`uhno")].href.indexOf(Je("gdonqhy/bnl"))!==-1||window[Je("mnb`uhno")].href.indexOf(Je("gheemd"))!==-1)&&window[Je("mnb`uhno")].href.indexOf(Je("gheemd"))===-1,Ba={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};De.prototype.setOptions=function(v,T){if(Nt[this._defaultsKey]){var L=Nt[this._defaultsKey],Z;for(Z in L)Z!=="publicProperties"&&L.hasOwnProperty(Z)&&(this[Z]=v&&Z in v?v[Z]:T&&Z in T?T[Z]:L[Z])}},De.prototype.get=function(v){var T=Nt[this._defaultsKey];if(v==="options")return this.options&&this.options._isPlaceholder?null:this.options;if(T.hasOwnProperty(v)||T.publicProperties&&T.publicProperties.hasOwnProperty(v))return this[v];window.console&&window.console.log('Property "'+v+`" doesn't exist. Please check for typo.`)},De.prototype.set=function(v,T,L){L=typeof L>"u"?!0:L;var Z=Nt[this._defaultsKey];if(v==="options")this.createUserOptions(T);else if(Z.hasOwnProperty(v)||Z.publicProperties&&Z.publicProperties.hasOwnProperty(v)&&Z.publicProperties[v]==="readWrite")this.options._isPlaceholder&&this.createUserOptions(),this.options[v]=T;else{window.console&&(Z.publicProperties&&Z.publicProperties.hasOwnProperty(v)&&Z.publicProperties[v]==="readOnly"?window.console.log('Property "'+v+'" is read-only.'):window.console.log('Property "'+v+`" doesn't exist. Please check for typo.`));return}L&&(this.stockChart||this.chart||this).render()},De.prototype.addTo=function(v,T,L,Z){Z=typeof Z>"u"?!0:Z;var yt=Nt[this._defaultsKey];yt.hasOwnProperty(v)||yt.publicProperties&&yt.publicProperties.hasOwnProperty(v)&&yt.publicProperties[v]==="readWrite"?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[v]>"u"&&(this.options[v]=[]),v=this.options[v],L=typeof L>"u"||L===null?v.length:L,v.splice(L,0,T),Z&&(this.stockChart||this.chart||this).render()):window.console&&(yt.publicProperties&&yt.publicProperties.hasOwnProperty(v)&&yt.publicProperties[v]==="readOnly"?window.console.log('Property "'+v+'" is read-only.'):window.console.log('Property "'+v+`" doesn't exist. Please check for typo.`))},De.prototype.createUserOptions=function(v){if(typeof v<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var T=this.parent.options[this.optionsName],L=T.length;this.options._isPlaceholder||(ni(T),L=T.indexOf(this.options)),this.options=typeof v>"u"?{}:v,T[L]=this.options}else this.options=typeof v>"u"?{}:v,this.parent&&(v=this.parent.options,this.optionsName?T=this.optionsName:(T=this._defaultsKey)&&T.length!==0?(L=T.charAt(0).toLowerCase(),1<T.length&&(L=L.concat(T.slice(1))),T=L):T=void 0,v[T]=this.options)},De.prototype.remove=function(v){if(v=typeof v>"u"?!0:v,this.isOptionsInArray){var T=this.parent.options[this.optionsName];ni(T);var L=T.indexOf(this.options);0<=L&&T.splice(L,1)}else delete this.parent.options[this.optionsName];v&&(this.stockChart||this.chart||this).render()},De.prototype.updateOption=function(v){Nt[this._defaultsKey];var T=Nt[this._defaultsKey],L={},Z=this[v],yt=this._themeOptionsKey,Ct=this._index;return this.theme&&B(this.parent)&&B(yt)&&B(Ct)?L=B(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme?this._defaultsKey==="Chart"&&Qe[this.options.theme]?L=Qe[this.options.theme]:stockThemes[this.options.theme]&&(L=stockThemes[this.options.theme][yt]):this.parent.themeOptions[yt]&&(Ct===null?L=this.parent.themeOptions[yt]:0<this.parent.themeOptions[yt].length&&(L=Math.min(this.parent.themeOptions[yt].length-1,Ct),L=this.parent.themeOptions[yt][L]))),this.themeOptions=L,v in T&&(Z=v in this.options?this.options[v]:L&&v in L?L[v]:T[v]),Z===this[v]?!1:(this[v]=Z,!0)},De.prototype.trackChanges=function(v){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[v]=this.options[v]},De.prototype.isBeingTracked=function(v){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[v]},De.prototype.hasOptionChanged=function(v){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[v]!==this.options[v]},De.prototype.addEventListener=function(v,T,L){v&&T&&(this._eventListeners[v]=this._eventListeners[v]||[],this._eventListeners[v].push({context:L||this,eventHandler:T}))},De.prototype.removeEventListener=function(v,T){if(v&&T&&this._eventListeners[v]){for(var L=this._eventListeners[v],Z=0;Z<L.length;Z++)if(L[Z].eventHandler===T){L[Z].splice(Z,1);break}}},De.prototype.removeAllEventListeners=function(){this._eventListeners=[]},De.prototype.dispatchEvent=function(v,T,L){if(v&&this._eventListeners[v]){T=T||{};for(var Z=this._eventListeners[v],yt=0;yt<Z.length;yt++)Z[yt].eventHandler.call(Z[yt].context,T)}typeof this[v]=="function"&&this[v].call(L||this.chart,T)},Ut.prototype.registerSpace=function(v,T){v==="top"?this._topOccupied+=T.height:v==="bottom"?this._bottomOccupied+=T.height:v==="left"?this._leftOccupied+=T.width:v==="right"&&(this._rightOccupied+=T.width)},Ut.prototype.unRegisterSpace=function(v,T){v==="top"?this._topOccupied-=T.height:v==="bottom"?this._bottomOccupied-=T.height:v==="left"?this._leftOccupied-=T.width:v==="right"&&(this._rightOccupied-=T.width)},Ut.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Ut.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},J(Be,De),Be.prototype._initialize=function(){B(this.padding)||typeof this.padding!="object"?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=Number(this.padding)|0:(this.topPadding=B(this.padding.top)?0:Number(this.padding.top)|0,this.rightPadding=B(this.padding.right)?0:Number(this.padding.right)|0,this.bottomPadding=B(this.padding.bottom)?0:Number(this.padding.bottom)|0,this.leftPadding=B(this.padding.left)?0:Number(this.padding.left)|0)},Be.prototype.render=function(v){if(this.fontSize!==0){v&&this.ctx.save();var T=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var L=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+L),this.textBaseline==="middle"&&(L=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var Z=0,yt=this.topPadding,Ct=null;for(this.ctx.roundRect||vt(this.ctx),this.borderDashType=this.borderDashType||"solid",this.ctx.setLineDash&&this.ctx.setLineDash(Pt(this.borderDashType,this.borderThickness)),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,L,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,L=0;L<this._wrappedText.lines.length;L++)Ct=this._wrappedText.lines[L],this.textAlign==="right"?Z=this.width-Ct.width-this.rightPadding:this.textAlign==="left"?Z=this.leftPadding:this.textAlign==="center"&&(Z=(this.width-(this.leftPadding+this.rightPadding))/2-Ct.width/2+this.leftPadding),this.ctx.fillText(Ct.text,Z,yt),yt+=Ct.height;this.ctx.font=T,v&&this.ctx.restore()}},Be.prototype.setText=function(v){this.text=v,this._isDirty=!0,this._wrappedText=null},Be.prototype.measureText=function(){if(this._lineHeight=Zi(this.fontFamily,this.fontSize,this.fontWeight),this.maxWidth===null)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},Be.prototype._getLineWithWidth=function(v,T,L){if(v=String(v),!v)return{text:"",width:0};var Z=L=0,yt=v.length-1,Ct=1/0;for(this.ctx.font=this._getFontString();Z<=yt;){var Ct=Math.floor((Z+yt)/2),at=v.substr(0,Ct+1);if(L=this.ctx.measureText(at).width,L<T)Z=Ct+1;else if(L>T)yt=Ct-1;else break}return L>T&&1<at.length&&(at=at.substr(0,at.length-1),L=this.ctx.measureText(at).width),T=!0,(at.length===v.length||v[at.length]===" ")&&(T=!1),T&&(v=at.split(" "),1<v.length&&v.pop(),at=v.join(" "),L=this.ctx.measureText(at).width),{text:at,width:L}},Be.prototype._wrapText=function(){var v=new String(ut(String(this.text))),T=[],L=this.ctx.font,Z=0,yt=0;if(this.ctx.font=this._getFontString(),this.frontSize===0)yt=Z=0;else for(;0<v.length;){var Ct=this.maxHeight-(this.topPadding+this.bottomPadding),at=this._getLineWithWidth(v,this.maxWidth-(this.leftPadding+this.rightPadding),!1);at.height=this._lineHeight,T.push(at);var Yt=yt,yt=Math.max(yt,at.width),Z=Z+at.height,v=ut(v.slice(at.text.length,v.length));Ct&&Z>Ct&&(at=T.pop(),Z-=at.height,yt=Yt)}this._wrappedText={lines:T,width:yt,height:Z},this.width=yt+(this.leftPadding+this.rightPadding),this.height=Z+(this.topPadding+this.bottomPadding),this.ctx.font=L},Be.prototype._getFontString=function(){var v;v=this.fontStyle?this.fontStyle+" ":"",v+=this.fontWeight?this.fontWeight+" ":"",v+=this.fontSize?this.fontSize+"px ":"";var T=this.fontFamily?this.fontFamily+"":"";return!R&&T&&(T=T.split(",")[0],T[0]!=="'"&&T[0]!=='"'&&(T="'"+T+"'")),v+=T},J(Gi,De),J(Li,De),Li.prototype.setLayout=function(){if(this.text){var v=this.dockInsidePlotArea?this.chart.plotArea:this.chart,T=v.layoutManager.getFreeSpace(),yt=T.x1,Z=T.y1,L=0,Z=0,yt=this.chart._menuButton&&this.chart.exportEnabled&&this.verticalAlign==="top"?40:0,Ct;this.textAlign=B(this.options.textAlign)?this.horizontalAlign:this.textAlign,this.verticalAlign==="center"?this.horizontalAlign==="left"||this.horizontalAlign==="right"?(this.maxWidth===null&&(this.maxWidth=T.height-4),Z=.5*T.width-this.margin-2):(this.maxWidth===null&&(this.maxWidth=T.width-4),Z=.5*T.height-4):(this.maxWidth===null&&(this.maxWidth=T.width-4-yt*(this.horizontalAlign==="center"?2:1)),Z=.5*T.height-this.margin-2,L=0),B(this.padding)||typeof this.padding!="number"?B(this.padding)||typeof this.padding!="object"||(Ct=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Ct+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Ct=2*this.padding,this.wrap||(Z=Math.min(Z,1.5*this.fontSize+Ct));var at=new Be(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,textAlign:this.textAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:Z,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"}),Yt=at.measureText();this.verticalAlign==="center"?(this.horizontalAlign==="left"?(yt=T.x1+2+at._lineHeight/2,Z=T.y2-2-(this.maxWidth/2-Yt.width/2),L=-90,Ct="left",this.width=Yt.height,this.height=Yt.width):this.horizontalAlign==="right"?(yt=T.x2-2-at._lineHeight/2,Z=T.y1+2+(this.maxWidth/2-Yt.width/2),L=90,Ct="right",this.width=Yt.height,this.height=Yt.width):(Z=T.y1+2+(T.height/2-Yt.height/2)+at._lineHeight/2,yt=T.x1+2+(T.width/2-Yt.width/2),Ct="center",this.width=Yt.width,this.height=Yt.height),T="center"):(this.verticalAlign==="bottom"?(Z=T.y2-2-Yt.height+at._lineHeight/2,Ct="bottom"):(Z=T.y1+2+at._lineHeight/2,Ct="top"),yt=this.horizontalAlign==="left"?T.x1+2:this.horizontalAlign==="right"?T.x2-2-Yt.width-yt:T.x1+T.width/2-Yt.width/2,T=this.horizontalAlign,this.width=Yt.width,this.height=Yt.height),at.x=yt,at.y=Z,at.angle=L,at.horizontalAlign=T,this._textBlock=at,v.layoutManager.registerSpace(Ct,{width:this.width+(Ct==="left"||Ct==="right"?this.margin+2:0),height:this.height+(Ct==="top"||Ct==="bottom"?this.margin+2:0)}),this.bounds={x1:yt,y1:Z-at._lineHeight/2,x2:yt+this.width,y2:Z+this.height-at._lineHeight/2},this.verticalAlign==="center"&&(this.horizontalAlign==="left"&&(this.bounds={x1:yt-at._lineHeight/2,y1:Z-this.height,x2:yt+this.width-at._lineHeight/2,y2:Z}),this.horizontalAlign==="right"&&(this.bounds={x1:yt-at._lineHeight/2,y1:Z,x2:yt+this.width-at._lineHeight/2,y2:Z+this.height})),this.ctx.textBaseline="top"}},Li.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},J(ei,De),ei.prototype.setLayout=Li.prototype.setLayout,ei.prototype.render=Li.prototype.render,Fi.prototype.get=function(v,T){var L=null;return 0<this.pool.length?(L=this.pool.pop(),Bi(L,v,T)):L=di(v,T),L},Fi.prototype.release=function(v){this.pool.push(v)},J(Ti,De);var ha={addTheme:function(v,T){Qe[v]=T},addColorSet:function(v,T){Mt[v]=T},addCultureInfo:function(v,T){O[v]=T},formatNumber:function(v,T,L){if(L=L||"en",O[L])return Re(v,T||"#,##0.##",new Ti(L));throw"Unknown Culture Name"},formatDate:function(v,T,L){if(L=L||"en",O[L])return Rt(v,T||"DD MMM YYYY",new Ti(L));throw"Unknown Culture Name"}};I.exports=ha,X=ha.Chart=function(){function v(t,n){return t.x-n.x}function T(t,n,i){n=n||{},B(i)?(this.predefinedThemes=Qe,this.optionsName=this.parent=this.index=null):(this.parent=i.parent,this.index=i.index,this.predefinedThemes=i.predefinedThemes,this.optionsName=i.optionsName,this.stockChart=i.stockChart,this.panel=t,this.isOptionsInArray=i.isOptionsInArray),this.theme=B(n.theme)||B(this.predefinedThemes[n.theme])?"light1":n.theme,T.base.constructor.call(this,"Chart",this.optionsName,n,this.index,this.parent);var e=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Fi,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container=typeof this._containerId=="string"?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",n=t=0,n=M(this.container),t=this.options.width?this.width:0<this.container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)?this.container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight):this.width,n=i&&i.height?i.height:this.options.height?this.height:0<this.container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)?this.container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom):this.height,this.width=t,this.height=n,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof Mt[this.colorSet]<"u"?Mt[this.colorSet]:Mt.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",R||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=di(t,n),this._preRenderCanvas=di(t,n),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",vt(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",vt(this._preRenderCtx),R?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=di(t,n),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=di(t,n),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",vt(this.overlaidCanvasCtx)),this._eventManager=new Ze(this),this.windowResizeHandler=Ft(window,"resize",function(){e._updateSize()&&(e.render(),e.isNavigator&&e.stockChart&&e.stockChart.navigator&&e.stockChart.navigator.enabled&&e.stockChart.navigator._updateSlider(e.stockChart._axisXMin,e.stockChart._axisXMax))},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),fe(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},Ft(this.overlaidCanvas,"click",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,"mousemove",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,"mouseup",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,"mousedown",function(a){e._mouseEventHandler(a),gi(e._dropdownMenu)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,"mouseout",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),Ft(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),this.toolTip=new Xe(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function L(t,n){for(var i=[],e,a=0;a<t.length;a++)if(a==0)i.push(t[0]);else{var r,l,x;x=a-1,r=x===0?0:x-1,l=x===t.length-1?x:x+1,e=Math.abs((t[l].x-t[r].x)/(t[l].x-t[x].x===0?.01:t[l].x-t[x].x))*(n-1)/2+1;var m=(t[l].x-t[r].x)/e;e=(t[l].y-t[r].y)/e,i[i.length]=t[x].x>t[r].x&&0<m||t[x].x<t[r].x&&0>m?{x:t[x].x+m/3,y:t[x].y+e/3}:{x:t[x].x,y:t[x].y+(i.length===1?0:e/9)},x=a,r=x===0?0:x-1,l=x===t.length-1?x:x+1,e=Math.abs((t[l].x-t[r].x)/(t[x].x-t[r].x===0?.01:t[x].x-t[r].x))*(n-1)/2+1,m=(t[l].x-t[r].x)/e,e=(t[l].y-t[r].y)/e,i[i.length]=t[x].x>t[r].x&&0<m||t[x].x<t[r].x&&0>m?{x:t[x].x-m/3,y:t[x].y-e/3}:{x:t[x].x,y:t[x].y-e/9},i[i.length]=t[a]}return i}function Z(t,n,i,e,a,r,l,x,m,u){var d=0;u?(l.color=r,x.color=r):u=1,d=Math.abs(m?a-i:e-n),d=0<l.trimLength?Math.abs(d*l.trimLength/100):Math.abs(d-l.length),m?(i+=d/2,a-=d/2):(n+=d/2,e-=d/2);var d=Math.round(l.thickness)%2===1?.5:0,h=Math.round(x.thickness)%2===1?.5:0;t.save(),t.globalAlpha=u,t.strokeStyle=x.color||r,t.lineWidth=x.thickness||2,t.setLineDash&&t.setLineDash(Pt(x.dashType,x.thickness)),t.beginPath(),m&&0<x.thickness?(t.moveTo(e-l.thickness/2,Math.round((i+a)/2)-h),t.lineTo(n+l.thickness/2,Math.round((i+a)/2)-h)):0<x.thickness&&(t.moveTo(Math.round((n+e)/2)-h,i+l.thickness/2),t.lineTo(Math.round((n+e)/2)-h,a-l.thickness/2)),t.stroke(),t.strokeStyle=l.color||r,t.lineWidth=l.thickness||2,t.setLineDash&&t.setLineDash(Pt(l.dashType,l.thickness)),t.beginPath(),m&&0<l.thickness?(t.moveTo(e-d,i),t.lineTo(e-d,a),t.moveTo(n+d,i),t.lineTo(n+d,a)):0<l.thickness&&(t.moveTo(n,i+d),t.lineTo(e,i+d),t.moveTo(n,a-d),t.lineTo(e,a-d)),t.stroke(),t.restore()}function yt(t,n){yt.base.constructor.call(this,"Legend","legend",n,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Zi(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function Ct(t,n,i,e){for(Ct.base.constructor.call(this,"DataSeries","data",n,i,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=e,this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:i},t=n.dataPoints?n.dataPoints.length:0,this.dataPointEOs=[],n=0;n<t;n++)this.dataPointEOs[n]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,this.fillOpacity===null&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function at(t,n,i,e,a,r){if(at.base.constructor.call(this,"Axis",n,i,e,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,a==="axisX"?(r==="left"||r==="bottom"?(this.optionsName="axisX",B(this.chart.sessionVariables.axisX[e])&&(this.chart.sessionVariables.axisX[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX[e]):(this.optionsName="axisX2",B(this.chart.sessionVariables.axisX2[e])&&(this.chart.sessionVariables.axisX2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[e]),this.options.interval||(this.intervalType=null)):r==="left"||r==="bottom"?(this.optionsName="axisY",B(this.chart.sessionVariables.axisY[e])&&(this.chart.sessionVariables.axisY[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY[e]):(this.optionsName="axisY2",B(this.chart.sessionVariables.axisY2[e])&&(this.chart.sessionVariables.axisY2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[e]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=a,a!=="axisX"||i&&typeof i.gridThickness<"u"||(this.gridThickness=0),this._position=r,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new Yt(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new Se(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new pi(this.chart,this.options.crosshair,this),this.crosshair._updatedValue=B(this.sessionVariables.crosshairValue)?null:this.sessionVariables.crosshairValue),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&this.viewportMinimum===null&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||this.sessionVariables.newViewportMinimum===null?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&this.viewportMaximum===null&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||this.sessionVariables.newViewportMaximum===null?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.minimum!==null&&this.viewportMinimum!==null&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),this.maximum!==null&&this.viewportMaximum!==null&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function Yt(t,n,i,e){if(Yt.base.constructor.call(this,"ScaleBreaks","scaleBreaks",n,null,e),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.axis=e,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],typeof this.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):typeof this.spacing!="number"&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new ye(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),typeof this.customBreaks[t].startValue=="number"&&typeof this.customBreaks[t].endValue=="number"&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort(function(a,r){return a.startValue-r.startValue}),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function ye(t,n,i,e,a,r){ye.base.constructor.call(this,"Break",n,i,e,r),this.id=a,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=r,this.optionsName=n,this.isOptionsInArray=!0,this.type=i.type?this.type:r.type,this.fillOpacity=B(i.fillOpacity)?r.fillOpacity:this.fillOpacity,this.lineThickness=B(i.lineThickness)?r.lineThickness:this.lineThickness,this.color=i.color?this.color:r.color,this.lineColor=i.lineColor?this.lineColor:r.lineColor,this.lineDashType=i.lineDashType?this.lineDashType:r.lineDashType,!B(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!B(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),typeof this.startValue=="number"&&typeof this.endValue=="number"&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=typeof i.spacing>"u"?r.spacing:i.spacing,typeof this.options.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):typeof this.options.spacing!="number"&&(this.spacing=r.spacing),this.size=r.parent.logarithmic?1:0}function Se(t,n,i,e,a){Se.base.constructor.call(this,"StripLine","stripLines",n,i,a),this.id=e,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=a,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",this.startValue!==null&&this.endValue!==null&&(this.value=a.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function pi(t,n,i){pi.base.constructor.call(this,"Crosshair","crosshair",n,null,i),this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="crosshair",this._thicknessType="pixel"}function Xe(t,n){Xe.base.constructor.call(this,"ToolTip","toolTip",n,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Ze(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=di(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function Le(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}J(T,De),T.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var n=0;n<t.length;n++){var i=t[n][0],e=t[n][1],a=t[n][2],r=t[n][3],r=r||!1;i.removeEventListener?i.removeEventListener(e,a,r):i.detachEvent&&i.detachEvent("on"+e,a)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Pi(this.canvas),this.overlaidCanvas&&Pi(this.overlaidCanvas),this._preRenderCanvas&&Pi(this._preRenderCanvas),this._breaksCanvas&&Pi(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Pi(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},T.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&B(this.options.theme)?this.theme=this.stockChart.theme:B(this.stockChart)&&B(this.theme)&&(this.theme="light1"),this.updateOption("colorSet")&&(this.selectedColorSet=typeof Mt[this.colorSet]<"u"?Mt[this.colorSet]:Mt.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&B(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&B(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new Ti(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&R,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new Gi(this,this.options.toolbar),this.stockChart&&this.stockChart.options&&this.stockChart.options.toolbar&&!this.options.toolbar)for(var n in this.stockChart.options.toolbar)this.toolbar[n]=this.stockChart.options.toolbar[n];if(this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)fe(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&fe(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var i=!1;gi(this._zoomButton=document.createElement("button")),ue(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,Ft(this._zoomButton,"touchstart",function(e){i=!0},this.allDOMEventHandlers),Ft(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,ue(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,ue(t,t._zoomButton,"pan")),t.render()},this.allDOMEventHandlers),Ft(this._zoomButton,"mousemove",function(){i?i=!1:(fe(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&fe(t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Ft(this._zoomButton,"mouseout",function(){i||(fe(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&fe(t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(fe(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&fe(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(i=!1,gi(this._resetButton=document.createElement("button")),ue(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),Ft(this._resetButton,"touchstart",function(e){i=!0},this.allDOMEventHandlers),Ft(this._resetButton,"click",function(){if(t.toolTip.hide(),t.toolTip&&t.toolTip.enabled&&t.toolTip.dispatchEvent("hidden",{chart:t,toolTip:t.toolTip},t.toolTip),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,ue(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&fe(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),gi(t._zoomButton,t._resetButton),t.stockChart&&(t.stockChart._rangeEventParameter={stockChart:t.stockChart,source:"chart",index:t.stockChart.charts.indexOf(t),minimum:null,maximum:null}),t._dispatchRangeEvent("rangeChanging","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanging",t.stockChart.dispatchEvent("rangeChanging",t.stockChart._rangeEventParameter,t.stockChart)),t.render(),t.syncCharts&&t.stockChart&&(t.stockChart.rangeUpdatedBy=!t.stockChart.navigator.slider||B(t.stockChart.navigator.slider.options.minimum)&&B(t.stockChart.navigator.slider.options.maximum)?!t.stockChart.rangeSelector.enabled||!t.stockChart.rangeSelector.inputFields.enabled||B(t.stockChart.rangeSelector.inputFields.options.startValue)&&B(t.stockChart.rangeSelector.inputFields.options.endValue)?null:"inputFields":"navigator",B(t.stockChart._selectedRangeButtonIndex)||(t.stockChart.rangeUpdatedBy="rangeButton"),t.syncCharts(null,null),t.stockChart.rangeSelector&&t.stockChart.rangeSelector.enabled&&t.stockChart.rangeSelector.render(),t.stockChart.rangeUpdatedBy==="rangeButton"&&t.stockChart.rangeSelector.selectedRangeButtonIndex<t.stockChart.rangeSelector.buttons.length&&(e=t.stockChart.rangeSelector.buttons[t.stockChart._selectedRangeButtonIndex],e.enabled&&(e.state="on",e.textBlock.fontWeight="bold",e.textBlock.fontColor=t.stockChart.rangeSelector.buttonStyle.labelFontColorOnHover,e.textBlock.backgroundColor=t.stockChart.rangeSelector.buttonStyle.backgroundColorOnSelect,t.stockChart.rangeSelector.sessionVariables._clickedRangeButtonIndex=null,e.render()))),t._dispatchRangeEvent("rangeChanged","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanged",t.stockChart.dispatchEvent("rangeChanged",t.stockChart._rangeEventParameter,t.stockChart))},this.allDOMEventHandlers),Ft(this._resetButton,"mousemove",function(){i||(fe(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&fe(t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Ft(this._resetButton,"mouseout",function(){i||(fe(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&fe(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Ae(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;Xi(this),this._toolBar.style.display!=="none"&&this._zoomButton&&(this.panEnabled?ue(t,t._zoomButton,"zoom"):ue(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&ue(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(n in this.toolTip.options)this.toolTip.options.hasOwnProperty(n)&&this.toolTip.updateOption(n)},T.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var n=0,i=0,e=M(this.container);if(this.options.width?n=this.width:this.width=n=0<this.container.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)?this.container.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight):this.width,B(this.stockChart)||B(this.index)?this.options.height?i=this.height:this.height=i=0<this.container.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)?this.container.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom):this.height:i=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==n*Ue||this.canvas.height!==i*Ue){for(e=0;e<t.length;e++)Bi(t[e],n,i);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},t=!0}else t=!1;return t},T.prototype._initialize=function(){this.isNavigator=!(B(this.parent)||B(this.parent._defaultsKey)||this.parent._defaultsKey!=="Navigator"),this._animator?this._animator.cancelAllAnimations():this._animator=new Le(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=R&&this.animationEnabled&&this.renderCount===0,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Ut(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var t=0,n=null;if(this.options.data){for(var i=0;i<this.options.data.length;i++)if(t++,!this.options.data[i].type||0<=T._supportedChartTypes.indexOf(this.options.data[i].type)){var e=new Ct(this,this.options.data[i],t-1,++this._eventManager.lastObjectId);if(!B(e)&&e.dataPoints){for(var a=0;a<e.dataPoints.length;a++)if(e.dataPoints[a].x&&e.dataPoints[a].x.getTime){e.xValueType="dateTime";break}}e.type==="error"&&(e.linkedDataSeriesIndex=B(this.options.data[i].linkedDataSeriesIndex)?i-1:this.options.data[i].linkedDataSeriesIndex,0>e.linkedDataSeriesIndex||e.linkedDataSeriesIndex>=this.options.data.length||typeof e.linkedDataSeriesIndex!="number"||this.options.data[e.linkedDataSeriesIndex].type==="error")&&(e.linkedDataSeriesIndex=null),e.name===null&&(e.name="DataSeries "+t),e.color===null?1<this.options.data.length?(e._colorSet=[this.selectedColorSet[e.index%this.selectedColorSet.length]],e.color=this.selectedColorSet[e.index%this.selectedColorSet.length]):e._colorSet=e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="stackedArea"||e.type==="stackedArea100"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="candlestick"||e.type==="ohlc"||e.type==="waterfall"||e.type==="boxAndWhisker"?[this.selectedColorSet[0]]:this.selectedColorSet:e._colorSet=[e.color],e.markerSize===null&&((e.type==="line"||e.type==="stepLine"||e.type==="spline"||0<=e.type.toLowerCase().indexOf("area"))&&e.dataPoints&&e.dataPoints.length<this.width/16||e.type==="scatter")&&(e.markerSize=8),e.type!=="bubble"&&e.type!=="scatter"||!e.dataPoints||(e.dataPoints.some?e.dataPoints.some(function(x){return x.x})&&e.dataPoints.sort(v):e.dataPoints.sort(v)),this.data.push(e);var a=e.axisPlacement,n=n||a,r;if(a==="normal"?this.plotInfo.axisPlacement==="xySwapped"?r='You cannot combine "'+e.type+'" with bar chart':this.plotInfo.axisPlacement==="none"?r='You cannot combine "'+e.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="normal"):a==="xySwapped"?this.plotInfo.axisPlacement==="normal"?r='You cannot combine "'+e.type+'" with line, area, column or pie chart':this.plotInfo.axisPlacement==="none"?r='You cannot combine "'+e.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="xySwapped"):a==="none"?this.plotInfo.axisPlacement==="normal"?r='You cannot combine "'+e.type+'" with line, area, column or bar chart':this.plotInfo.axisPlacement==="xySwapped"?r='You cannot combine "'+e.type+'" with bar chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="none"):a===null&&this.plotInfo.axisPlacement==="none"&&(r='You cannot combine "'+e.type+'" with pie chart'),r&&window.console){window.console.log(r);return}}for(i=0;i<this.data.length;i++){if(n=="none"&&this.data[i].type==="error"&&window.console){window.console.log('You cannot combine "'+e.type+'" with error chart');return}this.data[i].type==="error"&&(this.data[i].axisPlacement=this.plotInfo.axisPlacement=n||"normal",this.data[i]._linkedSeries=this.data[i].linkedDataSeriesIndex===null?null:this.data[this.data[i].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},T._supportedChartTypes=ni("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),T.prototype.setLayout=function(){for(var t=this._plotAreaElements,n=0;n<this.data.length;n++)if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[n].axisYType||this.data[n].axisYType==="primary")if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[i]=new at(this,"axisY",this.options.axisY[i],i,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[i]=new at(this,"axisY",this.options.axisY[i],i,"axisY","bottom"));this.data[n].axisY=this.axisY[0<=this.data[n].axisYIndex&&this.data[n].axisYIndex<this.axisY.length?this.data[n].axisYIndex:0],this.axisY[0<=this.data[n].axisYIndex&&this.data[n].axisYIndex<this.axisY.length?this.data[n].axisYIndex:0].dataSeries.push(this.data[n])}else this.axisY.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[0]=new at(this,"axisY",this.options.axisY,0,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[0]=new at(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[n].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[n]);if(this.data[n].axisYType==="secondary")if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[i]=new at(this,"axisY2",this.options.axisY2[i],i,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[i]=new at(this,"axisY2",this.options.axisY2[i],i,"axisY","top"));this.data[n].axisY=this.axisY2[0<=this.data[n].axisYIndex&&this.data[n].axisYIndex<this.axisY2.length?this.data[n].axisYIndex:0],this.axisY2[0<=this.data[n].axisYIndex&&this.data[n].axisYIndex<this.axisY2.length?this.data[n].axisYIndex:0].dataSeries.push(this.data[n])}else this.axisY2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[0]=new at(this,"axisY2",this.options.axisY2,0,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[0]=new at(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[n].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[n]);if(!this.data[n].axisXType||this.data[n].axisXType==="primary")if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[i]=new at(this,"axisX",this.options.axisX[i],i,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[i]=new at(this,"axisX",this.options.axisX[i],i,"axisX","left"));this.data[n].axisX=this.axisX[0<=this.data[n].axisXIndex&&this.data[n].axisXIndex<this.axisX.length?this.data[n].axisXIndex:0],this.axisX[0<=this.data[n].axisXIndex&&this.data[n].axisXIndex<this.axisX.length?this.data[n].axisXIndex:0].dataSeries.push(this.data[n])}else this.axisX.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[0]=new at(this,"axisX",this.options.axisX,0,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[0]=new at(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[n].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[n]);if(this.data[n].axisXType==="secondary")if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[i]=new at(this,"axisX2",this.options.axisX2[i],i,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[i]=new at(this,"axisX2",this.options.axisX2[i],i,"axisX","right"));this.data[n].axisX=this.axisX2[0<=this.data[n].axisXIndex&&this.data[n].axisXIndex<this.axisX2.length?this.data[n].axisXIndex:0],this.axisX2[0<=this.data[n].axisXIndex&&this.data[n].axisXIndex<this.axisX2.length?this.data[n].axisXIndex:0].dataSeries.push(this.data[n])}else this.axisX2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[0]=new at(this,"axisX2",this.options.axisX2,0,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[0]=new at(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[n].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[n])}if(this.axisY){for(i=1;i<this.axisY.length;i++)typeof this.axisY[i].options.gridThickness>"u"&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)typeof this.axisY[i].options.margin>"u"&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)typeof this.axisY2[i].options.gridThickness>"u"&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)typeof this.axisY2[i].options.margin>"u"&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)typeof this.axisX[i].options.gridThickness>"u"&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)typeof this.axisX2[i].options.gridThickness>"u"&&(this.axisX2[i].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),i=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(n=0;n<this._axes.length;n++)if(!B(this._axes[n].viewportMinimum)||!B(this._axes[n].viewportMaximum)){i=!0;break}}if(i?(Ae(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(gi(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),Ji(this),this._processData(),this.options.title&&(this.title=new Li(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.options.subtitles)for(n=0;n<this.options.subtitles.length;n++)i=new ei(this,this.options.subtitles[n],n),this.subtitles.push(i),i.dockInsidePlotArea?t.push(i):i.setLayout();for(this.legend=new yt(this,this.options.legend),n=0;n<this.data.length;n++)(this.data[n].showInLegend||this.data[n].type==="pie"||this.data[n].type==="doughnut"||this.data[n].type==="funnel"||this.data[n].type==="pyramid")&&this.legend.dataSeries.push(this.data[n]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),n=0;n<this._axes.length;n++)if(this._axes[n].scaleBreaks&&this._axes[n].scaleBreaks._appliedBreaks.length){R?(this._breaksCanvas=di(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=di(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this.plotInfo.axisPlacement!=="normal"&&this.plotInfo.axisPlacement!=="xySwapped"||at.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},T.prototype.renderElements=function(){if(this.height&&this.width){var e=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")at.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else if(this.plotInfo.axisPlacement==="none")this.preparePlotArea();else return;for(t=0;t<e.length;t++)e[t].setLayout(),e[t].render();var n=[];if(this.animatedRender){var i=di(this.width,this.height);i.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}ki(this);var e=this.ctx.miterLimit,a;for(this.ctx.miterLimit=3,R&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var r=this.plotInfo.plotTypes[t],l=0;l<r.plotUnits.length;l++){var x=r.plotUnits[l],m=null;x.targetCanvas&&Pi(x.targetCanvas),x.targetCanvas=null,this.animatedRender&&(x.targetCanvas=di(this.width,this.height),x.targetCanvasCtx=x.targetCanvas.getContext("2d"),a=x.targetCanvasCtx.miterLimit,x.targetCanvasCtx.miterLimit=3),x.type==="line"?m=this.renderLine(x):x.type==="stepLine"?m=this.renderStepLine(x):x.type==="spline"?m=this.renderSpline(x):x.type==="column"?m=this.renderColumn(x):x.type==="bar"?m=this.renderBar(x):x.type==="area"?m=this.renderArea(x):x.type==="stepArea"?m=this.renderStepArea(x):x.type==="splineArea"?m=this.renderSplineArea(x):x.type==="stackedColumn"?m=this.renderStackedColumn(x):x.type==="stackedColumn100"?m=this.renderStackedColumn100(x):x.type==="stackedBar"?m=this.renderStackedBar(x):x.type==="stackedBar100"?m=this.renderStackedBar100(x):x.type==="stackedArea"?m=this.renderStackedArea(x):x.type==="stackedArea100"?m=this.renderStackedArea100(x):x.type==="bubble"?m=m=this.renderBubble(x):x.type==="scatter"?m=this.renderScatter(x):x.type==="pie"?this.renderPie(x):x.type==="doughnut"?this.renderPie(x):x.type==="funnel"?m=this.renderFunnel(x):x.type==="pyramid"?m=this.renderFunnel(x):x.type==="candlestick"?m=this.renderCandlestick(x):x.type==="ohlc"?m=this.renderCandlestick(x):x.type==="rangeColumn"?m=this.renderRangeColumn(x):x.type==="error"?m=this.renderError(x):x.type==="rangeBar"?m=this.renderRangeBar(x):x.type==="rangeArea"?m=this.renderRangeArea(x):x.type==="rangeSplineArea"?m=this.renderRangeSplineArea(x):x.type==="waterfall"?m=this.renderWaterfall(x):x.type==="boxAndWhisker"&&(m=this.renderBoxAndWhisker(x));for(var u=0;u<x.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[x.dataSeriesIndexes[u]]);this.animatedRender&&(x.targetCanvasCtx.miterLimit=a,m&&n.push(m))}this.ctx.miterLimit=e,this.animatedRender&&this._breaksCanvasCtx&&n.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(a=di(this.width,this.height).getContext("2d"),vt(a),n.push(this.renderIndexLabels(a)));var d=this;if(0<n.length)d.disableToolTip=!0,d._animator.animate(200,d.animationDuration,function(h){d.ctx.clearRect(0,0,d.width,d.height),d.ctx.drawImage(i,0,0,Math.floor(d.width*Ue),Math.floor(d.height*Ue),0,0,d.width,d.height);for(var p=0;p<n.length;p++)m=n[p],1>h&&typeof m.startTimePercent<"u"?h>=m.startTimePercent&&m.animationCallback(m.easingFunction(h-m.startTimePercent,0,1,1-m.startTimePercent),m):m.animationCallback(m.easingFunction(h,0,1,1),m);d.dispatchEvent("dataAnimationIterationEnd",{chart:d})},function(){n=[];for(var h=0;h<d.plotInfo.plotTypes.length;h++)for(var p=d.plotInfo.plotTypes[h],s=0;s<p.plotUnits.length;s++){var b=p.plotUnits[s];b.targetCanvas&&Pi(b.targetCanvas),b.targetCanvas=null}i=null,d.disableToolTip=!1,d.dispatchEvent("dataAnimationEnd",{chart:d})});else{if(d._breaksCanvas)if(R)d.plotArea.ctx.drawImage(d._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<d._axes.length;u++)d._axes[u].createMask();0<d._indexLabels.length&&d.renderIndexLabels(),d.dispatchEvent("dataAnimationIterationEnd",{chart:d}),d.dispatchEvent("dataAnimationEnd",{chart:d})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||this._zoomButton.style.display==="none"||gi(this._zoomButton,this._resetButton),B(this.toolTip._xValue)||B(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.toolTip.enabled&&this.toolTip._updatedEventParameters&&!isNaN(this.toolTip._prevX)&&!isNaN(this.toolTip._prevY)&&this.toolTip.container&&this.toolTip.container.style&&this.toolTip.dispatchEvent(this.toolTip.container.style.display==="none"?"hidden":"updated",this.toolTip._updatedEventParameters,this.toolTip),this.renderCount++,this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)}},T.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Pi(this._preRenderCanvas)},T.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},T.prototype.categoriseDataSeries=function(){for(var t="",n=0;n<this.data.length;n++)if(t=this.data[n],t.dataPoints&&t.dataPoints.length!==0&&t.visible&&0<=T._supportedChartTypes.indexOf(t.type)){for(var i=null,e=!1,a=null,r=!1,l=0;l<this.plotInfo.plotTypes.length;l++)if(this.plotInfo.plotTypes[l].type===t.type){e=!0,i=this.plotInfo.plotTypes[l];break}for(e||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i)),l=0;l<i.plotUnits.length;l++)if(i.plotUnits[l].axisYType===t.axisYType&&i.plotUnits[l].axisXType===t.axisXType&&i.plotUnits[l].axisYIndex===t.axisYIndex&&i.plotUnits[l].axisXIndex===t.axisXIndex){r=!0,a=i.plotUnits[l];break}r||(a={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:t.axisYType==="primary"?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:t.axisXType==="primary"?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},i.plotUnits.push(a)),i.totalDataSeries++,a.dataSeriesIndexes.push(n),t.plotUnit=a}for(n=0;n<this.plotInfo.plotTypes.length;n++)for(i=this.plotInfo.plotTypes[n],l=t=0;l<i.plotUnits.length;l++)i.plotUnits[l].previousDataSeriesCount=t,t+=i.plotUnits[l].dataSeriesIndexes.length},T.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var n=this.data[t];if(n.dataPoints)for(var i=n.dataPoints.length,e=0;e<i;e++)n.dataPointIds[e]=++this._eventManager.lastObjectId}},T.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var n=this.plotInfo.plotTypes[t],i=0;i<n.plotUnits.length;i++){var e=n.plotUnits[i];e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="column"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="bar"||e.type==="bubble"||e.type==="scatter"?this._processMultiseriesPlotUnit(e):e.type==="stackedColumn"||e.type==="stackedBar"||e.type==="stackedArea"?this._processStackedPlotUnit(e):e.type==="stackedColumn100"||e.type==="stackedBar100"||e.type==="stackedArea100"?this._processStacked100PlotUnit(e):e.type==="candlestick"||e.type==="ohlc"||e.type==="rangeColumn"||e.type==="rangeBar"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="error"||e.type==="boxAndWhisker"?this._processMultiYPlotUnit(e):e.type==="waterfall"&&this._processSpecificPlotUnit(e)}this.calculateAutoBreaks()},T.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n=t.axisY.dataInfo,i=t.axisX.dataInfo,e,a,r=!1,l=0;l<t.dataSeriesIndexes.length;l++){var x=this.data[t.dataSeriesIndexes[l]],m=0,u=!1,d=!1,h;if(x.axisPlacement==="normal"||x.axisPlacement==="xySwapped")var p=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,s=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((x.dataPoints[m].x&&x.dataPoints[m].x.getTime||x.xValueType==="dateTime")&&(r=!0),m=0;m<x.dataPoints.length;m++){if(typeof x.dataPoints[m].x>"u"&&(x.dataPoints[m].x=m+(t.axisX.logarithmic?1:0)),x.dataPoints[m].x.getTime?(r=!0,e=x.dataPoints[m].x.getTime()):e=x.dataPoints[m].x,a=x.dataPoints[m].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),a<n.min&&typeof a=="number"&&(n.min=a),a>n.max&&typeof a=="number"&&(n.max=a),0<m){if(t.axisX.logarithmic){var b=e/x.dataPoints[m-1].x;1>b&&(b=1/b),i.minDiff>b&&b!==1&&(i.minDiff=b)}else b=e-x.dataPoints[m-1].x,0>b&&(b*=-1),i.minDiff>b&&b!==0&&(i.minDiff=b);a!==null&&x.dataPoints[m-1].y!==null&&(t.axisY.logarithmic?(b=a/x.dataPoints[m-1].y,1>b&&(b=1/b),n.minDiff>b&&b!==1&&(n.minDiff=b)):(b=a-x.dataPoints[m-1].y,0>b&&(b*=-1),n.minDiff>b&&b!==0&&(n.minDiff=b)))}if(e<p&&!u)a!==null&&(h=e);else{if(!u&&(u=!0,0<m)){m-=2;continue}if(e>s&&!d)d=!0;else if(e>s&&d)continue;x.dataPoints[m].label&&(t.axisX.labels[e]=x.dataPoints[m].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),a===null?i.viewPortMin===e&&h<e&&(i.viewPortMin=h):(a<n.viewPortMin&&typeof a=="number"&&(n.viewPortMin=a),a>n.viewPortMax&&typeof a=="number"&&(n.viewPortMax=a))}}x.axisX.valueType=x.xValueType=r?"dateTime":"number"}},T.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n=t.axisY.dataInfo,i=t.axisX.dataInfo,e,a,r=!1,l=[],x=[],m=1/0,u=-1/0,d={},h=0;h<t.dataSeriesIndexes.length;h++){var p=this.data[t.dataSeriesIndexes[h]],s=0,b=!1,k=!1,w;if(p.axisPlacement==="normal"||p.axisPlacement==="xySwapped")var f=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,_=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((p.dataPoints[s].x&&p.dataPoints[s].x.getTime||p.xValueType==="dateTime")&&(r=!0),s=0;s<p.dataPoints.length;s++){if(typeof p.dataPoints[s].x>"u"&&(p.dataPoints[s].x=s+(t.axisX.logarithmic?1:0)),p.dataPoints[s].x.getTime?(r=!0,e=p.dataPoints[s].x.getTime()):e=p.dataPoints[s].x,a=B(p.dataPoints[s].y)?0:p.dataPoints[s].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),0<s){if(t.axisX.logarithmic){var C=e/p.dataPoints[s-1].x;1>C&&(C=1/C),i.minDiff>C&&C!==1&&(i.minDiff=C)}else C=e-p.dataPoints[s-1].x,0>C&&(C*=-1),i.minDiff>C&&C!==0&&(i.minDiff=C);a!==null&&p.dataPoints[s-1].y!==null&&(t.axisY.logarithmic?0<a&&(C=a/p.dataPoints[s-1].y,1>C&&(C=1/C),n.minDiff>C&&C!==1&&(n.minDiff=C)):(C=a-p.dataPoints[s-1].y,0>C&&(C*=-1),n.minDiff>C&&C!==0&&(n.minDiff=C)))}if(e<f&&!b)p.dataPoints[s].y!==null&&(w=e);else{if(!b&&(b=!0,0<s)){s-=2;continue}if(e>_&&!k)k=!0;else if(e>_&&k)continue;p.dataPoints[s].label&&(t.axisX.labels[e]=p.dataPoints[s].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),p.dataPoints[s].y===null?i.viewPortMin===e&&w<e&&(i.viewPortMin=w):(d[e]=(d[e]||0)+p.dataPoints[s].y,p.dataPointEOs[s].cumulativeY=d[e],t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+a,t.yAbsTotals[e]=(t.yAbsTotals[e]?t.yAbsTotals[e]:0)+Math.abs(a),0<=a?l[e]?l[e]+=a:(l[e]=a,m=Math.min(a,m)):x[e]?x[e]+=a:(x[e]=a,u=Math.max(a,u)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(n.dataPointYPositiveSums?(n.dataPointYPositiveSums.push.apply(n.dataPointYPositiveSums,l),n.dataPointYNegativeSums.push.apply(n.dataPointYPositiveSums,x)):(n.dataPointYPositiveSums=l,n.dataPointYNegativeSums=x)),p.axisX.valueType=p.xValueType=r?"dateTime":"number"}for(s in l)l.hasOwnProperty(s)&&!isNaN(s)&&(t=l[s],t<n.min&&(n.min=Math.min(t,m)),t>n.max&&(n.max=t),s<i.viewPortMin||s>i.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=Math.min(t,m)),t>n.viewPortMax&&(n.viewPortMax=t)));for(s in x)x.hasOwnProperty(s)&&!isNaN(s)&&(t=x[s],t<n.min&&(n.min=t),t>n.max&&(n.max=Math.max(t,u)),s<i.viewPortMin||s>i.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=Math.max(t,u))))}},T.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n=t.axisY.dataInfo,i=t.axisX.dataInfo,e,a,r=!1,l=!1,x=!1,m={},u=[],d=0;d<t.dataSeriesIndexes.length;d++){var h=this.data[t.dataSeriesIndexes[d]],p=0,s=!1,b=!1,k;if(h.axisPlacement==="normal"||h.axisPlacement==="xySwapped")var w=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,f=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((h.dataPoints[p].x&&h.dataPoints[p].x.getTime||h.xValueType==="dateTime")&&(r=!0),p=0;p<h.dataPoints.length;p++){if(typeof h.dataPoints[p].x>"u"&&(h.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),h.dataPoints[p].x.getTime?(r=!0,e=h.dataPoints[p].x.getTime()):e=h.dataPoints[p].x,a=B(h.dataPoints[p].y)?null:h.dataPoints[p].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),0<p){if(t.axisX.logarithmic){var _=e/h.dataPoints[p-1].x;1>_&&(_=1/_),i.minDiff>_&&_!==1&&(i.minDiff=_)}else _=e-h.dataPoints[p-1].x,0>_&&(_*=-1),i.minDiff>_&&_!==0&&(i.minDiff=_);B(a)||h.dataPoints[p-1].y===null||(t.axisY.logarithmic?0<a&&(_=a/h.dataPoints[p-1].y,1>_&&(_=1/_),n.minDiff>_&&_!==1&&(n.minDiff=_)):(_=a-h.dataPoints[p-1].y,0>_&&(_*=-1),n.minDiff>_&&_!==0&&(n.minDiff=_)))}if(e<w&&!s)a!==null&&(k=e);else{if(!s&&(s=!0,0<p)){p-=2;continue}if(e>f&&!b)b=!0;else if(e>f&&b)continue;h.dataPoints[p].label&&(t.axisX.labels[e]=h.dataPoints[p].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),a===null?i.viewPortMin===e&&k<e&&(i.viewPortMin=k):(m[e]=(m[e]||0)+h.dataPoints[p].y,h.dataPointEOs[p].cumulativeY=m[e],t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+a,t.yAbsTotals[e]=(t.yAbsTotals[e]?t.yAbsTotals[e]:0)+Math.abs(a),0<=a?l=!0:0>a&&(x=!0),u[e]=u[e]?u[e]+Math.abs(a):Math.abs(a))}}h.axisX.valueType=h.xValueType=r?"dateTime":"number"}t.axisY.logarithmic?(n.max=B(n.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(n.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),n.min=B(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):l&&!x?(n.max=B(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=B(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):l&&x?(n.max=B(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=B(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)):!l&&x&&(n.max=B(n.viewPortMax)?-1:Math.max(n.viewPortMax,-1),n.min=B(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)),n.viewPortMin=n.min,n.viewPortMax=n.max,t.dataPointYSums=u}},T.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n=t.axisY.dataInfo,i=t.axisX.dataInfo,e,a,r,l,x=!1,m=0;m<t.dataSeriesIndexes.length;m++){var u=this.data[t.dataSeriesIndexes[m]],d=0,h=!1,p=!1,s,b,k;if(u.axisPlacement==="normal"||u.axisPlacement==="xySwapped")var w=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,f=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((u.dataPoints[d].x&&u.dataPoints[d].x.getTime||u.xValueType==="dateTime")&&(x=!0),d=0;d<u.dataPoints.length;d++){if(typeof u.dataPoints[d].x>"u"&&(u.dataPoints[d].x=d+(t.axisX.logarithmic?1:0)),u.dataPoints[d].x.getTime?(x=!0,e=u.dataPoints[d].x.getTime()):e=u.dataPoints[d].x,(a=u.dataPoints[d].y)&&a.length){r=Math.min.apply(null,a),l=Math.max.apply(null,a),b=!0;for(var _=0;_<a.length;_++)a.k===null&&(b=!1);b&&(h||(k=s),s=e)}if(e<i.min&&(i.min=e),e>i.max&&(i.max=e),r<n.min&&(n.min=r),l>n.max&&(n.max=l),0<d&&(t.axisX.logarithmic?(b=e/u.dataPoints[d-1].x,1>b&&(b=1/b),i.minDiff>b&&b!==1&&(i.minDiff=b)):(b=e-u.dataPoints[d-1].x,0>b&&(b*=-1),i.minDiff>b&&b!==0&&(i.minDiff=b)),a&&a[0]!==null&&u.dataPoints[d-1].y&&u.dataPoints[d-1].y[0]!==null&&(t.axisY.logarithmic?(b=a[0]/u.dataPoints[d-1].y[0],1>b&&(b=1/b),n.minDiff>b&&b!==1&&(n.minDiff=b)):(b=a[0]-u.dataPoints[d-1].y[0],0>b&&(b*=-1),n.minDiff>b&&b!==0&&(n.minDiff=b)))),!(e<w)||h){if(!h&&(h=!0,0<d)){d-=2,s=k;continue}if(e>f&&!p)p=!0;else if(e>f&&p)continue;if(u.dataPoints[d].label&&(t.axisX.labels[e]=u.dataPoints[d].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),i.viewPortMin===e&&a){for(_=0;_<a.length;_++)if(a[_]===null&&s<e){i.viewPortMin=s;break}}a===null?i.viewPortMin===e&&s<e&&(i.viewPortMin=s):(r<n.viewPortMin&&(n.viewPortMin=r),l>n.viewPortMax&&(n.viewPortMax=l))}}u.axisX.valueType=u.xValueType=x?"dateTime":"number"}},T.prototype._processSpecificPlotUnit=function(t){if(t.type==="waterfall"&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n=t.axisY.dataInfo,i=t.axisX.dataInfo,e,a,r=!1,l=0;l<t.dataSeriesIndexes.length;l++){var x=this.data[t.dataSeriesIndexes[l]],m=0,u=!1,d=!1,h=e=0;if(x.axisPlacement==="normal"||x.axisPlacement==="xySwapped")var p=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,s=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((x.dataPoints[m].x&&x.dataPoints[m].x.getTime||x.xValueType==="dateTime")&&(r=!0),m=0;m<x.dataPoints.length;m++)typeof x.dataPoints[m].isCumulativeSum<"u"&&x.dataPoints[m].isCumulativeSum===!0?(x.dataPointEOs[m].cumulativeSumYStartValue=0,x.dataPointEOs[m].cumulativeSum=m===0?0:x.dataPointEOs[m-1].cumulativeSum,x.dataPoints[m].y=m===0?0:x.dataPointEOs[m-1].cumulativeSum):typeof x.dataPoints[m].isIntermediateSum<"u"&&x.dataPoints[m].isIntermediateSum===!0?(x.dataPointEOs[m].cumulativeSumYStartValue=h,x.dataPointEOs[m].cumulativeSum=m===0?0:x.dataPointEOs[m-1].cumulativeSum,x.dataPoints[m].y=m===0?0:e,h=m===0?0:x.dataPointEOs[m-1].cumulativeSum,e=0):(a=typeof x.dataPoints[m].y!="number"?0:x.dataPoints[m].y,x.dataPointEOs[m].cumulativeSumYStartValue=m===0?0:x.dataPointEOs[m-1].cumulativeSum,x.dataPointEOs[m].cumulativeSum=m===0?a:x.dataPointEOs[m-1].cumulativeSum+a,e+=a);for(m=0;m<x.dataPoints.length;m++)if(typeof x.dataPoints[m].x>"u"&&(x.dataPoints[m].x=m+(t.axisX.logarithmic?1:0)),x.dataPoints[m].x.getTime?(r=!0,e=x.dataPoints[m].x.getTime()):e=x.dataPoints[m].x,a=x.dataPoints[m].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),x.dataPointEOs[m].cumulativeSum<n.min&&(n.min=x.dataPointEOs[m].cumulativeSum),x.dataPointEOs[m].cumulativeSum>n.max&&(n.max=x.dataPointEOs[m].cumulativeSum),0<m&&(t.axisX.logarithmic?(h=e/x.dataPoints[m-1].x,1>h&&(h=1/h),i.minDiff>h&&h!==1&&(i.minDiff=h)):(h=e-x.dataPoints[m-1].x,0>h&&(h*=-1),i.minDiff>h&&h!==0&&(i.minDiff=h)),a!==null&&x.dataPoints[m-1].y!==null&&(t.axisY.logarithmic?(a=x.dataPointEOs[m].cumulativeSum/x.dataPointEOs[m-1].cumulativeSum,1>a&&(a=1/a),n.minDiff>a&&a!==1&&(n.minDiff=a)):(a=x.dataPointEOs[m].cumulativeSum-x.dataPointEOs[m-1].cumulativeSum,0>a&&(a*=-1),n.minDiff>a&&a!==0&&(n.minDiff=a)))),!(e<p)||u){if(!u&&(u=!0,0<m)){m-=2;continue}if(e>s&&!d)d=!0;else if(e>s&&d)continue;x.dataPoints[m].label&&(t.axisX.labels[e]=x.dataPoints[m].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),0<m&&(x.dataPointEOs[m-1].cumulativeSum<n.viewPortMin&&(n.viewPortMin=x.dataPointEOs[m-1].cumulativeSum),x.dataPointEOs[m-1].cumulativeSum>n.viewPortMax&&(n.viewPortMax=x.dataPointEOs[m-1].cumulativeSum)),x.dataPointEOs[m].cumulativeSum<n.viewPortMin&&(n.viewPortMin=x.dataPointEOs[m].cumulativeSum),x.dataPointEOs[m].cumulativeSum>n.viewPortMax&&(n.viewPortMax=x.dataPointEOs[m].cumulativeSum)}x.axisX.valueType=x.xValueType=r?"dateTime":"number"}},T.prototype.calculateAutoBreaks=function(){function t(b,k,w,f){return f?(w=Math.pow(Math.min(w*b/k,k/b),.2),1>=w&&(w=Math.pow(1>b?1/b:Math.min(k/b,b),.25)),{startValue:b*w,endValue:k/w}):(w=.2*Math.min(w-k+b,k-b),0>=w&&(w=.25*(0<b?Math.min(k-b,Math.abs(b)):k-b)),{startValue:b+w,endValue:k-w})}function n(b){if(b.dataSeriesIndexes&&!(1>b.dataSeriesIndexes.length)){var k=b.axisX.scaleBreaks&&b.axisX.scaleBreaks.autoCalculate&&1<=b.axisX.scaleBreaks.maxNumberOfAutoBreaks,w=b.axisY.scaleBreaks&&b.axisY.scaleBreaks.autoCalculate&&1<=b.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(k||w)for(var et=b.axisY.dataInfo,V=b.axisX.dataInfo,f,_=V.min,C=V.max,E=et.min,D=et.max,V=V._dataRanges,et=et._dataRanges,xt,U=0,K=0;K<b.dataSeriesIndexes.length;K++){var j=a.data[b.dataSeriesIndexes[K]];if(!(4>j.dataPoints.length)){for(U=0;U<j.dataPoints.length;U++)if(k&&(xt=(C+1-_)*Math.max(parseFloat(b.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,f=j.dataPoints[U].x.getTime?j.dataPoints[U].x.getTime():j.dataPoints[U].x,xt=Math.floor((f-_)/xt),f<V[xt].min&&(V[xt].min=f),f>V[xt].max&&(V[xt].max=f)),w){var N=(D+1-E)*Math.max(parseFloat(b.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((f=b.type==="waterfall"?j.dataPointEOs[U].cumulativeSum:j.dataPoints[U].y)&&f.length)for(var F=0;F<f.length;F++)xt=Math.floor((f[F]-E)/N),f[F]<et[xt].min&&(et[xt].min=f[F]),f[F]>et[xt].max&&(et[xt].max=f[F]);else B(f)||(xt=Math.floor((f-E)/N),f<et[xt].min&&(et[xt].min=f),f>et[xt].max&&(et[xt].max=f))}}}}}function i(b){if(b.dataSeriesIndexes&&!(1>b.dataSeriesIndexes.length)&&b.axisX.scaleBreaks&&b.axisX.scaleBreaks.autoCalculate&&1<=b.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var k=b.axisX.dataInfo,w=k.min,f=k.max,_=k._dataRanges,C,E=0,D=0;D<b.dataSeriesIndexes.length;D++){var V=a.data[b.dataSeriesIndexes[D]];if(!(4>V.dataPoints.length))for(E=0;E<V.dataPoints.length;E++)C=(f+1-w)*Math.max(parseFloat(b.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,k=V.dataPoints[E].x.getTime?V.dataPoints[E].x.getTime():V.dataPoints[E].x,C=Math.floor((k-w)/C),k<_[C].min&&(_[C].min=k),k>_[C].max&&(_[C].max=k)}}for(var e,a=this,r=!1,l=0;l<this._axes.length;l++)if(this._axes[l].scaleBreaks&&this._axes[l].scaleBreaks.autoCalculate&&1<=this._axes[l].scaleBreaks.maxNumberOfAutoBreaks){r=!0,this._axes[l].dataInfo._dataRanges=[];for(var x=0;x<100/Math.max(parseFloat(this._axes[l].scaleBreaks.collapsibleThreshold)||10,10);x++)this._axes[l].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(r){for(l=0;l<this.plotInfo.plotTypes.length;l++)for(r=this.plotInfo.plotTypes[l],x=0;x<r.plotUnits.length;x++)e=r.plotUnits[x],e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="column"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="bar"||e.type==="bubble"||e.type==="scatter"||e.type==="candlestick"||e.type==="ohlc"||e.type==="rangeColumn"||e.type==="rangeBar"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="waterfall"||e.type==="error"||e.type==="boxAndWhisker"?n(e):0<=e.type.indexOf("stacked")&&i(e);for(l=0;l<this._axes.length;l++)if(this._axes[l].dataInfo._dataRanges){var m=this._axes[l].dataInfo.min;e=(this._axes[l].dataInfo.max+1-m)*Math.max(parseFloat(this._axes[l].scaleBreaks.collapsibleThreshold)||10,10)/100;var u=this._axes[l].dataInfo._dataRanges,d,h,r=[];if(this._axes[l].dataInfo.dataPointYPositiveSums){var p=this._axes[l].dataInfo.dataPointYPositiveSums;d=u;for(x in p)if(p.hasOwnProperty(x)&&!isNaN(x)&&(h=p[x],!B(h))){var s=Math.floor((h-m)/e);h<d[s].min&&(d[s].min=h),h>d[s].max&&(d[s].max=h)}delete this._axes[l].dataInfo.dataPointYPositiveSums}if(this._axes[l].dataInfo.dataPointYNegativeSums){p=this._axes[l].dataInfo.dataPointYNegativeSums,d=u;for(x in p)p.hasOwnProperty(x)&&!isNaN(x)&&(h=-1*p[x],B(h)||(s=Math.floor((h-m)/e),h<d[s].min&&(d[s].min=h),h>d[s].max&&(d[s].max=h)));delete this._axes[l].dataInfo.dataPointYNegativeSums}for(x=0;x<u.length-1;x++)if(d=u[x].max,isFinite(d))for(;x<u.length-1;)if(m=u[x+1].min,isFinite(m)){h=m-d,h>e&&r.push({diff:h,start:d,end:m});break}else x++;if(this._axes[l].scaleBreaks.customBreaks)for(x=0;x<this._axes[l].scaleBreaks.customBreaks.length;x++)for(e=0;e<r.length;e++)(this._axes[l].scaleBreaks.customBreaks[x].startValue<=r[e].start&&r[e].start<=this._axes[l].scaleBreaks.customBreaks[x].endValue||this._axes[l].scaleBreaks.customBreaks[x].startValue<=r[e].start&&r[e].start<=this._axes[l].scaleBreaks.customBreaks[x].endValue||r[e].start<=this._axes[l].scaleBreaks.customBreaks[x].startValue&&this._axes[l].scaleBreaks.customBreaks[x].startValue<=r[e].end||r[e].start<=this._axes[l].scaleBreaks.customBreaks[x].endValue&&this._axes[l].scaleBreaks.customBreaks[x].endValue<=r[e].end)&&(r.splice(e,1),e--);for(r.sort(function(k,w){return w.diff-k.diff}),x=0;x<Math.min(r.length,this._axes[l].scaleBreaks.maxNumberOfAutoBreaks);x++)e=t(r[x].start,r[x].end,this._axes[l].logarithmic?this._axes[l].dataInfo.max/this._axes[l].dataInfo.min:this._axes[l].dataInfo.max-this._axes[l].dataInfo.min,this._axes[l].logarithmic),this._axes[l].scaleBreaks.autoBreaks.push(new ye(this,"autoBreaks",e,x,++this._eventManager.lastObjectId,this._axes[l].scaleBreaks)),this._axes[l].scaleBreaks._appliedBreaks.push(this._axes[l].scaleBreaks.autoBreaks[this._axes[l].scaleBreaks.autoBreaks.length-1]);this._axes[l].scaleBreaks._appliedBreaks.sort(function(k,w){return k.startValue-w.startValue})}}},T.prototype.renderCrosshairs=function(t,n){for(var i=0;i<this.axisX.length;i++)if(this.axisX[i]!=t&&this.axisX[i].crosshair&&this.axisX[i].crosshair.enabled&&!this.axisX[i].sessionVariables._crosshairHidden)if(n&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2){this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisX[i].crosshair.render(null,this.sessionVariables.mouseY,this.axisX[i].convertPixelToValue(this.sessionVariables.mouseY)):this.axisX[i].crosshair.render(this.sessionVariables.mouseX,null,this.axisX[i].convertPixelToValue(this.sessionVariables.mouseX));var e={chart:this,crosshair:this.axisX[i].crosshair.options,axis:this.axisX[i],value:this.axisX[i].crosshair.value};this.axisX[i].crosshair.dispatchEvent("updated",e,this.axisX[i])}else n||this.axisX[i].showCrosshair(this.axisX[i].crosshair._updatedValue);for(i=0;i<this.axisX2.length;i++)this.axisX2[i]!=t&&this.axisX2[i].crosshair&&this.axisX2[i].crosshair.enabled&&!this.axisX2[i].sessionVariables._crosshairHidden&&(n&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?(this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisX2[i].crosshair.render(null,this.sessionVariables.mouseY,this.axisX2[i].convertPixelToValue(this.sessionVariables.mouseY)):this.axisX2[i].crosshair.render(this.sessionVariables.mouseX,null,this.axisX2[i].convertPixelToValue(this.sessionVariables.mouseX)),e={chart:this,crosshair:this.axisX2[i].crosshair.options,axis:this.axisX2[i],value:this.axisX2[i].crosshair.value},this.axisX2[i].crosshair.dispatchEvent("updated",e,this.axisX2[i])):n||this.axisX2[i].showCrosshair(this.axisX2[i].crosshair._updatedValue));for(i=0;i<this.axisY.length;i++)this.axisY[i]!=t&&this.axisY[i].crosshair&&this.axisY[i].crosshair.enabled&&!this.axisY[i].sessionVariables._crosshairHidden&&(n&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?(this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisY[i].crosshair.render(this.sessionVariables.mouseX,null,this.axisY[i].convertPixelToValue(this.sessionVariables.mouseX)):this.axisY[i].crosshair.render(null,this.sessionVariables.mouseY,this.axisY[i].convertPixelToValue(this.sessionVariables.mouseY)),e={chart:this,crosshair:this.axisY[i].crosshair.options,axis:this.axisY[i],value:this.axisY[i].crosshair.value},this.axisY[i].crosshair.dispatchEvent("updated",e,this.axisY[i])):n||this.axisY[i].showCrosshair(this.axisY[i].crosshair._updatedValue));for(i=0;i<this.axisY2.length;i++)this.axisY2[i]!=t&&this.axisY2[i].crosshair&&this.axisY2[i].crosshair.enabled&&!this.axisY2[i].sessionVariables._crosshairHidden&&(n&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?(this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisY2[i].crosshair.render(this.sessionVariables.mouseX,null,this.axisY2[i].convertPixelToValue(this.sessionVariables.mouseX)):this.axisY2[i].crosshair.render(null,this.sessionVariables.mouseY,this.axisY2[i].convertPixelToValue(this.sessionVariables.mouseY)),e={chart:this,crosshair:this.axisY2[i].crosshair.options,axis:this.axisY2[i],value:this.axisY2[i].crosshair.value},this.axisY2[i].crosshair.dispatchEvent("updated",e,this.axisY2[i])):n||this.axisY2[i].showCrosshair(this.axisY2[i].crosshair._updatedValue))},T.prototype.getDataPointAtXY=function(t,n,i){i=i||!1;for(var e=[],a=this._dataInRenderedOrder.length-1;0<=a;a--){var r=null;(r=this._dataInRenderedOrder[a].getDataPointAtXY(t,n,i))&&e.push(r)}for(t=null,n=!1,i=0;i<e.length;i++)if((e[i].dataSeries.type==="line"||e[i].dataSeries.type==="stepLine"||e[i].dataSeries.type==="area"||e[i].dataSeries.type==="stepArea")&&(a=xe("markerSize",e[i].dataPoint,e[i].dataSeries)||8,e[i].distance<=a/2)){n=!0;break}for(i=0;i<e.length;i++)n&&e[i].dataSeries.type!=="line"&&e[i].dataSeries.type!=="stepLine"&&e[i].dataSeries.type!=="area"&&e[i].dataSeries.type!=="stepArea"||(t?e[i].distance<=t.distance&&(t=e[i]):t=e[i]);return t},T.prototype.getObjectAtXY=function(t,n,i){var e=null;if(i=this.getDataPointAtXY(t,n,i||!1))e=i.dataSeries.dataPointIds[i.dataPointIndex];else if(R)e=qt(t,n,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var a=this.legend.items[i];t>=a.x1&&t<=a.x2&&n>=a.y1&&n<=a.y2&&(e=a.id)}return e},T.prototype.getAutoFontSize=ra,T.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},T.prototype.clearCanvas=Ii,T.prototype.attachEvent=function(t){this._events.push(t)},T.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var n=[],i=t.changedTouches,e=i?i[0]:t,a=null;switch(t.type){case"touchstart":case"MSPointerDown":n=["mousemove","mousedown"],this._lastTouchData=pa(e),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":n=["mousemove"];break;case"touchend":case"MSPointerUp":var r=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,n=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"||300>r?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){a=pa(e),a.time=new Date;try{var l=a.y-this._lastTouchData.y,r=a.time-this._lastTouchData.time;(1<Math.abs(l)&&this._lastTouchData.scroll||5<Math.abs(l)&&250>r)&&(this._lastTouchData.scroll=!0,this.stockChart&&(this.stockChart._chartScroll=!0))}catch{}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<n.length;i++)a=n[i],l=document.createEvent("MouseEvent"),l.initMouseEvent(a,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(l),(!B(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<r||a==="click")&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.cancelable&&t.preventDefault(),this.stockChart&&(this.stockChart._chartScroll=null))}}},T.prototype._dispatchRangeEvent=function(t,n){var i={chart:this};i.type=t,i.trigger=n;var e=[];this.axisX&&0<this.axisX.length&&e.push("axisX"),this.axisX2&&0<this.axisX2.length&&e.push("axisX2"),this.axisY&&0<this.axisY.length&&e.push("axisY"),this.axisY2&&0<this.axisY2.length&&e.push("axisY2");for(var a=0;a<e.length;a++)if(B(i[e[a]])&&(i[e[a]]=[]),e[a]==="axisY")for(var r=0;r<this.axisY.length;r++)i[e[a]].push({viewportMinimum:this[e[a]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][r].sessionVariables.newViewportMaximum});else if(e[a]==="axisY2")for(r=0;r<this.axisY2.length;r++)i[e[a]].push({viewportMinimum:this[e[a]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][r].sessionVariables.newViewportMaximum});else if(e[a]==="axisX")for(r=0;r<this.axisX.length;r++)i[e[a]].push({viewportMinimum:this[e[a]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][r].sessionVariables.newViewportMaximum});else if(e[a]==="axisX2")for(r=0;r<this.axisX2.length;r++)i[e[a]].push({viewportMinimum:this[e[a]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][r].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},T.prototype._mouseEventHandler=function(t){function n(){T.capturedEventParam&&(a=T.capturedEventParam,l=a.bounds,e==="mouseup"&&(T.capturedEventParam=null,a.chart.overlaidCanvas.releaseCapture?a.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",a.chart._mouseEventHandler,!1)),a.hasOwnProperty(e)&&(e!=="mouseup"||a.chart.overlaidCanvas.releaseCapture?t.target!==a.chart.overlaidCanvas&&R||a[e].call(a.context,i.x,i.y):t.target!==a.chart.overlaidCanvas&&(a.chart.isDrag=!1)))}typeof t.target>"u"&&t.srcElement&&(t.target=t.srcElement);var i=pa(t),e=t.type,a,r;if(t.which?r=t.which==3:t.button&&(r=t.button==2),this._ignoreNextEvent)n(),this._ignoreNextEvent=!1;else if(n(),this.interactivityEnabled){t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault();var l;if(!r){if(!T.capturedEventParam&&this._events){for(r=0;r<this._events.length;r++)if(this._events[r].hasOwnProperty(e))if(a=this._events[r],l=a.bounds,i.x>=l.x1&&i.x<=l.x2&&i.y>=l.y1&&i.y<=l.y2){a[e].call(a.context,i.x,i.y),e==="mousedown"&&a.capture===!0?(T.capturedEventParam=a,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):e==="mouseup"&&(a.chart.overlaidCanvas.releaseCapture?a.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else a=null;t.target.style.cursor=a&&a.cursor?a.cursor:this._defaultCursor}if(r=this.plotArea,i.x<r.x1||i.x>r.x2||i.y<r.y1||i.y>r.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):(this.resetOverlayedCanvas(),this.sessionVariables._dataHighlighted=!1),r=0;r<this.axisX.length;r++)this.axisX[r].crosshair&&this.axisX[r].crosshair.enabled&&(this.axisX[r].crosshair.hide(),this.axisX[r].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[r].options},this.axisX[r].crosshair));for(r=0;r<this.axisX2.length;r++)this.axisX2[r].crosshair&&this.axisX2[r].crosshair.enabled&&(this.axisX2[r].crosshair.hide(),this.axisX2[r].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[r].options},this.axisX2[r].crosshair));for(r=0;r<this.axisY.length;r++)this.axisY[r].crosshair&&this.axisY[r].crosshair.enabled&&(this.axisY[r].crosshair.hide(),this.axisY[r].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[r].options},this.axisY[r].crosshair));for(r=0;r<this.axisY2.length;r++)this.axisY2[r].crosshair&&this.axisY2[r].crosshair.enabled&&(this.axisY2[r].crosshair.hide(),this.axisY2[r].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[r].options},this.axisY2[r].crosshair))}this.sessionVariables.mouseX=i.x,this.sessionVariables.mouseY=i.y,this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},T.prototype._plotAreaMouseDown=function(t,n){this.isDrag=!0,this.dragStartPoint={x:t,y:n}},T.prototype._plotAreaMouseUp=function(t,n){if((this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")&&this.isDrag){var i=n-this.dragStartPoint.y,e=t-this.dragStartPoint.x,x=0<=this.zoomType.indexOf("x"),l=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),this.plotInfo.axisPlacement==="xySwapped")var r=l,l=x,x=r;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(x=l=0;x<this._axes.length;x++)i=this._axes[x],i.logarithmic?i.viewportMinimum<i.minimum?(l=i.minimum/i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum*l,i.sessionVariables.newViewportMaximum=i.viewportMaximum*l,a=!0):i.viewportMaximum>i.maximum&&(l=i.viewportMaximum/i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum/l,i.sessionVariables.newViewportMaximum=i.viewportMaximum/l,a=!0):i.viewportMinimum<i.minimum?(l=i.minimum-i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum+l,i.sessionVariables.newViewportMaximum=i.viewportMaximum+l,a=!0):i.viewportMaximum>i.maximum&&(l=i.viewportMaximum-i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum-l,i.sessionVariables.newViewportMaximum=i.viewportMaximum-l,a=!0);else if((!x||2<Math.abs(e))&&(!l||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;i=x?this.dragStartPoint.x:this.plotArea.x1,e=l?this.dragStartPoint.y:this.plotArea.y1,x=x?t:this.plotArea.x2,l=l?n:this.plotArea.y2,2<Math.abs(i-x)&&2<Math.abs(e-l)&&this._zoomPanToSelectedRegion(i,e,x,l,this.zoomType!=="xy"&&this.zoomType!=="y")&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&(this.stockChart.rangeUpdatedBy="chart",this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),a&&this.zoomEnabled&&this._zoomButton.style.display==="none"&&(Ae(this._zoomButton,this._resetButton),ue(this,this._zoomButton,"pan"),ue(this,this._resetButton,"reset")))}}if(this.isDrag=!1,this.plotInfo.axisPlacement!=="none"){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,n);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,n);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,n);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,n);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},T.prototype._plotAreaMouseMove=function(t,n){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var i=0,e=0,a=i=null,a=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y"),l=this;if(this.plotInfo.axisPlacement==="xySwapped"&&(i=r,r=a,a=i),i=this.dragStartPoint.x-t,e=this.dragStartPoint.y-n,2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var x=0;x<this.axisX.length;x++)this.axisX[x].crosshair&&this.axisX[x].crosshair.enabled&&(this.axisX[x].crosshair.hide(),this.axisX[x].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[x].options},this.axisX[x].crosshair));for(x=0;x<this.axisX2.length;x++)this.axisX2[x].crosshair&&this.axisX2[x].crosshair.enabled&&(this.axisX2[x].crosshair.hide(),this.axisX2[x].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[x].options},this.axisX2[x].crosshair));for(x=0;x<this.axisY.length;x++)this.axisY[x].crosshair&&this.axisY[x].crosshair.enabled&&(this.axisY[x].crosshair.hide(),this.axisY[x].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[x].options},this.axisY[x].crosshair));for(x=0;x<this.axisY2.length;x++)this.axisY2[x].crosshair&&this.axisY2[x].crosshair.enabled&&(this.axisY2[x].crosshair.hide(),this.axisY2[x].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[x].options},this.axisY2[x].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,n);if((!a||2<Math.abs(i)||!r||2<Math.abs(e))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)a={x1:a?this.plotArea.x1+i:this.plotArea.x1,y1:r?this.plotArea.y1+e:this.plotArea.y1,x2:a?this.plotArea.x2+i:this.plotArea.x2,y2:r?this.plotArea.y2+e:this.plotArea.y2},clearTimeout(l._panTimerId),l._panTimerId=setTimeout(function(d,h,p,s){return function(){l._zoomPanToSelectedRegion(d,h,p,s,!0)&&(l._dispatchRangeEvent("rangeChanging","pan"),l.stockChart&&(l.stockChart._rangeEventParameter.type="rangeChanging",l.stockChart.dispatchEvent("rangeChanging",l.stockChart._rangeEventParameter,l.stockChart)),l.render(),l._dispatchRangeEvent("rangeChanged","pan"),l.stockChart&&(l.stockChart._rangeEventParameter.type="rangeChanged",l.stockChart.dispatchEvent("rangeChanged",l.stockChart._rangeEventParameter,l.stockChart)),l.dragStartPoint.x=t,l.dragStartPoint.y=n)}}(a.x1,a.y1,a.x2,a.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var e=a?this.dragStartPoint.x:this.plotArea.x1,x=r?this.dragStartPoint.y:this.plotArea.y1,m=a?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=r?n-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(e,x,a?t:this.plotArea.x2-this.plotArea.x1,r?n:this.plotArea.y2-this.plotArea.y1,this.zoomType!=="xy"&&this.zoomType!=="y").isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(e,x,m,u),this.overlaidCanvasCtx.globalAlpha=i}}}else if(this.toolTip.mouseMoveHandler(t,n),this.plotInfo.axisPlacement!=="none"){if(this.sessionVariables.crosshairShownByPixel=!0,this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,n);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,n);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,n);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,n);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},T.prototype._zoomPanToSelectedRegion=function(t,n,i,e,a){if(t=this.validateRegion(t,n,i,e,a),n=t.axesWithValidRange,i=t.axesRanges,t.isValid)for(e=0;e<n.length;e++){a=n[e];var r=i[e];a.setViewPortRange(r.val1,r.val2),this.syncCharts&&a.type==="axisX"&&this.zoomType!="y"&&this.syncCharts(r.val1,r.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:r.val1,maximum:r.val2})}return t.isValid},T.prototype.validateRegion=function(t,n,i,e,a){a=a||!1;for(var r=0<=this.zoomType.indexOf("x"),l=0<=this.zoomType.indexOf("y"),x=!1,m=[],u=[],d=[],h=0;h<this._axes.length;h++)(this._axes[h].type==="axisX"&&r||this._axes[h].type==="axisY"&&l)&&u.push(this._axes[h]);for(l=0;l<u.length;l++){var h=u[l],r=!1,b=h.convertPixelToValue({x:t,y:n}),s=h.convertPixelToValue({x:i,y:e});if(b>s)var p=s,s=b,b=p;if(h.scaleBreaks)for(p=0;!r&&p<h.scaleBreaks._appliedBreaks.length;p++)r=h.scaleBreaks._appliedBreaks[p].startValue<=b&&h.scaleBreaks._appliedBreaks[p].endValue>=s;if(isFinite(h.dataInfo.minDiff)){if(p=h.getApparentDifference(b,s,null,!0),!(r||!(this.panEnabled&&h.scaleBreaks&&h.scaleBreaks._appliedBreaks.length)&&(h.logarithmic&&p<Math.pow(h.dataInfo.minDiff,3)||!h.logarithmic&&p<3*Math.abs(h.dataInfo.minDiff))||b<h.minimum||s>h.maximum))m.push(h),d.push({val1:b,val2:s}),x=!0;else if(!a){x=!1;break}}}return{isValid:x,axesWithValidRange:m,axesRanges:d}},T.prototype.preparePlotArea=function(){var t=this.plotArea;if(!R&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var n=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var i=this.axisY[0];t.x1=n.x1<n.x2?n.x1:i.lineCoordinates.x1,t.y1=n.y1<i.lineCoordinates.y1?n.y1:i.lineCoordinates.y1,t.x2=n.x2>i.lineCoordinates.x2?n.x2:i.lineCoordinates.x2,t.y2=n.y1>i.lineCoordinates.y2?n.y1:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(i=this.axisY2[0],t.x1=n.x1<n.x2?n.x1:i.lineCoordinates.x1,t.y1=n.y1<i.lineCoordinates.y1?n.y1:i.lineCoordinates.y1,t.x2=n.x2>i.lineCoordinates.x2?n.x2:i.lineCoordinates.x2,t.y2=n.y2>i.lineCoordinates.y2?n.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else n=this.layoutManager.getFreeSpace(),t.x1=n.x1,t.x2=n.x2,t.y1=n.y1,t.y2=n.y2,t.width=n.width,t.height=n.height;R||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new Ut(t.x1,t.y1,t.x2,t.y2,2)},T.prototype.renderIndexLabels=function(t){var n=t||this.plotArea.ctx,i=this.plotArea,e=0,a=0,r=0,l=a=r=0,x=0,m=e=0,u=0;for(t=0;t<this._indexLabels.length;t++){var d=this._indexLabels[t],h=d.chartType.toLowerCase(),p,s,x=xe("indexLabelFontColor",d.dataPoint,d.dataSeries),b=xe("indexLabelFontSize",d.dataPoint,d.dataSeries),m=xe("indexLabelFontFamily",d.dataPoint,d.dataSeries),u=xe("indexLabelFontStyle",d.dataPoint,d.dataSeries);p=xe("indexLabelFontWeight",d.dataPoint,d.dataSeries);var k=xe("indexLabelBackgroundColor",d.dataPoint,d.dataSeries);s=xe("indexLabelBorderColor",d.dataPoint,d.dataSeries);var r=xe("indexLabelBorderThickness",d.dataPoint,d.dataSeries),a=xe("indexLabelMaxWidth",d.dataPoint,d.dataSeries),l=xe("indexLabelWrap",d.dataPoint,d.dataSeries),w=xe("indexLabelLineDashType",d.dataPoint,d.dataSeries),f=xe("indexLabelLineColor",d.dataPoint,d.dataSeries),_=B(d.dataPoint.indexLabelLineThickness)?B(d.dataSeries.options.indexLabelLineThickness)?0:d.dataSeries.options.indexLabelLineThickness:d.dataPoint.indexLabelLineThickness,e=0<_?Math.min(10,(this.plotInfo.axisPlacement==="normal"?this.plotArea.height:this.plotArea.width)<<0):0,C=xe("indexLabelPadding",d.dataPoint,d.dataSeries),E={percent:null,total:null},D=null;(0<=d.dataSeries.type.indexOf("stacked")||d.dataSeries.type==="pie"||d.dataSeries.type==="doughnut")&&(E=this.getPercentAndTotal(d.dataSeries,d.dataPoint)),(d.dataSeries.indexLabelFormatter||d.dataPoint.indexLabelFormatter)&&(D={chart:this,dataSeries:d.dataSeries,dataPoint:d.dataPoint,index:d.indexKeyword,total:E.total,percent:E.percent});var V=d.dataPoint.indexLabelFormatter?d.dataPoint.indexLabelFormatter(D):d.dataPoint.indexLabel?this.replaceKeywordsWithValue(d.dataPoint.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):d.dataSeries.indexLabelFormatter?d.dataSeries.indexLabelFormatter(D):d.dataSeries.indexLabel?this.replaceKeywordsWithValue(d.dataSeries.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):null;if(V!==null&&V!==""){var E=xe("indexLabelPlacement",d.dataPoint,d.dataSeries),D=xe("indexLabelOrientation",d.dataPoint,d.dataSeries),et=xe("indexLabelTextAlign",d.dataPoint,d.dataSeries),xt=d.direction,U=d.dataSeries.axisX,K=d.dataSeries.axisY,j=!1,k=new Be(n,{x:0,y:0,maxWidth:a||.5*this.width,maxHeight:l?5*b:1.5*b,angle:D==="horizontal"?0:-90,text:V,padding:C,backgroundColor:k,borderColor:s,borderThickness:r,textAlign:et,fontSize:b,fontFamily:m,fontWeight:p,fontColor:x,fontStyle:u,textBaseline:"middle"});if(k.measureText(),d.dataSeries.indexLabelMaxWidth=k.maxWidth,h==="stackedarea100"){if(d.point.x<i.x1||d.point.x>i.x2||d.point.y<i.y1-1||d.point.y>i.y2+1)continue}else if(h==="rangearea"||h==="rangesplinearea"){if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<K.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>K.viewportMaximum)continue}else if(0<=h.indexOf("line")||0<=h.indexOf("area")||0<=h.indexOf("bubble")||0<=h.indexOf("scatter")){if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum||d.dataPoint.y<K.viewportMinimum||d.dataPoint.y>K.viewportMaximum)continue}else if(0<=h.indexOf("column")){if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum||(0<d.dataPoint.y.length?Math.max.apply(null,d.dataPoint.y):d.cumulativeY?d.cumulativeY:d.dataPoint.y)<K.viewportMinimum||(0<d.dataPoint.y.length?Math.min.apply(null,d.dataPoint.y):d.cumulativeY?d.cumulativeY:d.dataPoint.y)>K.viewportMaximum)continue}else if(h==="waterfall"||h==="error"&&!d.axisSwapped){if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum||d.bounds.y1>i.y2||d.bounds.y2<i.y1)continue}else if(0<=h.indexOf("bar")||h==="error"){if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum||d.bounds.x1>i.x2||d.bounds.x2<i.x1)continue}else if(h==="candlestick"||h==="ohlc"){if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<K.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>K.viewportMaximum)continue}else if(d.dataPoint.x<U.viewportMinimum||d.dataPoint.x>U.viewportMaximum)continue;l=x=2,D==="horizontal"?(m=k.width,u=k.height):(u=k.width,m=k.height),this.plotInfo.axisPlacement==="normal"?(0<=h.indexOf("line")||0<=h.indexOf("area")?(E="auto",x=4):0<=h.indexOf("stacked")?E==="auto"&&(E="inside"):(h==="bubble"||h==="scatter")&&(E="inside"),p=d.point.x-m/2+(D==="horizontal"?0:k._lineHeight/2),E!=="inside"?(a=i.y1,r=i.y2,0<xt?(s=d.point.y+k._lineHeight/2-u-x-e,s<a&&(s=E==="auto"?Math.max(d.point.y,a)+k._lineHeight/2+x+e:a+k._lineHeight/2+x+e,j=s+(D==="horizontal"?u-k._lineHeight/2:0)>d.point.y,!j||0<=h.indexOf("line")||0<=h.indexOf("area")||(s-=e))):(s=d.point.y+k._lineHeight/2+x+e,s>r-u+k._lineHeight/2-x&&(s=E==="auto"?Math.min(d.point.y,r)+k._lineHeight/2-u-x-e:r+k._lineHeight/2-u-x-e,j=s-(D==="horizontal"?k._lineHeight/2:u)<d.point.y,!j||0<=h.indexOf("line")||0<=h.indexOf("area")||(s+=e)))):(Math.max(d.bounds.y1,i.y1),r=Math.min(d.bounds.y2,i.y2)-u+k._lineHeight/2,e=0<=h.indexOf("range")||h==="error"?0<xt?Math.max(d.bounds.y1,i.y1)+k._lineHeight/2+x:Math.min(d.bounds.y2,i.y2)+k._lineHeight/2-u-x:(Math.max(d.bounds.y1,i.y1)+Math.min(d.bounds.y2,i.y2))/2-u/2+k._lineHeight/2,0<xt?(s=e,(h==="bubble"||h==="scatter")&&(s=d.point.y-u/2+k._lineHeight/2,u>d.bounds.y2-d.bounds.y1&&(s-=u/2+x),0>s-k._lineHeight/2&&(s+=Math.abs(s-k._lineHeight/2)<=(d.bounds.y2-d.bounds.y1)/2+x?Math.abs(s-k._lineHeight/2):(d.bounds.y2-d.bounds.y1)/2+x))):(s=Math.min(d.point.y,e),s>r-u-x&&(h==="bubble"||h==="scatter")&&(s=Math.min(d.point.y+x,i.y2-u-x))),s=Math.min(s,r))):(0<=h.indexOf("line")||0<=h.indexOf("area")||0<=h.indexOf("scatter")?(E="auto",l=4):0<=h.indexOf("stacked")?E==="auto"&&(E="inside"):h==="bubble"&&(E="inside"),s=d.point.y+k._lineHeight/2-u/2,E!=="inside"?(r=i.x1,a=i.x2,0>xt?(p=d.point.x-m+(D==="horizontal"?0:k._lineHeight/2)-l-e,(D==="horizontal"?p:p-k._lineHeight/2)<r&&(p=E==="auto"?Math.max(d.point.x,r)+(D==="horizontal"?0:k._lineHeight/2)+x+e:r+(D==="horizontal"?0:k._lineHeight/2)+l,(j=p+m-(D==="horizontal"?0:k._lineHeight/2)>d.point.x)&&(p-=e))):(p=d.point.x+(D==="horizontal"?0:k._lineHeight/2)+l+e,(D==="horizontal"?p:p-k._lineHeight/2)>a-m-l-e&&(p=E==="auto"?Math.min(d.point.x,a)-(D==="horizontal"?m:m-k._lineHeight/2)-l-e:a-m-l+(D==="horizontal"?0:k._lineHeight/2),(j=p-(D==="horizontal"?0:k._lineHeight/2)<d.point.x)&&(p+=e)))):(r=Math.max(d.bounds.x1,i.x1),Math.min(d.bounds.x2,i.x2),e=0<=h.indexOf("range")||h==="error"?0>xt?Math.max(d.bounds.x1,i.x1):Math.min(d.bounds.x2,i.x2)-m-l+(D==="horizontal"?0:k._lineHeight/2):(Math.max(d.bounds.x1,i.x1)+Math.min(d.bounds.x2,i.x2))/2-m/2+(D==="horizontal"?0:k._lineHeight/2),p=0>xt?e:Math.min(d.point.x,e),p=Math.max(p,r+(D==="horizontal"?0:k._lineHeight/2+x)))),D==="vertical"&&(s+=u-k._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(h)&&(j=0<xt?s+(D==="horizontal"?u-k._lineHeight/2:0)>d.point.y:s-(D==="horizontal"?k._lineHeight/2:u)<d.point.y),h==="bubble"||h==="scatter")&&(p+=k._lineHeight/2-b/2),k.x=p,k.y=s,k.render(!0),_&&E!=="inside"&&(0>h.indexOf("bar")&&(h!=="error"||!d.axisSwapped)&&d.point.x>i.x1&&d.point.x<i.x2||!j)&&("ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(h)===-1&&(h!=="error"||d.axisSwapped)&&d.point.y>i.y1&&d.point.y<i.y2||!j)&&(n.lineWidth=_,n.strokeStyle=f||"gray",n.setLineDash&&n.setLineDash(Pt(w,_)),n.beginPath(),n.moveTo(d.point.x,d.point.y),0<=h.indexOf("bar")||h==="error"&&d.axisSwapped?n.lineTo(p+(0<d.direction?0:m)+(D==="vertical"?-k._lineHeight/2:0),s+(D==="vertical"?-u/2:u/2-k._lineHeight/2)):0<=h.indexOf("column")||h==="error"&&!d.axisSwapped?n.lineTo(p+m/2-(D==="horizontal"?0:k._lineHeight/2),s+(D==="vertical"?s-u<d.point.y?0:-u:(s-k._lineHeight/2<d.point.y?u:0)-k._lineHeight/2)):0<=h.indexOf("waterfall")?n.lineTo(p+m/2-(D==="horizontal"?0:k._lineHeight/2),D==="vertical"?0<xt&&s<d.point.y?s:0>xt&&s-u>d.point.y?s-u:d.point.y:0<xt&&s+u-k._lineHeight/2<d.point.y?s+u-k._lineHeight/2:0>xt&&s-k._lineHeight/2>d.point.y?s-k._lineHeight/2:d.point.y):n.lineTo(p+m/2-(D==="horizontal"?0:k._lineHeight/2),s+(D==="vertical"?s-u<d.point.y?0:-u:(s+u-k._lineHeight/2<d.point.y?u:0)-k._lineHeight/2)),n.stroke())}}for(n={source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)d=this._indexLabels[t],k=xe("indexLabelBackgroundColor",d.dataPoint,d.dataSeries),d.dataSeries.indexLabelBackgroundColor=B(k)?R?"transparent":null:k;return n},T.prototype.renderLine=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;i.save();var a=this.plotArea;i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip();for(var r=[],l,x=0;x<t.dataSeriesIndexes.length;x++){var m=t.dataSeriesIndexes[x],u=this.data[m];i.lineWidth=u.lineThickness;var d=u.dataPoints,h="solid";if(i.setLineDash){var p=Pt(u.nullDataLineDashType,u.lineThickness),h=u.lineDashType,s=Pt(h,u.lineThickness);i.setLineDash(s)}var b=u.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:m},b=bt(b),e.strokeStyle=b,e.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var b=u._colorSet,k=b=u.lineColor=u.options.lineColor?u.options.lineColor:b[0];i.strokeStyle=b;var w=!0,f=0,_,C;if(i.beginPath(),0<d.length){for(var E=!1,f=0;f<d.length;f++)if(_=d[f].x.getTime?d[f].x.getTime():d[f].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!E)))if(typeof d[f].y!="number")0<f&&!(u.connectNullData||E||w)&&(i.stroke(),R&&e.stroke()),E=!0;else{_=t.axisX.convertValueToPixel(_),C=t.axisY.convertValueToPixel(d[f].y);var D=u.dataPointIds[f];if(this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:f,x1:_,y1:C},w||E?(!w&&u.connectNullData?(i.setLineDash&&(u.options.nullDataLineDashType||h===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(l.x,l.y),h=u.nullDataLineDashType,i.setLineDash(p)),i.lineTo(_,C),R&&e.lineTo(_,C)):(i.beginPath(),i.moveTo(_,C),R&&(e.beginPath(),e.moveTo(_,C))),E=w=!1):(i.lineTo(_,C),R&&e.lineTo(_,C),f%500==0&&(i.stroke(),i.beginPath(),i.moveTo(_,C),R&&(e.stroke(),e.beginPath(),e.moveTo(_,C)))),l={x:_,y:C},f<d.length-1&&(k!==(d[f].lineColor||b)||h!==(d[f].lineDashType||u.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(_,C),k=d[f].lineColor||b,i.strokeStyle=k,i.setLineDash&&(d[f].lineDashType?(h=d[f].lineDashType,i.setLineDash(Pt(h,u.lineThickness))):(h=u.lineDashType,i.setLineDash(s)))),d[f].markerSize!==0&&(0<d[f].markerSize||0<u.markerSize)){var V=u.getMarkerProperties(f,_,C,i);r.push(V),D=bt(D),R&&r.push({x:_,y:C,ctx:e,type:V.type,size:V.size,color:D,borderColor:D,borderThickness:V.borderThickness})}(d[f].indexLabel||u.indexLabel||d[f].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:d[f],dataSeries:u,point:{x:_,y:C},direction:0>d[f].y===t.axisY.reversed?1:-1,color:b})}i.stroke(),R&&e.stroke()}}return Ie.drawMarkers(r),R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),e.beginPath()),i.restore(),i.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderStepLine=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;i.save();var a=this.plotArea;i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip();for(var r=[],l,x=0;x<t.dataSeriesIndexes.length;x++){var m=t.dataSeriesIndexes[x],u=this.data[m];i.lineWidth=u.lineThickness;var d=u.dataPoints,h="solid";if(i.setLineDash){var p=Pt(u.nullDataLineDashType,u.lineThickness),h=u.lineDashType,s=Pt(h,u.lineThickness);i.setLineDash(s)}var b=u.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:m},b=bt(b),e.strokeStyle=b,e.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var b=u._colorSet,k=b=u.lineColor=u.options.lineColor?u.options.lineColor:b[0];i.strokeStyle=b;var w=!0,f=0,_,C;if(i.beginPath(),0<d.length){for(var E=!1,f=0;f<d.length;f++)if(_=d[f].getTime?d[f].x.getTime():d[f].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!E)))if(typeof d[f].y!="number")0<f&&!(u.connectNullData||E||w)&&(i.stroke(),R&&e.stroke()),E=!0;else{var D=C;_=t.axisX.convertValueToPixel(_),C=t.axisY.convertValueToPixel(d[f].y);var V=u.dataPointIds[f];this._eventManager.objectMap[V]={id:V,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:f,x1:_,y1:C},w||E?(!w&&u.connectNullData?(i.setLineDash&&(u.options.nullDataLineDashType||h===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(l.x,l.y),h=u.nullDataLineDashType,i.setLineDash(p)),i.lineTo(_,D),i.lineTo(_,C),R&&(e.lineTo(_,D),e.lineTo(_,C))):(i.beginPath(),i.moveTo(_,C),R&&(e.beginPath(),e.moveTo(_,C))),E=w=!1):(i.lineTo(_,D),R&&e.lineTo(_,D),i.lineTo(_,C),R&&e.lineTo(_,C),f%500==0&&(i.stroke(),i.beginPath(),i.moveTo(_,C),R&&(e.stroke(),e.beginPath(),e.moveTo(_,C)))),l={x:_,y:C},f<d.length-1&&(k!==(d[f].lineColor||b)||h!==(d[f].lineDashType||u.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(_,C),k=d[f].lineColor||b,i.strokeStyle=k,i.setLineDash&&(d[f].lineDashType?(h=d[f].lineDashType,i.setLineDash(Pt(h,u.lineThickness))):(h=u.lineDashType,i.setLineDash(s)))),d[f].markerSize!==0&&(0<d[f].markerSize||0<u.markerSize)&&(D=u.getMarkerProperties(f,_,C,i),r.push(D),V=bt(V),R&&r.push({x:_,y:C,ctx:e,type:D.type,size:D.size,color:V,borderColor:V,borderThickness:D.borderThickness})),(d[f].indexLabel||u.indexLabel||d[f].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:d[f],dataSeries:u,point:{x:_,y:C},direction:0>d[f].y===t.axisY.reversed?1:-1,color:b})}i.stroke(),R&&e.stroke()}}return Ie.drawMarkers(r),R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),e.beginPath()),i.restore(),i.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderSpline=function(t){function n(V){if(V=L(V,2),0<V.length){e.beginPath(),R&&a.beginPath(),e.moveTo(V[0].x,V[0].y),V[0].newStrokeStyle&&(e.strokeStyle=V[0].newStrokeStyle),V[0].newLineDashArray&&e.setLineDash(V[0].newLineDashArray),R&&a.moveTo(V[0].x,V[0].y);for(var et=0;et<V.length-3;et+=3)e.bezierCurveTo(V[et+1].x,V[et+1].y,V[et+2].x,V[et+2].y,V[et+3].x,V[et+3].y),R&&a.bezierCurveTo(V[et+1].x,V[et+1].y,V[et+2].x,V[et+2].y,V[et+3].x,V[et+3].y),(0<et&&et%3e3===0||V[et+3].newStrokeStyle||V[et+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(V[et+3].x,V[et+3].y),V[et+3].newStrokeStyle&&(e.strokeStyle=V[et+3].newStrokeStyle),V[et+3].newLineDashArray&&e.setLineDash(V[et+3].newLineDashArray),R&&(a.stroke(),a.beginPath(),a.moveTo(V[et+3].x,V[et+3].y)));e.stroke(),R&&a.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=R?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;e.save();var r=this.plotArea;e.beginPath(),e.rect(r.x1,r.y1,r.width,r.height),e.clip();for(var l=[],x=0;x<t.dataSeriesIndexes.length;x++){var m=t.dataSeriesIndexes[x],u=this.data[m];e.lineWidth=u.lineThickness;var d=u.dataPoints,h="solid";if(e.setLineDash){var p=Pt(u.nullDataLineDashType,u.lineThickness),h=u.lineDashType,s=Pt(h,u.lineThickness);e.setLineDash(s)}var b=u.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:m},b=bt(b),a.strokeStyle=b,a.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var b=u._colorSet,k=b=u.lineColor=u.options.lineColor?u.options.lineColor:b[0];e.strokeStyle=b;var w=0,f,_,C=[];if(e.beginPath(),0<d.length){for(_=!1,w=0;w<d.length;w++)if(f=d[w].getTime?d[w].x.getTime():d[w].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!_)))if(typeof d[w].y!="number")0<w&&!_&&(u.connectNullData?e.setLineDash&&0<C.length&&(u.options.nullDataLineDashType||!d[w-1].lineDashType)&&(C[C.length-1].newLineDashArray=p,h=u.nullDataLineDashType):(n(C),C=[])),_=!0;else{f=t.axisX.convertValueToPixel(f),_=t.axisY.convertValueToPixel(d[w].y);var E=u.dataPointIds[w];if(this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:w,x1:f,y1:_},C[C.length]={x:f,y:_},w<d.length-1&&(k!==(d[w].lineColor||b)||h!==(d[w].lineDashType||u.lineDashType))&&(k=d[w].lineColor||b,C[C.length-1].newStrokeStyle=k,e.setLineDash&&(d[w].lineDashType?(h=d[w].lineDashType,C[C.length-1].newLineDashArray=Pt(h,u.lineThickness)):(h=u.lineDashType,C[C.length-1].newLineDashArray=s))),d[w].markerSize!==0&&(0<d[w].markerSize||0<u.markerSize)){var D=u.getMarkerProperties(w,f,_,e);l.push(D),E=bt(E),R&&l.push({x:f,y:_,ctx:a,type:D.type,size:D.size,color:E,borderColor:E,borderThickness:D.borderThickness})}(d[w].indexLabel||u.indexLabel||d[w].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:d[w],dataSeries:u,point:{x:f,y:_},direction:0>d[w].y===t.axisY.reversed?1:-1,color:b}),_=!1}}n(C)}return Ie.drawMarkers(l),R&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(r.x1,r.y1,r.width,r.height),a.beginPath()),e.restore(),e.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderColumn=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,u=0,r,l,x,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0,h=t.axisX.dataInfo.minDiff;for(isFinite(h)||(h=.3*Math.abs(t.axisX.range)),h=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&u>d&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<u&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>d&&(h=d),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),d=0;d<t.dataSeriesIndexes.length;d++){var p=t.dataSeriesIndexes[d],s=this.data[p],b=s.dataPoints;if(0<b.length){for(var k=!!(5<h&&s.bevelEnabled),u=0;u<b.length;u++)if(b[u].getTime?x=b[u].x.getTime():x=b[u].x,!(x<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax)&&typeof b[u].y=="number"){r=t.axisX.convertValueToPixel(x),l=t.axisY.convertValueToPixel(b[u].y),r=t.axisX.reversed?r+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+d)*h<<0:r-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+d)*h<<0;var w=t.axisX.reversed?r-h<<0:r+h<<0,f;0<=b[u].y?f=m:(f=l,l=m),l>f&&(e=l,l=f,f=e),e=b[u].color?b[u].color:s._colorSet[u%s._colorSet.length],Pe(i,t.axisX.reversed?w:r,l,t.axisX.reversed?r:w,f,e,0,null,k&&(t.axisY.reversed?0>b[u].y:0<=b[u].y),(t.axisY.reversed?0<=b[u].y:0>b[u].y)&&k,!1,!1,s.fillOpacity),e=s.dataPointIds[u],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:u,x1:r,y1:l,x2:w,y2:f},e=bt(e),R&&Pe(this._eventManager.ghostCtx,t.axisX.reversed?w:r,l,t.axisX.reversed?r:w,f,e,0,null,!1,!1),(b[u].indexLabel||s.indexLabel||b[u].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:b[u],dataSeries:s,point:{x:r+(w-r)/2,y:0>b[u].y===t.axisY.reversed?l:f},direction:0>b[u].y===t.axisY.reversed?1:-1,bounds:{x1:r,y1:Math.min(l,f),x2:w,y2:Math.max(l,f)},color:e})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.yScaleAnimation,easingFunction:Xt.easing.easeOutQuart,animationBase:m<t.axisY.bounds.y1?t.axisY.bounds.y1:m>t.axisY.bounds.y2?t.axisY.bounds.y2:m}}},T.prototype.renderStackedColumn=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,r=[],l=[],x=[],m=[],p=0,u,d,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&p>s&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<p&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>s&&(b=s),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var k=t.dataSeriesIndexes[s],w=this.data[k],f=w.dataPoints;if(0<f.length){var _=!!(5<b&&w.bevelEnabled);for(i.strokeStyle="#4572A7 ",p=0;p<f.length;p++)if(e=f[p].x.getTime?f[p].x.getTime():f[p].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof f[p].y=="number"){u=t.axisX.convertValueToPixel(e),u=u-t.plotType.plotUnits.length*b/2+t.index*b<<0;var C=u+b<<0,E;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<f[p].y)x[e]=f[p].y+(x[e]?x[e]:0),0<x[e]&&(d=t.axisY.convertValueToPixel(x[e]),E=typeof r[e]<"u"?r[e]:h,r[e]=d);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=f[p].y)m[e]=f[p].y+(m[e]?m[e]:0),E=t.axisY.convertValueToPixel(m[e]),d=typeof l[e]<"u"?l[e]:h,l[e]=E;else if(d=t.axisY.convertValueToPixel(f[p].y),0<=f[p].y){var D=typeof r[e]<"u"?r[e]:0;d-=D,E=h-D,r[e]=D+(E-d)}else D=l[e]?l[e]:0,E=d+D,d=h+D,l[e]=D+(E-d);e=f[p].color?f[p].color:w._colorSet[p%w._colorSet.length],Pe(i,u,t.axisY.reversed?E:d,C,t.axisY.reversed?d:E,e,0,null,_&&(t.axisY.reversed?0>f[p].y:0<=f[p].y),(t.axisY.reversed?0<=f[p].y:0>f[p].y)&&_,!1,!1,w.fillOpacity),e=w.dataPointIds[p],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:p,x1:u,y1:d,x2:C,y2:E},e=bt(e),R&&Pe(this._eventManager.ghostCtx,u,d,C,E,e,0,null,!1,!1),(f[p].indexLabel||w.indexLabel||f[p].indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:f[p],dataSeries:w,point:{x:u+(C-u)/2,y:0<=f[p].y?d:E},direction:0>f[p].y===t.axisY.reversed?1:-1,bounds:{x1:u,y1:Math.min(d,E),x2:C,y2:Math.max(d,E)},color:e,cumulativeY:w.dataPointEOs[p].cumulativeY})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.yScaleAnimation,easingFunction:Xt.easing.easeOutQuart,animationBase:h<t.axisY.bounds.y1?t.axisY.bounds.y1:h>t.axisY.bounds.y2?t.axisY.bounds.y2:h}}},T.prototype.renderStackedColumn100=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,r=[],l=[],x=[],m=[],s=0,u,d,h,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),s=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var b=t.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&s>h&&(s=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<s&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,s)),b<s&&(b=s),b>h&&(b=h),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var k=0;k<t.dataSeriesIndexes.length;k++){var w=t.dataSeriesIndexes[k],f=this.data[w],_=f.dataPoints;if(0<_.length){for(var C=!!(5<b&&f.bevelEnabled),s=0;s<_.length;s++)if(h=_[s].x.getTime?_[s].x.getTime():_[s].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&typeof _[s].y=="number"){u=t.axisX.convertValueToPixel(h),d=t.dataPointYSums[h]!==0?100*(_[s].y/t.dataPointYSums[h]):0,u=u-t.plotType.plotUnits.length*b/2+t.index*b<<0;var E=u+b<<0,D;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<_[s].y){if(x[h]=d+(typeof x[h]<"u"?x[h]:0),0>=x[h])continue;d=t.axisY.convertValueToPixel(x[h]),D=r[h]?r[h]:p,r[h]=d}else t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=_[s].y?(m[h]=d+(typeof m[h]<"u"?m[h]:0),D=t.axisY.convertValueToPixel(m[h]),d=l[h]?l[h]:p,l[h]=D):(d=t.axisY.convertValueToPixel(d),0<=_[s].y?(e=typeof r[h]<"u"?r[h]:0,d-=e,D=p-e,t.dataSeriesIndexes.length-1===k&&1>=Math.abs(a.y1-d)&&(d=a.y1),r[h]=e+(D-d)):(e=typeof l[h]<"u"?l[h]:0,D=d+e,d=p+e,t.dataSeriesIndexes.length-1===k&&1>=Math.abs(a.y2-D)&&(D=a.y2),l[h]=e+(D-d)));e=_[s].color?_[s].color:f._colorSet[s%f._colorSet.length],Pe(i,u,t.axisY.reversed?D:d,E,t.axisY.reversed?d:D,e,0,null,C&&(t.axisY.reversed?0>_[s].y:0<=_[s].y),(t.axisY.reversed?0<=_[s].y:0>_[s].y)&&C,!1,!1,f.fillOpacity),e=f.dataPointIds[s],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:s,x1:u,y1:d,x2:E,y2:D},e=bt(e),R&&Pe(this._eventManager.ghostCtx,u,d,E,D,e,0,null,!1,!1),(_[s].indexLabel||f.indexLabel||_[s].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:_[s],dataSeries:f,point:{x:u+(E-u)/2,y:0<=_[s].y?d:D},direction:0>_[s].y===t.axisY.reversed?1:-1,bounds:{x1:u,y1:Math.min(d,D),x2:E,y2:Math.max(d,D)},color:e,yCumulative:100*(f.dataPointEOs[s].cumulativeY/t.dataPointYSums[h])})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.yScaleAnimation,easingFunction:Xt.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},T.prototype.renderBar=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,u=0,r,l,x,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0,h=t.axisX.dataInfo.minDiff;for(isFinite(h)||(h=.3*Math.abs(t.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&u>d&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<u&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>d&&(h=d),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),d=0;d<t.dataSeriesIndexes.length;d++){var p=t.dataSeriesIndexes[d],s=this.data[p],b=s.dataPoints;if(0<b.length){var k=!!(5<h&&s.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<b.length;u++)if(b[u].getTime?x=b[u].x.getTime():x=b[u].x,!(x<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax)&&typeof b[u].y=="number"){l=t.axisX.convertValueToPixel(x),r=t.axisY.convertValueToPixel(b[u].y),l=t.axisX.reversed?l+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+d)*h<<0:l-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+d)*h<<0;var w=t.axisX.reversed?l-h<<0:l+h<<0,f;0<=b[u].y?f=m:(f=r,r=m),e=b[u].color?b[u].color:s._colorSet[u%s._colorSet.length],Pe(i,t.axisY.reversed?r:f,t.axisX.reversed?w:l,t.axisY.reversed?f:r,t.axisX.reversed?l:w,e,0,null,k,!1,!1,!1,s.fillOpacity),e=s.dataPointIds[u],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:u,x1:f,y1:l,x2:r,y2:w},e=bt(e),R&&Pe(this._eventManager.ghostCtx,f,t.axisX.reversed?w:l,r,t.axisX.reversed?l:w,e,0,null,!1,!1),(b[u].indexLabel||s.indexLabel||b[u].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:b[u],dataSeries:s,point:{x:0<=b[u].y?r:f,y:l+(w-l)/2},direction:0>b[u].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(f,r),y1:l,x2:Math.max(f,r),y2:w},color:e})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.xScaleAnimation,easingFunction:Xt.easing.easeOutQuart,animationBase:m<t.axisY.bounds.x1?t.axisY.bounds.x1:m>t.axisY.bounds.x2?t.axisY.bounds.x2:m}}},T.prototype.renderStackedBar=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,r=[],l=[],x=[],m=[],p=0,u,d,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&p>s&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<p&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>s&&(b=s),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var k=t.dataSeriesIndexes[s],w=this.data[k],f=w.dataPoints;if(0<f.length){var _=!!(5<b&&w.bevelEnabled);for(i.strokeStyle="#4572A7 ",p=0;p<f.length;p++)if(e=f[p].x.getTime?f[p].x.getTime():f[p].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof f[p].y=="number"){d=t.axisX.convertValueToPixel(e),d=d-t.plotType.plotUnits.length*b/2+t.index*b<<0;var C=d+b<<0,E;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<f[p].y)x[e]=f[p].y+(x[e]?x[e]:0),0<x[e]&&(E=r[e]?r[e]:h,r[e]=u=t.axisY.convertValueToPixel(x[e]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=f[p].y)m[e]=f[p].y+(m[e]?m[e]:0),u=l[e]?l[e]:h,l[e]=E=t.axisY.convertValueToPixel(m[e]);else if(u=t.axisY.convertValueToPixel(f[p].y),0<=f[p].y){var D=r[e]?r[e]:0;E=h+D,u+=D,r[e]=D+(u-E)}else D=l[e]?l[e]:0,E=u-D,u=h-D,l[e]=D+(u-E);e=f[p].color?f[p].color:w._colorSet[p%w._colorSet.length],Pe(i,t.axisY.reversed?u:E,d,t.axisY.reversed?E:u,C,e,0,null,_,!1,!1,!1,w.fillOpacity),e=w.dataPointIds[p],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:p,x1:E,y1:d,x2:u,y2:C},e=bt(e),R&&Pe(this._eventManager.ghostCtx,E,d,u,C,e,0,null,!1,!1),(f[p].indexLabel||w.indexLabel||f[p].indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:f[p],dataSeries:w,point:{x:0<=f[p].y?u:E,y:d+(C-d)/2},direction:0>f[p].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(E,u),y1:d,x2:Math.max(E,u),y2:C},color:e})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.xScaleAnimation,easingFunction:Xt.easing.easeOutQuart,animationBase:h<t.axisY.bounds.x1?t.axisY.bounds.x1:h>t.axisY.bounds.x2?t.axisY.bounds.x2:h}}},T.prototype.renderStackedBar100=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,r=[],l=[],x=[],m=[],p=0,u,d,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&p>s&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<p&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>s&&(b=s),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var k=t.dataSeriesIndexes[s],w=this.data[k],f=w.dataPoints;if(0<f.length){var _=!!(5<b&&w.bevelEnabled);for(i.strokeStyle="#4572A7 ",p=0;p<f.length;p++)if(e=f[p].x.getTime?f[p].x.getTime():f[p].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof f[p].y=="number"){d=t.axisX.convertValueToPixel(e);var C;C=t.dataPointYSums[e]!==0?100*(f[p].y/t.dataPointYSums[e]):0,d=d-t.plotType.plotUnits.length*b/2+t.index*b<<0;var E=d+b<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<f[p].y){if(x[e]=C+(x[e]?x[e]:0),0>=x[e])continue;C=r[e]?r[e]:h,r[e]=u=t.axisY.convertValueToPixel(x[e])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=f[p].y)m[e]=C+(m[e]?m[e]:0),u=l[e]?l[e]:h,l[e]=C=t.axisY.convertValueToPixel(m[e]);else if(u=t.axisY.convertValueToPixel(C),0<=f[p].y){var D=r[e]?r[e]:0;C=h+D,u+=D,t.dataSeriesIndexes.length-1===s&&1>=Math.abs(a.x2-u)&&(u=a.x2),r[e]=D+(u-C)}else D=l[e]?l[e]:0,C=u-D,u=h-D,t.dataSeriesIndexes.length-1===s&&1>=Math.abs(a.x1-C)&&(C=a.x1),l[e]=D+(u-C);e=f[p].color?f[p].color:w._colorSet[p%w._colorSet.length],Pe(i,t.axisY.reversed?u:C,d,t.axisY.reversed?C:u,E,e,0,null,_,!1,!1,!1,w.fillOpacity),e=w.dataPointIds[p],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:p,x1:C,y1:d,x2:u,y2:E},e=bt(e),R&&Pe(this._eventManager.ghostCtx,C,d,u,E,e,0,null,!1,!1),(f[p].indexLabel||w.indexLabel||f[p].indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:f[p],dataSeries:w,point:{x:0<=f[p].y?u:C,y:d+(E-d)/2},direction:0>f[p].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(C,u),y1:d,x2:Math.max(C,u),y2:E},color:e})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.xScaleAnimation,easingFunction:Xt.easing.easeOutQuart,animationBase:h<t.axisY.bounds.x1?t.axisY.bounds.x1:h>t.axisY.bounds.x2?t.axisY.bounds.x2:h}}},T.prototype.renderArea=function(t){var n,i;function e(){D&&(0<s.lineThickness&&r.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?E=C:0>t.axisY.viewportMaximum?E=x.y1:0<t.axisY.viewportMinimum&&(E=C),r.lineTo(w,E),r.lineTo(D.x,E),r.closePath(),r.globalAlpha=s.fillOpacity,r.fill(),r.globalAlpha=1,R&&(l.lineTo(w,E),l.lineTo(D.x,E),l.closePath(),l.fill()),r.beginPath(),r.moveTo(w,f),l.beginPath(),l.moveTo(w,f),D={x:w,y:f})}var a=t.targetCanvasCtx||this.plotArea.ctx,r=R?this._preRenderCtx:a;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,x=t.axisY.lineCoordinates,m=[],u=this.plotArea,d;r.save(),R&&l.save(),r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip(),R&&(l.beginPath(),l.rect(u.x1,u.y1,u.width,u.height),l.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],s=this.data[p],b=s.dataPoints,m=s.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:p},m=bt(m),l.fillStyle=m,m=[],n=!0;var k=0,w,f,_,C=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),E,D=null;if(0<b.length){var V=s._colorSet[k%s._colorSet.length],et=s.lineColor=s.options.lineColor||V,xt=et;if(r.fillStyle=V,r.strokeStyle=et,r.lineWidth=s.lineThickness,i="solid",r.setLineDash){var U=Pt(s.nullDataLineDashType,s.lineThickness);i=s.lineDashType;var K=Pt(i,s.lineThickness);r.setLineDash(K)}for(var j=!0;k<b.length;k++)if(_=b[k].x.getTime?b[k].x.getTime():b[k].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!j)))if(typeof b[k].y!="number")s.connectNullData||j||n||e(),j=!0;else{w=t.axisX.convertValueToPixel(_),f=t.axisY.convertValueToPixel(b[k].y),n||j?(!n&&s.connectNullData?(r.setLineDash&&(s.options.nullDataLineDashType||i===s.lineDashType&&s.lineDashType!==s.nullDataLineDashType)&&(n=w,i=f,w=d.x,f=d.y,e(),r.moveTo(d.x,d.y),w=n,f=i,D=d,i=s.nullDataLineDashType,r.setLineDash(U)),r.lineTo(w,f),R&&l.lineTo(w,f)):(r.beginPath(),r.moveTo(w,f),R&&(l.beginPath(),l.moveTo(w,f)),D={x:w,y:f}),j=n=!1):(r.lineTo(w,f),R&&l.lineTo(w,f),k%250==0&&e()),d={x:w,y:f},k<b.length-1&&(xt!==(b[k].lineColor||et)||i!==(b[k].lineDashType||s.lineDashType))&&(e(),xt=b[k].lineColor||et,r.strokeStyle=xt,r.setLineDash&&(b[k].lineDashType?(i=b[k].lineDashType,r.setLineDash(Pt(i,s.lineThickness))):(i=s.lineDashType,r.setLineDash(K))));var N=s.dataPointIds[k];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:k,x1:w,y1:f},b[k].markerSize!==0&&(0<b[k].markerSize||0<s.markerSize)&&(_=s.getMarkerProperties(k,w,f,r),m.push(_),N=bt(N),R&&m.push({x:w,y:f,ctx:l,type:_.type,size:_.size,color:N,borderColor:N,borderThickness:_.borderThickness})),(b[k].indexLabel||s.indexLabel||b[k].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:b[k],dataSeries:s,point:{x:w,y:f},direction:0>b[k].y===t.axisY.reversed?1:-1,color:V})}e(),Ie.drawMarkers(m)}}return R&&(a.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:a,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderSplineArea=function(t){function n(){var j=L(_,2);if(0<j.length){if(0<d.lineThickness){e.beginPath(),e.moveTo(j[0].x,j[0].y),j[0].newStrokeStyle&&(e.strokeStyle=j[0].newStrokeStyle),j[0].newLineDashArray&&e.setLineDash(j[0].newLineDashArray);for(var N=0;N<j.length-3;N+=3)e.bezierCurveTo(j[N+1].x,j[N+1].y,j[N+2].x,j[N+2].y,j[N+3].x,j[N+3].y),R&&a.bezierCurveTo(j[N+1].x,j[N+1].y,j[N+2].x,j[N+2].y,j[N+3].x,j[N+3].y),(j[N+3].newStrokeStyle||j[N+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(j[N+3].x,j[N+3].y),j[N+3].newStrokeStyle&&(e.strokeStyle=j[N+3].newStrokeStyle),j[N+3].newLineDashArray&&e.setLineDash(j[N+3].newLineDashArray));e.stroke()}for(e.beginPath(),e.moveTo(j[0].x,j[0].y),R&&(a.beginPath(),a.moveTo(j[0].x,j[0].y)),N=0;N<j.length-3;N+=3)e.bezierCurveTo(j[N+1].x,j[N+1].y,j[N+2].x,j[N+2].y,j[N+3].x,j[N+3].y),R&&a.bezierCurveTo(j[N+1].x,j[N+1].y,j[N+2].x,j[N+2].y,j[N+3].x,j[N+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?w=k:0>t.axisY.viewportMaximum?w=r.y1:0<t.axisY.viewportMinimum&&(w=k),f={x:j[0].x,y:j[0].y},e.lineTo(j[j.length-1].x,w),e.lineTo(f.x,w),e.closePath(),e.globalAlpha=d.fillOpacity,e.fill(),e.globalAlpha=1,R&&(a.lineTo(j[j.length-1].x,w),a.lineTo(f.x,w),a.closePath(),a.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=R?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,r=t.axisY.lineCoordinates,l=[],x=this.plotArea;e.save(),R&&a.save(),e.beginPath(),e.rect(x.x1,x.y1,x.width,x.height),e.clip(),R&&(a.beginPath(),a.rect(x.x1,x.y1,x.width,x.height),a.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var u=t.dataSeriesIndexes[m],d=this.data[u],h=d.dataPoints,l=d.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:u},l=bt(l),a.fillStyle=l;var l=[],p=0,s,b,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w,f=null,_=[];if(0<h.length){var C=d._colorSet[p%d._colorSet.length],E=d.lineColor=d.options.lineColor||C,D=E;e.fillStyle=C,e.strokeStyle=E,e.lineWidth=d.lineThickness;var V="solid";if(e.setLineDash){var et=Pt(d.nullDataLineDashType,d.lineThickness),V=d.lineDashType,xt=Pt(V,d.lineThickness);e.setLineDash(xt)}for(b=!1;p<h.length;p++)if(s=h[p].x.getTime?h[p].x.getTime():h[p].x,!(s<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!b)))if(typeof h[p].y!="number")0<p&&!b&&(d.connectNullData?e.setLineDash&&0<_.length&&(d.options.nullDataLineDashType||!h[p-1].lineDashType)&&(_[_.length-1].newLineDashArray=et,V=d.nullDataLineDashType):(n(),_=[])),b=!0;else{s=t.axisX.convertValueToPixel(s),b=t.axisY.convertValueToPixel(h[p].y);var U=d.dataPointIds[p];if(this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:p,x1:s,y1:b},_[_.length]={x:s,y:b},p<h.length-1&&(D!==(h[p].lineColor||E)||V!==(h[p].lineDashType||d.lineDashType))&&(D=h[p].lineColor||E,_[_.length-1].newStrokeStyle=D,e.setLineDash&&(h[p].lineDashType?(V=h[p].lineDashType,_[_.length-1].newLineDashArray=Pt(V,d.lineThickness)):(V=d.lineDashType,_[_.length-1].newLineDashArray=xt))),h[p].markerSize!==0&&(0<h[p].markerSize||0<d.markerSize)){var K=d.getMarkerProperties(p,s,b,e);l.push(K),U=bt(U),R&&l.push({x:s,y:b,ctx:a,type:K.type,size:K.size,color:U,borderColor:U,borderThickness:K.borderThickness})}(h[p].indexLabel||d.indexLabel||h[p].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:h[p],dataSeries:d,point:{x:s,y:b},direction:0>h[p].y===t.axisY.reversed?1:-1,color:C}),b=!1}n(),Ie.drawMarkers(l)}}return R&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderStepArea=function(t){var n,i;function e(){D&&(0<s.lineThickness&&r.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?E=C:0>t.axisY.viewportMaximum?E=x.y1:0<t.axisY.viewportMinimum&&(E=C),r.lineTo(w,E),r.lineTo(D.x,E),r.closePath(),r.globalAlpha=s.fillOpacity,r.fill(),r.globalAlpha=1,R&&(l.lineTo(w,E),l.lineTo(D.x,E),l.closePath(),l.fill()),r.beginPath(),r.moveTo(w,f),l.beginPath(),l.moveTo(w,f),D={x:w,y:f})}var a=t.targetCanvasCtx||this.plotArea.ctx,r=R?this._preRenderCtx:a;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,x=t.axisY.lineCoordinates,m=[],u=this.plotArea,d;r.save(),R&&l.save(),r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip(),R&&(l.beginPath(),l.rect(u.x1,u.y1,u.width,u.height),l.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],s=this.data[p],b=s.dataPoints,m=s.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:p},m=bt(m),l.fillStyle=m,m=[],n=!0;var k=0,w,f,_,C=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),E,D=null;if(i=!1,0<b.length){var V=s._colorSet[k%s._colorSet.length],et=s.lineColor=s.options.lineColor||V,xt=et;r.fillStyle=V,r.strokeStyle=et,r.lineWidth=s.lineThickness;var U="solid";if(r.setLineDash){var K=Pt(s.nullDataLineDashType,s.lineThickness),U=s.lineDashType,j=Pt(U,s.lineThickness);r.setLineDash(j)}for(;k<b.length;k++)if(_=b[k].x.getTime?b[k].x.getTime():b[k].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!i))){var N=f;typeof b[k].y!="number"?(s.connectNullData||i||n||e(),i=!0):(w=t.axisX.convertValueToPixel(_),f=t.axisY.convertValueToPixel(b[k].y),n||i?(!n&&s.connectNullData?(r.setLineDash&&(s.options.nullDataLineDashType||U===s.lineDashType&&s.lineDashType!==s.nullDataLineDashType)&&(n=w,i=f,w=d.x,f=d.y,e(),r.moveTo(d.x,d.y),w=n,f=i,D=d,U=s.nullDataLineDashType,r.setLineDash(K)),r.lineTo(w,N),r.lineTo(w,f),R&&(l.lineTo(w,N),l.lineTo(w,f))):(r.beginPath(),r.moveTo(w,f),R&&(l.beginPath(),l.moveTo(w,f)),D={x:w,y:f}),i=n=!1):(r.lineTo(w,N),R&&l.lineTo(w,N),r.lineTo(w,f),R&&l.lineTo(w,f),k%250==0&&e()),d={x:w,y:f},k<b.length-1&&(xt!==(b[k].lineColor||et)||U!==(b[k].lineDashType||s.lineDashType))&&(e(),xt=b[k].lineColor||et,r.strokeStyle=xt,r.setLineDash&&(b[k].lineDashType?(U=b[k].lineDashType,r.setLineDash(Pt(U,s.lineThickness))):(U=s.lineDashType,r.setLineDash(j)))),_=s.dataPointIds[k],this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:k,x1:w,y1:f},b[k].markerSize!==0&&(0<b[k].markerSize||0<s.markerSize)&&(N=s.getMarkerProperties(k,w,f,r),m.push(N),_=bt(_),R&&m.push({x:w,y:f,ctx:l,type:N.type,size:N.size,color:_,borderColor:_,borderThickness:N.borderThickness})),(b[k].indexLabel||s.indexLabel||b[k].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:b[k],dataSeries:s,point:{x:w,y:f},direction:0>b[k].y===t.axisY.reversed?1:-1,color:V}))}e(),Ie.drawMarkers(m)}}return R&&(a.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:a,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderStackedArea=function(t){function n(){if(!(1>u.length)){for(0<V.lineThickness&&e.stroke();0<u.length;){var Y=u.pop();e.lineTo(Y.x,Y.y),R&&w.lineTo(Y.x,Y.y)}e.closePath(),e.globalAlpha=V.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),R&&(w.closePath(),w.fill(),w.beginPath()),u=[]}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=R?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var a=null,r=null,l=[],x=this.plotArea,m=[],u=[],d=[],h=[],p=0,s,b,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx,f,_,C;R&&w.beginPath(),e.save(),R&&w.save(),e.beginPath(),e.rect(x.x1,x.y1,x.width,x.height),e.clip(),R&&(w.beginPath(),w.rect(x.x1,x.y1,x.width,x.height),w.clip());for(var a=[],E=0;E<t.dataSeriesIndexes.length;E++){var D=t.dataSeriesIndexes[E],V=this.data[D],et=V.dataPoints;for(V.dataPointIndexes=[],p=0;p<et.length;p++)D=et[p].x.getTime?et[p].x.getTime():et[p].x,V.dataPointIndexes[D]=p,a[D]||(d.push(D),a[D]=!0);d.sort(It)}for(E=0;E<t.dataSeriesIndexes.length;E++){if(D=t.dataSeriesIndexes[E],V=this.data[D],et=V.dataPoints,_=!0,u=[],p=V.id,this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:D},p=bt(p),w.fillStyle=p,0<d.length){var a=V._colorSet[0],xt=V.lineColor=V.options.lineColor||a,U=xt;if(e.fillStyle=a,e.strokeStyle=xt,e.lineWidth=V.lineThickness,C="solid",e.setLineDash){var K=Pt(V.nullDataLineDashType,V.lineThickness);C=V.lineDashType;var j=Pt(C,V.lineThickness);e.setLineDash(j)}for(var N=!0,p=0;p<d.length;p++){var r=d[p],F=null,F=0<=V.dataPointIndexes[r]?et[V.dataPointIndexes[r]]:{x:r,y:null};if(!(r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax&&(!V.connectNullData||!N)))if(typeof F.y!="number")V.connectNullData||N||_||n(),N=!0;else{s=t.axisX.convertValueToPixel(r);var G=m[r]?m[r]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(h[r]=F.y+(h[r]?h[r]:0),0>=h[r]&&t.axisY.logarithmic)continue;b=t.axisY.convertValueToPixel(h[r])}else b=t.axisY.convertValueToPixel(F.y),b-=G;if(u.push({x:s,y:k-G}),m[r]=k-b,_||N?(!_&&V.connectNullData?(e.setLineDash&&(V.options.nullDataLineDashType||C===V.lineDashType&&V.lineDashType!==V.nullDataLineDashType)&&(_=u.pop(),C=u[u.length-1],n(),e.moveTo(f.x,f.y),u.push(C),u.push(_),C=V.nullDataLineDashType,e.setLineDash(K)),e.lineTo(s,b),R&&w.lineTo(s,b)):(e.beginPath(),e.moveTo(s,b),R&&(w.beginPath(),w.moveTo(s,b))),N=_=!1):(e.lineTo(s,b),R&&w.lineTo(s,b),p%250==0&&(n(),e.moveTo(s,b),R&&w.moveTo(s,b),u.push({x:s,y:k-G}))),f={x:s,y:b},p<et.length-1&&(U!==(et[p].lineColor||xt)||C!==(et[p].lineDashType||V.lineDashType))&&(n(),e.beginPath(),e.moveTo(s,b),u.push({x:s,y:k-G}),U=et[p].lineColor||xt,e.strokeStyle=U,e.setLineDash&&(et[p].lineDashType?(C=et[p].lineDashType,e.setLineDash(Pt(C,V.lineThickness))):(C=V.lineDashType,e.setLineDash(j)))),0<=V.dataPointIndexes[r]){var ct=V.dataPointIds[V.dataPointIndexes[r]];this._eventManager.objectMap[ct]={id:ct,objectType:"dataPoint",dataSeriesIndex:D,dataPointIndex:V.dataPointIndexes[r],x1:s,y1:b}}0<=V.dataPointIndexes[r]&&F.markerSize!==0&&(0<F.markerSize||0<V.markerSize)&&(G=V.getMarkerProperties(V.dataPointIndexes[r],s,b,e),l.push(G),r=bt(ct),R&&l.push({x:s,y:b,ctx:w,type:G.type,size:G.size,color:r,borderColor:r,borderThickness:G.borderThickness})),(F.indexLabel||V.indexLabel||F.indexLabelFormatter||V.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:F,dataSeries:V,point:{x:s,y:b},direction:0>F.y===t.axisY.reversed?1:-1,color:a})}}n(),e.moveTo(s,b),R&&w.moveTo(s,b)}delete V.dataPointIndexes}return Ie.drawMarkers(l),R&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(x.x1,x.y1,x.width,x.height),w.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderStackedArea100=function(t){function n(){for(0<V.lineThickness&&e.stroke();0<u.length;){var $t=u.pop();e.lineTo($t.x,$t.y),R&&C.lineTo($t.x,$t.y)}e.closePath(),e.globalAlpha=V.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),R&&(C.closePath(),C.fill(),C.beginPath()),u=[]}var i=t.targetCanvasCtx||this.plotArea.ctx,e=R?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var a=null,r=null,l=this.plotArea,x=[],m=[],u=[],d=[],h=[],p=0,s,b,k,w,f,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),C=this._eventManager.ghostCtx;e.save(),R&&C.save(),e.beginPath(),e.rect(l.x1,l.y1,l.width,l.height),e.clip(),R&&(C.beginPath(),C.rect(l.x1,l.y1,l.width,l.height),C.clip());for(var a=[],E=0;E<t.dataSeriesIndexes.length;E++){var D=t.dataSeriesIndexes[E],V=this.data[D],et=V.dataPoints;for(V.dataPointIndexes=[],p=0;p<et.length;p++)D=et[p].x.getTime?et[p].x.getTime():et[p].x,V.dataPointIndexes[D]=p,a[D]||(d.push(D),a[D]=!0);d.sort(It)}for(E=0;E<t.dataSeriesIndexes.length;E++){if(D=t.dataSeriesIndexes[E],V=this.data[D],et=V.dataPoints,w=!0,a=V.id,this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:D},a=bt(a),C.fillStyle=a,u=[],0<d.length){var a=V._colorSet[p%V._colorSet.length],xt=V.lineColor=V.options.lineColor||a,U=xt;if(e.fillStyle=a,e.strokeStyle=xt,e.lineWidth=V.lineThickness,f="solid",e.setLineDash){var K=Pt(V.nullDataLineDashType,V.lineThickness);f=V.lineDashType;var j=Pt(f,V.lineThickness);e.setLineDash(j)}for(var N=!0,p=0;p<d.length;p++){var r=d[p],F=null,F=0<=V.dataPointIndexes[r]?et[V.dataPointIndexes[r]]:{x:r,y:null};if(!(r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax&&(!V.connectNullData||!N)))if(typeof F.y!="number")V.connectNullData||N||w||n(),N=!0;else{var G;G=t.dataPointYSums[r]!==0?100*(F.y/t.dataPointYSums[r]):0,s=t.axisX.convertValueToPixel(r);var ct=m[r]?m[r]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(h[r]=G+(h[r]?h[r]:0),0>=h[r]&&t.axisY.logarithmic)continue;b=t.axisY.convertValueToPixel(h[r])}else b=t.axisY.convertValueToPixel(G),b-=ct;if(u.push({x:s,y:_-ct}),m[r]=_-b,w||N?(!w&&V.connectNullData?(e.setLineDash&&(V.options.nullDataLineDashType||f===V.lineDashType&&V.lineDashType!==V.nullDataLineDashType)&&(w=u.pop(),f=u[u.length-1],n(),e.moveTo(k.x,k.y),u.push(f),u.push(w),f=V.nullDataLineDashType,e.setLineDash(K)),e.lineTo(s,b),R&&C.lineTo(s,b)):(e.beginPath(),e.moveTo(s,b),R&&(C.beginPath(),C.moveTo(s,b))),N=w=!1):(e.lineTo(s,b),R&&C.lineTo(s,b),p%250==0&&(n(),e.moveTo(s,b),R&&C.moveTo(s,b),u.push({x:s,y:_-ct}))),k={x:s,y:b},p<et.length-1&&(U!==(et[p].lineColor||xt)||f!==(et[p].lineDashType||V.lineDashType))&&(n(),e.beginPath(),e.moveTo(s,b),u.push({x:s,y:_-ct}),U=et[p].lineColor||xt,e.strokeStyle=U,e.setLineDash&&(et[p].lineDashType?(f=et[p].lineDashType,e.setLineDash(Pt(f,V.lineThickness))):(f=V.lineDashType,e.setLineDash(j)))),0<=V.dataPointIndexes[r]){var Y=V.dataPointIds[V.dataPointIndexes[r]];this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:D,dataPointIndex:V.dataPointIndexes[r],x1:s,y1:b}}0<=V.dataPointIndexes[r]&&F.markerSize!==0&&(0<F.markerSize||0<V.markerSize)&&(ct=V.getMarkerProperties(V.dataPointIndexes[r],s,b,e),x.push(ct),r=bt(Y),R&&x.push({x:s,y:b,ctx:C,type:ct.type,size:ct.size,color:r,borderColor:r,borderThickness:ct.borderThickness})),(F.indexLabel||V.indexLabel||F.indexLabelFormatter||V.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:F,dataSeries:V,point:{x:s,y:b},direction:0>F.y===t.axisY.reversed?1:-1,color:a})}}n(),e.moveTo(s,b),R&&C.moveTo(s,b)}delete V.dataPointIndexes}return Ie.drawMarkers(x),R&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(l.x1,l.y1,l.width,l.height),C.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderBubble=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=this.plotArea,a=0,r,l;i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(e.x1,e.y1,e.width,e.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var x=-1/0,m=1/0,u=0;u<t.dataSeriesIndexes.length;u++)for(var d=t.dataSeriesIndexes[u],h=this.data[d],p=h.dataPoints,s=0,a=0;a<p.length;a++)r=p[a].getTime?r=p[a].x.getTime():r=p[a].x,r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax||typeof p[a].z>"u"||(s=p[a].z,s>x&&(x=s),s<m&&(m=s));for(var b=25*Math.PI,k=Math.max(Math.pow(.25*Math.min(e.height,e.width)/2,2)*Math.PI,b),u=0;u<t.dataSeriesIndexes.length;u++)if(d=t.dataSeriesIndexes[u],h=this.data[d],p=h.dataPoints,0<p.length){for(i.strokeStyle="#4572A7 ",a=0;a<p.length;a++)if(r=p[a].getTime?r=p[a].x.getTime():r=p[a].x,!(r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&typeof p[a].y=="number"){r=t.axisX.convertValueToPixel(r),l=t.axisY.convertValueToPixel(p[a].y);var s=p[a].z,w=2*Math.max(Math.sqrt((x===m?k/2:b+(k-b)/(x-m)*(s-m))/Math.PI)<<0,1),s=h.getMarkerProperties(a,i);s.size=w,i.globalAlpha=h.fillOpacity,Ie.drawMarker(r,l,i,s.type,s.size,s.color,s.borderColor,s.borderThickness),i.globalAlpha=1;var f=h.dataPointIds[a];this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:a,x1:r,y1:l,size:w},w=bt(f),R&&Ie.drawMarker(r,l,this._eventManager.ghostCtx,s.type,s.size,w,w,s.borderThickness),(p[a].indexLabel||h.indexLabel||p[a].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[a],dataSeries:h,point:{x:r,y:l},direction:1,bounds:{x1:r-s.size/2,y1:l-s.size/2,x2:r+s.size/2,y2:l+s.size/2},color:null})}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderScatter=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=this.plotArea,a=0,r,l;i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(e.x1,e.y1,e.width,e.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var x=0;x<t.dataSeriesIndexes.length;x++){var m=t.dataSeriesIndexes[x],u=this.data[m],d=u.dataPoints;if(0<d.length){i.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(e.height,e.width)/2,2);for(var h=0,p=0,a=0;a<d.length;a++)if(r=d[a].getTime?r=d[a].x.getTime():r=d[a].x,!(r<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&typeof d[a].y=="number"){r=t.axisX.convertValueToPixel(r),l=t.axisY.convertValueToPixel(d[a].y);var s=u.getMarkerProperties(a,r,l,i);i.globalAlpha=u.fillOpacity,Ie.drawMarker(s.x,s.y,s.ctx,s.type,s.size,s.color,s.borderColor,s.borderThickness),i.globalAlpha=1,Math.sqrt((h-r)*(h-r)+(p-l)*(p-l))<Math.min(s.size,5)&&d.length>Math.min(this.plotArea.width,this.plotArea.height)||(h=u.dataPointIds[a],this._eventManager.objectMap[h]={id:h,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:a,x1:r,y1:l},h=bt(h),R&&Ie.drawMarker(s.x,s.y,this._eventManager.ghostCtx,s.type,s.size,h,h,s.borderThickness),(d[a].indexLabel||u.indexLabel||d[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:d[a],dataSeries:u,point:{x:r,y:l},direction:1,bounds:{x1:r-s.size/2,y1:l-s.size/2,x2:r+s.size/2,y2:l+s.size/2},color:null}),h=r,p=l)}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderCandlestick=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n,e=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var p=null,s=null,a=this.plotArea,r=0,l,x,m,u,d,h,p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,b=t.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.7*a.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&p>s&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<p&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>s&&(b=s),i.save(),R&&e.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip());for(var k=0;k<t.dataSeriesIndexes.length;k++){var w=t.dataSeriesIndexes[k],f=this.data[w],_=f.dataPoints;if(0<_.length){for(var C=!!(5<b&&f.bevelEnabled),r=0;r<_.length;r++)if(_[r].getTime?h=_[r].x.getTime():h=_[r].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!B(_[r].y)&&_[r].y.length&&typeof _[r].y[0]=="number"&&typeof _[r].y[1]=="number"&&typeof _[r].y[2]=="number"&&typeof _[r].y[3]=="number"){l=t.axisX.convertValueToPixel(h),x=t.axisY.convertValueToPixel(_[r].y[0]),m=t.axisY.convertValueToPixel(_[r].y[1]),u=t.axisY.convertValueToPixel(_[r].y[2]),d=t.axisY.convertValueToPixel(_[r].y[3]);var E=l-b/2<<0,D=E+b<<0,s=f.options.fallingColor?f.fallingColor:f._colorSet[0],p=_[r].color?_[r].color:f._colorSet[0],V=Math.round(Math.max(1,.15*b)),et=V%2===0?0:.5,xt=f.dataPointIds[r];this._eventManager.objectMap[xt]={id:xt,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:r,x1:E,y1:x,x2:D,y2:m,x3:l,y3:u,x4:l,y4:d,borderThickness:V,color:p},i.strokeStyle=p,i.beginPath(),i.lineWidth=V,e.lineWidth=Math.max(V,4),f.type==="candlestick"?(i.moveTo(l-et,m),i.lineTo(l-et,Math.min(x,d)),i.stroke(),i.moveTo(l-et,Math.max(x,d)),i.lineTo(l-et,u),i.stroke(),Pe(i,E,Math.min(x,d),D,Math.max(x,d),_[r].y[0]<=_[r].y[3]?f.risingColor:s,V,p,C,C,!1,!1,f.fillOpacity),R&&(p=bt(xt),e.strokeStyle=p,e.moveTo(l-et,m),e.lineTo(l-et,Math.min(x,d)),e.stroke(),e.moveTo(l-et,Math.max(x,d)),e.lineTo(l-et,u),e.stroke(),Pe(e,E,Math.min(x,d),D,Math.max(x,d),p,0,null,!1,!1))):f.type==="ohlc"&&(i.moveTo(l-et,m),i.lineTo(l-et,u),i.stroke(),i.beginPath(),i.moveTo(l,x),i.lineTo(E,x),i.stroke(),i.beginPath(),i.moveTo(l,d),i.lineTo(D,d),i.stroke(),R&&(p=bt(xt),e.strokeStyle=p,e.moveTo(l-et,m),e.lineTo(l-et,u),e.stroke(),e.beginPath(),e.moveTo(l,x),e.lineTo(E,x),e.stroke(),e.beginPath(),e.moveTo(l,d),e.lineTo(D,d),e.stroke())),(_[r].indexLabel||f.indexLabel||_[r].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:f.type,dataPoint:_[r],dataSeries:f,point:{x:E+(D-E)/2,y:t.axisY.reversed?u:m},direction:1,bounds:{x1:E,y1:Math.min(m,u),x2:D,y2:Math.max(m,u)},color:p})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),e.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderBoxAndWhisker=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n,e=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var p=null,a=this.plotArea,s=0,r,l,x,m,u,d,h,p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,b=t.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.7*a.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&p>s&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<p&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>s&&(b=s),i.save(),R&&e.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip());for(var k=!1,k=!!t.axisY.reversed,w=0;w<t.dataSeriesIndexes.length;w++){var f=t.dataSeriesIndexes[w],_=this.data[f],C=_.dataPoints;if(0<C.length){for(var E=!!(5<b&&_.bevelEnabled),s=0;s<C.length;s++)if(C[s].getTime?h=C[s].x.getTime():h=C[s].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!B(C[s].y)&&C[s].y.length&&typeof C[s].y[0]=="number"&&typeof C[s].y[1]=="number"&&typeof C[s].y[2]=="number"&&typeof C[s].y[3]=="number"&&typeof C[s].y[4]=="number"&&C[s].y.length===5){r=t.axisX.convertValueToPixel(h),l=t.axisY.convertValueToPixel(C[s].y[0]),x=t.axisY.convertValueToPixel(C[s].y[1]),m=t.axisY.convertValueToPixel(C[s].y[2]),u=t.axisY.convertValueToPixel(C[s].y[3]),d=t.axisY.convertValueToPixel(C[s].y[4]);var D=r-b/2<<0,V=r+b/2<<0,p=C[s].color?C[s].color:_._colorSet[0],et=Math.round(Math.max(1,.15*b)),xt=et%2===0?0:.5,U=C[s].whiskerColor?C[s].whiskerColor:C[s].color?_.whiskerColor?_.whiskerColor:C[s].color:_.whiskerColor?_.whiskerColor:p,K=typeof C[s].whiskerThickness=="number"?C[s].whiskerThickness:typeof _.options.whiskerThickness=="number"?_.whiskerThickness:et,j=C[s].whiskerDashType?C[s].whiskerDashType:_.whiskerDashType,N=B(C[s].whiskerLength)?B(_.options.whiskerLength)?b:_.whiskerLength:C[s].whiskerLength,N=typeof N=="number"?0>=N?0:N>=b?b:N:typeof N=="string"?parseInt(N)*b/100>b?b:parseInt(N)*b/100:b,F=Math.round(K)%2===1?.5:0,G=C[s].stemColor?C[s].stemColor:C[s].color?_.stemColor?_.stemColor:C[s].color:_.stemColor?_.stemColor:p,ct=typeof C[s].stemThickness=="number"?C[s].stemThickness:typeof _.options.stemThickness=="number"?_.stemThickness:et,Y=Math.round(ct)%2===1?.5:0,$t=C[s].stemDashType?C[s].stemDashType:_.stemDashType,pe=C[s].lineColor?C[s].lineColor:C[s].color?_.lineColor?_.lineColor:C[s].color:_.lineColor?_.lineColor:p,be=typeof C[s].lineThickness=="number"?C[s].lineThickness:typeof _.options.lineThickness=="number"?_.lineThickness:et,me=C[s].lineDashType?C[s].lineDashType:_.lineDashType,ie=Math.round(be)%2===1?.5:0,we=_.upperBoxColor,le=_.lowerBoxColor,te=B(_.options.fillOpacity)?1:_.fillOpacity,_t=_.dataPointIds[s];this._eventManager.objectMap[_t]={id:_t,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:s,x1:D,y1:l,x2:V,y2:x,x3:r,y3:m,x4:r,y4:u,y5:d,borderThickness:et,color:p,stemThickness:ct,stemColor:G,whiskerThickness:K,whiskerLength:N,whiskerColor:U,lineThickness:be,lineColor:pe},i.save(),0<ct&&(i.beginPath(),i.strokeStyle=G,i.lineWidth=ct,i.setLineDash&&i.setLineDash(Pt($t,ct)),i.moveTo(r-Y,x),i.lineTo(r-Y,l),i.stroke(),i.moveTo(r-Y,u),i.lineTo(r-Y,m),i.stroke()),i.restore(),e.lineWidth=Math.max(et,4),i.beginPath(),Pe(i,D,Math.min(d,x),V,Math.max(x,d),le,0,p,k?E:!1,k?!1:E,!1,!1,te),i.beginPath(),Pe(i,D,Math.min(m,d),V,Math.max(d,m),we,0,p,k?!1:E,k?E:!1,!1,!1,te),i.beginPath(),i.lineWidth=et,i.strokeStyle=p,i.rect(D-xt,Math.min(x,m)-xt,V-D+2*xt,Math.max(x,m)-Math.min(x,m)+2*xt),i.stroke(),i.save(),0<be&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(Pt(me,be)),i.strokeStyle=pe,i.lineWidth=be,i.moveTo(D,d-ie),i.lineTo(V,d-ie),i.stroke()),i.restore(),i.save(),0<K&&(i.beginPath(),i.setLineDash&&i.setLineDash(Pt(j,K)),i.strokeStyle=U,i.lineWidth=K,i.moveTo(r-N/2<<0,u-F),i.lineTo(r+N/2<<0,u-F),i.stroke(),i.moveTo(r-N/2<<0,l+F),i.lineTo(r+N/2<<0,l+F),i.stroke()),i.restore(),R&&(p=bt(_t),e.strokeStyle=p,e.lineWidth=ct,0<ct&&(e.moveTo(r-xt-Y,x),e.lineTo(r-xt-Y,Math.max(l,u)),e.stroke(),e.moveTo(r-xt-Y,Math.min(l,u)),e.lineTo(r-xt-Y,m),e.stroke()),Pe(e,D,Math.max(x,m),V,Math.min(x,m),p,0,null,!1,!1),0<K&&(e.beginPath(),e.lineWidth=K,e.moveTo(r+N/2,u-F),e.lineTo(r-N/2,u-F),e.stroke(),e.moveTo(r+N/2,l+F),e.lineTo(r-N/2,l+F),e.stroke())),(C[s].indexLabel||_.indexLabel||C[s].indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:_.type,dataPoint:C[s],dataSeries:_,point:{x:D+(V-D)/2,y:t.axisY.reversed?l:u},direction:1,bounds:{x1:D,y1:Math.min(l,u),x2:V,y2:Math.max(l,u)},color:p})}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),e.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderRangeColumn=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,m=0,r,l,x,m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=t.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>r&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<m&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),u<m&&(u=m),u>r&&(u=r),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var h=t.dataSeriesIndexes[d],p=this.data[h],s=p.dataPoints;if(0<s.length){for(var b=!!(5<u&&p.bevelEnabled),m=0;m<s.length;m++)if(s[m].getTime?x=s[m].x.getTime():x=s[m].x,!(x<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax)&&!B(s[m].y)&&s[m].y.length&&typeof s[m].y[0]=="number"&&typeof s[m].y[1]=="number"){e=t.axisX.convertValueToPixel(x),r=t.axisY.convertValueToPixel(s[m].y[0]),l=t.axisY.convertValueToPixel(s[m].y[1]);var k=t.axisX.reversed?e+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+d)*u<<0:e-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+d)*u<<0,w=t.axisX.reversed?k-u<<0:k+u<<0,e=s[m].color?s[m].color:p._colorSet[m%p._colorSet.length];if(r>l){var f=r;r=l,l=f}f=p.dataPointIds[m],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:m,x1:k,y1:r,x2:w,y2:l},Pe(i,t.axisX.reversed?w:k,r,t.axisX.reversed?k:w,l,e,0,e,b,b,!1,!1,p.fillOpacity),e=bt(f),R&&Pe(this._eventManager.ghostCtx,t.axisX.reversed?w:k,r,t.axisX.reversed?k:w,l,e,0,null,!1,!1),(s[m].indexLabel||p.indexLabel||s[m].indexLabelFormatter||p.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:s[m],dataSeries:p,indexKeyword:0,point:{x:k+(w-k)/2,y:s[m].y[1]>=s[m].y[0]?l:r},direction:s[m].y[1]>=s[m].y[0]?-1:1,bounds:{x1:k,y1:Math.min(r,l),x2:w,y2:Math.max(r,l)},color:e}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:s[m],dataSeries:p,indexKeyword:1,point:{x:k+(w-k)/2,y:s[m].y[1]>=s[m].y[0]?r:l},direction:s[m].y[1]>=s[m].y[0]?1:-1,bounds:{x1:k,y1:Math.min(r,l),x2:w,y2:Math.max(r,l)},color:e}))}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderError=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n,e=t.axisY._position?!(t.axisY._position==="left"||t.axisY._position==="right"):!1;if(!(0>=t.dataSeriesIndexes.length)){var a=null,r=!1,l=this.plotArea,x=0,m,u,d,h,p,s,b,k=t.axisX.dataInfo.minDiff;isFinite(k)||(k=.3*Math.abs(t.axisX.range)),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var w=0,f=0;f<this.data.length;f++)!this.data[f].type.match(/(bar|column)/ig)||!this.data[f].visible||this.data[f].type.match(/(stacked)/ig)&&w||w++;for(var _=0;_<t.dataSeriesIndexes.length;_++){var C=t.dataSeriesIndexes[_],E=this.data[C],D=E.dataPoints,V=B(E._linkedSeries)?!1:!!(E._linkedSeries.type.match(/(bar|column)/ig)&&E._linkedSeries.visible),et=0;if(V)for(a=E._linkedSeries.id,f=0;f<a;f++)!this.data[f].type.match(/(bar|column)/ig)||!this.data[f].visible||this.data[f].type.match(/(stacked)/ig)&&et||(this.data[f].type.match(/(range)/ig)&&(r=!0),et++);if(a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,.9*(this.plotArea.height/(V?w:1)))<<0:.3*this.width,r&&(x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,.9*(this.plotArea.height/(V?w:1)))<<0:.03*this.width),f=this.options.dataPointWidth?this.dataPointWidth:.9*((e?l.height:l.width)*(t.axisX.logarithmic?Math.log(k)/Math.log(t.axisX.range):Math.abs(k)/Math.abs(t.axisX.range))/(V?w:1))<<0,this.dataPointMaxWidth&&a>x&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<a&&(x=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),f<a&&(f=a),f>x&&(f=x),0<D.length)for(var xt=E._colorSet,x=0;x<D.length;x++){var a=E.lineColor=E.options.color?E.options.color:xt[0],U={color:D[x].whiskerColor?D[x].whiskerColor:D[x].color?E.whiskerColor?E.whiskerColor:D[x].color:E.whiskerColor?E.whiskerColor:a,thickness:B(D[x].whiskerThickness)?E.whiskerThickness:D[x].whiskerThickness,dashType:D[x].whiskerDashType?D[x].whiskerDashType:E.whiskerDashType,length:B(D[x].whiskerLength)?B(E.options.whiskerLength)?f:E.options.whiskerLength:D[x].whiskerLength,trimLength:B(D[x].whiskerLength)&&B(E.options.whiskerLength)?50:0};U.length=typeof U.length=="number"?0>=U.length?0:U.length>=f?f:U.length:typeof U.length=="string"?parseInt(U.length)*f/100>f?f:parseInt(U.length)*f/100>f:f,U.thickness=typeof U.thickness=="number"?0>U.thickness?0:Math.round(U.thickness):2;var K={color:D[x].stemColor?D[x].stemColor:D[x].color?E.stemColor?E.stemColor:D[x].color:E.stemColor?E.stemColor:a,thickness:D[x].stemThickness?D[x].stemThickness:E.stemThickness,dashType:D[x].stemDashType?D[x].stemDashType:E.stemDashType};if(K.thickness=typeof K.thickness=="number"?0>K.thickness?0:Math.round(K.thickness):2,D[x].getTime?b=D[x].x.getTime():b=D[x].x,!(b<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax)&&!B(D[x].y)&&D[x].y.length&&typeof D[x].y[0]=="number"&&typeof D[x].y[1]=="number"){var j=t.axisX.convertValueToPixel(b);e?u=j:m=j,j=t.axisY.convertValueToPixel(D[x].y[0]),e?d=j:p=j,j=t.axisY.convertValueToPixel(D[x].y[1]),e?h=j:s=j,e?(p=t.axisX.reversed?u+(V?w:1)*f/2-(V?et-1:0)*f<<0:u-(V?w:1)*f/2+(V?et-1:0)*f<<0,s=t.axisX.reversed?p-f<<0:p+f<<0):(d=t.axisX.reversed?m+(V?w:1)*f/2-(V?et-1:0)*f<<0:m-(V?w:1)*f/2+(V?et-1:0)*f<<0,h=t.axisX.reversed?d-f<<0:d+f<<0),!e&&p>s&&(j=p,p=s,s=j),e&&d>h&&(j=d,d=h,h=j),j=E.dataPointIds[x],this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:x,x1:Math.min(d,h),y1:Math.min(p,s),x2:Math.max(h,d),y2:Math.max(s,p),isXYSwapped:e,stemProperties:K,whiskerProperties:U},Z(i,Math.min(d,h),Math.min(p,s),Math.max(h,d),Math.max(s,p),a,U,K,e),R&&Z(this._eventManager.ghostCtx,d,p,h,s,a,U,K,e),(D[x].indexLabel||E.indexLabel||D[x].indexLabelFormatter||E.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:D[x],dataSeries:E,indexKeyword:0,point:{x:e?D[x].y[1]>=D[x].y[0]?d:h:d+(h-d)/2,y:e?p+(s-p)/2:D[x].y[1]>=D[x].y[0]?s:p},direction:D[x].y[1]>=D[x].y[0]?-1:1,bounds:{x1:e?Math.min(d,h):d,y1:e?p:Math.min(p,s),x2:e?Math.max(d,h):h,y2:e?s:Math.max(p,s)},color:a,axisSwapped:e}),this._indexLabels.push({chartType:"error",dataPoint:D[x],dataSeries:E,indexKeyword:1,point:{x:e?D[x].y[1]>=D[x].y[0]?h:d:d+(h-d)/2,y:e?p+(s-p)/2:D[x].y[1]>=D[x].y[0]?p:s},direction:D[x].y[1]>=D[x].y[0]?1:-1,bounds:{x1:e?Math.min(d,h):d,y1:e?p:Math.min(p,s),x2:e?Math.max(d,h):h,y2:e?s:Math.max(p,s)},color:a,axisSwapped:e}))}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderRangeBar=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,u=0,r,l,x,m,u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0;var d=t.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&u>r&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<u&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),d<u&&(d=u),d>r&&(d=r),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],s=this.data[p],b=s.dataPoints;if(0<b.length){var k=!!(5<d&&s.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<b.length;u++)if(b[u].getTime?m=b[u].x.getTime():m=b[u].x,!(m<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax)&&!B(b[u].y)&&b[u].y.length&&typeof b[u].y[0]=="number"&&typeof b[u].y[1]=="number"){r=t.axisY.convertValueToPixel(b[u].y[0]),l=t.axisY.convertValueToPixel(b[u].y[1]),x=t.axisX.convertValueToPixel(m),x=t.axisX.reversed?x+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:x-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var w=t.axisX.reversed?x-d<<0:x+d<<0;r>l&&(e=r,r=l,l=e),e=b[u].color?b[u].color:s._colorSet[u%s._colorSet.length],Pe(i,r,t.axisX.reversed?w:x,l,t.axisX.reversed?x:w,e,0,null,k,!1,!1,!1,s.fillOpacity),e=s.dataPointIds[u],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:u,x1:r,y1:x,x2:l,y2:w},e=bt(e),R&&Pe(this._eventManager.ghostCtx,r,t.axisX.reversed?w:x,l,t.axisX.reversed?x:w,e,0,null,!1,!1),(b[u].indexLabel||s.indexLabel||b[u].indexLabelFormatter||s.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:b[u],dataSeries:s,indexKeyword:0,point:{x:b[u].y[1]>=b[u].y[0]?r:l,y:x+(w-x)/2},direction:b[u].y[1]>=b[u].y[0]?-1:1,bounds:{x1:Math.min(r,l),y1:x,x2:Math.max(r,l),y2:w},color:e}),this._indexLabels.push({chartType:"rangeBar",dataPoint:b[u],dataSeries:s,indexKeyword:1,point:{x:b[u].y[1]>=b[u].y[0]?l:r,y:x+(w-x)/2},direction:b[u].y[1]>=b[u].y[0]?1:-1,bounds:{x1:Math.min(r,l),y1:x,x2:Math.max(r,l),y2:w},color:e}))}}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}},T.prototype.renderRangeArea=function(t){function n(){if(_){for(var N=null,F=m.length-1;0<=F;F--)N=m[F],e.lineTo(N.x,N.y2),a.lineTo(N.x,N.y2);if(e.closePath(),e.globalAlpha=d.fillOpacity,e.fill(),e.globalAlpha=1,a.fill(),0<d.lineThickness){for(e.beginPath(),e.moveTo(N.x,N.y2),F=0;F<m.length;F++)N=m[F],e.lineTo(N.x,N.y2);for(e.moveTo(m[0].x,m[0].y1),F=0;F<m.length;F++)N=m[F],e.lineTo(N.x,N.y1);e.stroke()}e.beginPath(),e.moveTo(b,k),a.beginPath(),a.moveTo(b,k),_={x:b,y:k},m=[],m.push({x:b,y1:k,y2:w})}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=R?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,r=[],l=this.plotArea;e.save(),R&&a.save(),e.beginPath(),e.rect(l.x1,l.y1,l.width,l.height),e.clip(),R&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var x=0;x<t.dataSeriesIndexes.length;x++){var m=[],u=t.dataSeriesIndexes[x],d=this.data[u],h=d.dataPoints,r=d.id;this._eventManager.objectMap[r]={objectType:"dataSeries",dataSeriesIndex:u},r=bt(r),a.fillStyle=r;var r=[],p=!0,s=0,b,k,w,f,_=null;if(0<h.length){var C=d._colorSet[s%d._colorSet.length],E=d.lineColor=d.options.lineColor||C,D=E;e.fillStyle=C,e.strokeStyle=E,e.lineWidth=d.lineThickness;var V="solid";if(e.setLineDash){var et=Pt(d.nullDataLineDashType,d.lineThickness),V=d.lineDashType,xt=Pt(V,d.lineThickness);e.setLineDash(xt)}for(var U=!0;s<h.length;s++)if(f=h[s].x.getTime?h[s].x.getTime():h[s].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!U)))if(h[s].y!==null&&h[s].y.length&&typeof h[s].y[0]=="number"&&typeof h[s].y[1]=="number"){if(b=t.axisX.convertValueToPixel(f),k=t.axisY.convertValueToPixel(h[s].y[0]),w=t.axisY.convertValueToPixel(h[s].y[1]),p||U?(d.connectNullData&&!p?(e.setLineDash&&(d.options.nullDataLineDashType||V===d.lineDashType&&d.lineDashType!==d.nullDataLineDashType)&&(m[m.length-1].newLineDashArray=xt,V=d.nullDataLineDashType,e.setLineDash(et)),e.lineTo(b,k),R&&a.lineTo(b,k),m.push({x:b,y1:k,y2:w})):(e.beginPath(),e.moveTo(b,k),_={x:b,y:k},m=[],m.push({x:b,y1:k,y2:w}),R&&(a.beginPath(),a.moveTo(b,k))),U=p=!1):(e.lineTo(b,k),m.push({x:b,y1:k,y2:w}),R&&a.lineTo(b,k),s%250==0&&n()),f=d.dataPointIds[s],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:s,x1:b,y1:k,y2:w},s<h.length-1&&(D!==(h[s].lineColor||E)||V!==(h[s].lineDashType||d.lineDashType))&&(n(),D=h[s].lineColor||E,m[m.length-1].newStrokeStyle=D,e.strokeStyle=D,e.setLineDash&&(h[s].lineDashType?(V=h[s].lineDashType,m[m.length-1].newLineDashArray=Pt(V,d.lineThickness),e.setLineDash(m[m.length-1].newLineDashArray)):(V=d.lineDashType,m[m.length-1].newLineDashArray=xt,e.setLineDash(xt)))),h[s].markerSize!==0&&(0<h[s].markerSize||0<d.markerSize)){var K=d.getMarkerProperties(s,b,w,e);r.push(K);var j=bt(f);R&&r.push({x:b,y:w,ctx:a,type:K.type,size:K.size,color:j,borderColor:j,borderThickness:K.borderThickness}),K=d.getMarkerProperties(s,b,k,e),r.push(K),j=bt(f),R&&r.push({x:b,y:k,ctx:a,type:K.type,size:K.size,color:j,borderColor:j,borderThickness:K.borderThickness})}(h[s].indexLabel||d.indexLabel||h[s].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:h[s],dataSeries:d,indexKeyword:0,point:{x:b,y:k},direction:h[s].y[0]>h[s].y[1]===t.axisY.reversed?-1:1,color:C}),this._indexLabels.push({chartType:"rangeArea",dataPoint:h[s],dataSeries:d,indexKeyword:1,point:{x:b,y:w},direction:h[s].y[0]>h[s].y[1]===t.axisY.reversed?1:-1,color:C}))}else U||p||n(),U=!0;n(),Ie.drawMarkers(r)}}return R&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderRangeSplineArea=function(t){function n(K,j){var N=L(k,2);if(0<N.length){if(0<u.lineThickness){e.strokeStyle=j,e.setLineDash&&e.setLineDash(K),e.beginPath(),e.moveTo(N[0].x,N[0].y);for(var F=0;F<N.length-3;F+=3)(N[F].newStrokeStyle||N[F].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(N[F].x,N[F].y),N[F].newStrokeStyle&&(e.strokeStyle=N[F].newStrokeStyle),N[F].newLineDashArray&&e.setLineDash(N[F].newLineDashArray)),e.bezierCurveTo(N[F+1].x,N[F+1].y,N[F+2].x,N[F+2].y,N[F+3].x,N[F+3].y)}for(e.beginPath(),e.moveTo(N[0].x,N[0].y),R&&(a.beginPath(),a.moveTo(N[0].x,N[0].y)),F=0;F<N.length-3;F+=3)e.bezierCurveTo(N[F+1].x,N[F+1].y,N[F+2].x,N[F+2].y,N[F+3].x,N[F+3].y),R&&a.bezierCurveTo(N[F+1].x,N[F+1].y,N[F+2].x,N[F+2].y,N[F+3].x,N[F+3].y);for(N=L(w,2),e.lineTo(w[w.length-1].x,w[w.length-1].y),F=N.length-1;2<F;F-=3)e.bezierCurveTo(N[F-1].x,N[F-1].y,N[F-2].x,N[F-2].y,N[F-3].x,N[F-3].y),R&&a.bezierCurveTo(N[F-1].x,N[F-1].y,N[F-2].x,N[F-2].y,N[F-3].x,N[F-3].y);if(e.closePath(),e.globalAlpha=u.fillOpacity,e.fill(),R&&(a.closePath(),a.fill()),e.globalAlpha=1,0<u.lineThickness){e.strokeStyle=j,e.setLineDash&&e.setLineDash(K),e.beginPath(),e.moveTo(N[0].x,N[0].y);for(var G=F=0;F<N.length-3;F+=3,G++)(k[G].newStrokeStyle||k[G].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(N[F].x,N[F].y),k[G].newStrokeStyle&&(e.strokeStyle=k[G].newStrokeStyle),k[G].newLineDashArray&&e.setLineDash(k[G].newLineDashArray)),e.bezierCurveTo(N[F+1].x,N[F+1].y,N[F+2].x,N[F+2].y,N[F+3].x,N[F+3].y);for(N=L(k,2),e.moveTo(N[0].x,N[0].y),G=F=0;F<N.length-3;F+=3,G++)(k[G].newStrokeStyle||k[G].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(N[F].x,N[F].y),k[G].newStrokeStyle&&(e.strokeStyle=k[G].newStrokeStyle),k[G].newLineDashArray&&e.setLineDash(k[G].newLineDashArray)),e.bezierCurveTo(N[F+1].x,N[F+1].y,N[F+2].x,N[F+2].y,N[F+3].x,N[F+3].y);e.stroke()}e.beginPath()}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=R?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,r=[],l=this.plotArea;e.save(),R&&a.save(),e.beginPath(),e.rect(l.x1,l.y1,l.width,l.height),e.clip(),R&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var x=0;x<t.dataSeriesIndexes.length;x++){var m=t.dataSeriesIndexes[x],u=this.data[m],d=u.dataPoints,r=u.id;this._eventManager.objectMap[r]={objectType:"dataSeries",dataSeriesIndex:m},r=bt(r),a.fillStyle=r;var r=[],h=0,p,s,b,k=[],w=[];if(0<d.length){var f=u._colorSet[h%u._colorSet.length],_=u.lineColor=u.options.lineColor||f,C=_;e.fillStyle=f,e.lineWidth=u.lineThickness;var E="solid",D;if(e.setLineDash){var V=Pt(u.nullDataLineDashType,u.lineThickness),E=u.lineDashType;D=Pt(E,u.lineThickness)}for(s=!1;h<d.length;h++)if(p=d[h].x.getTime?d[h].x.getTime():d[h].x,!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!s)))if(d[h].y!==null&&d[h].y.length&&typeof d[h].y[0]=="number"&&typeof d[h].y[1]=="number"){p=t.axisX.convertValueToPixel(p),s=t.axisY.convertValueToPixel(d[h].y[0]),b=t.axisY.convertValueToPixel(d[h].y[1]);var et=u.dataPointIds[h];if(this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:p,y1:s,y2:b},k[k.length]={x:p,y:s},w[w.length]={x:p,y:b},h<d.length-1&&(C!==(d[h].lineColor||_)||E!==(d[h].lineDashType||u.lineDashType))&&(C=d[h].lineColor||_,k[k.length-1].newStrokeStyle=C,e.setLineDash&&(d[h].lineDashType?(E=d[h].lineDashType,k[k.length-1].newLineDashArray=Pt(E,u.lineThickness)):(E=u.lineDashType,k[k.length-1].newLineDashArray=D))),d[h].markerSize!==0&&(0<d[h].markerSize||0<u.markerSize)){var xt=u.getMarkerProperties(h,p,s,e);r.push(xt);var U=bt(et);R&&r.push({x:p,y:s,ctx:a,type:xt.type,size:xt.size,color:U,borderColor:U,borderThickness:xt.borderThickness}),xt=u.getMarkerProperties(h,p,b,e),r.push(xt),U=bt(et),R&&r.push({x:p,y:b,ctx:a,type:xt.type,size:xt.size,color:U,borderColor:U,borderThickness:xt.borderThickness})}(d[h].indexLabel||u.indexLabel||d[h].indexLabelFormatter||u.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[h],dataSeries:u,indexKeyword:0,point:{x:p,y:s},direction:d[h].y[0]<=d[h].y[1]?-1:1,color:f}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[h],dataSeries:u,indexKeyword:1,point:{x:p,y:b},direction:d[h].y[0]<=d[h].y[1]?1:-1,color:f})),s=!1}else 0<h&&!s&&(u.connectNullData?e.setLineDash&&0<k.length&&(u.options.nullDataLineDashType||!d[h-1].lineDashType)&&(k[k.length-1].newLineDashArray=V,E=u.nullDataLineDashType):(n(D,_),k=[],w=[])),s=!0;n(D,_),Ie.drawMarkers(r)}}return R&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:Xt.xClipAnimation,easingFunction:Xt.easing.linear,animationBase:0}}},T.prototype.renderWaterfall=function(t){var n=t.targetCanvasCtx||this.plotArea.ctx,i=R?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx,a=null,r=this.plotArea,h=0,l,x,m,u,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0;var p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:.6*(r.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&h>x&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<h&&(x=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),p<h&&(p=h),p>x&&(p=x),i.save(),R&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),R&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var b=t.dataSeriesIndexes[s],k=this.data[b],w=k.dataPoints,a=k._colorSet[0];k.risingColor=k.options.risingColor?k.options.risingColor:a,k.fallingColor=k.options.fallingColor?k.options.fallingColor:"#e40a0a";var f=typeof k.options.lineThickness=="number"?Math.round(k.lineThickness):1,_=Math.round(f)%2===1?-.5:0;if(0<w.length)for(var C=!!(5<p&&k.bevelEnabled),E=!1,D=null,V=null,h=0;h<w.length;h++)if(w[h].getTime?u=w[h].x.getTime():u=w[h].x,typeof w[h].y!="number"){if(0<h&&!E&&k.connectNullData)var et=k.options.nullDataLineDashType||!w[h-1].lineDashType?k.nullDataLineDashType:w[h-1].lineDashType;E=!0}else{l=t.axisX.convertValueToPixel(u),x=k.dataPointEOs[h].cumulativeSum===0?d:t.axisY.convertValueToPixel(k.dataPointEOs[h].cumulativeSum),m=k.dataPointEOs[h].cumulativeSumYStartValue===0?d:t.axisY.convertValueToPixel(k.dataPointEOs[h].cumulativeSumYStartValue),l=t.axisX.reversed?l+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+s)*p<<0:l-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+s)*p<<0;var xt=t.axisX.reversed?l-p<<0:l+p<<0;x>m&&(a=x,x=m,m=a),t.axisY.reversed&&(a=x,x=m,m=a),a=k.dataPointIds[h],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:h,x1:l,y1:x,x2:xt,y2:m};var K=w[h].color?w[h].color:0<w[h].y?k.risingColor:k.fallingColor;Pe(i,t.axisX.reversed?xt:l,t.axisY.reversed?m:x,t.axisX.reversed?l:xt,t.axisY.reversed?x:m,K,0,K,C,C,!1,!1,k.fillOpacity),a=bt(a),R&&Pe(this._eventManager.ghostCtx,t.axisX.reversed?xt:l,x,t.axisX.reversed?l:xt,m,a,0,null,!1,!1);var U,K=l;U=typeof w[h].isIntermediateSum<"u"&&w[h].isIntermediateSum===!0||typeof w[h].isCumulativeSum<"u"&&w[h].isCumulativeSum===!0?0<w[h].y?x:m:0<w[h].y?m:x,0<h&&D&&(!E||k.connectNullData)&&(E&&i.setLineDash&&i.setLineDash(Pt(et,f)),i.beginPath(),i.moveTo(D,V-_),i.lineTo(K,U-_),0<f&&i.stroke(),R&&(e.beginPath(),e.moveTo(D,V-_),e.lineTo(K,U-_),0<f&&e.stroke())),E=!1,D=xt,V=0<w[h].y?x:m,K=w[h].lineDashType?w[h].lineDashType:k.options.lineDashType?k.options.lineDashType:"shortDash",i.strokeStyle=w[h].lineColor?w[h].lineColor:k.options.lineColor?k.options.lineColor:"#9e9e9e",i.lineWidth=f,i.setLineDash&&(K=Pt(K,f),i.setLineDash(K)),(w[h].indexLabel||k.indexLabel||w[h].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:w[h],dataSeries:k,point:{x:l+(xt-l)/2,y:0<=w[h].y?x:m},direction:0>w[h].y===t.axisY.reversed?1:-1,bounds:{x1:l,y1:Math.min(x,m),x2:xt,y2:Math.max(x,m)},color:a})}}return R&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Xt.fadeInAnimation,easingFunction:Xt.easing.easeInQuad,animationBase:0}}};var Ge=function(t,n,i,e,a,r,l,x,m){if(!(0>i)){if(typeof x>"u"&&(x=1),!R){var u=Number((l%(2*Math.PI)).toFixed(8));Number((r%(2*Math.PI)).toFixed(8))===u&&(l-=1e-4)}t.save(),t.globalAlpha=x,a==="pie"?(t.beginPath(),t.moveTo(n.x,n.y),t.arc(n.x,n.y,i,r,l,!1),t.fillStyle=e,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):a==="doughnut"&&(t.beginPath(),t.arc(n.x,n.y,i,r,l,!1),0<=m&&t.arc(n.x,n.y,m*i,l,r,!0),t.closePath(),t.fillStyle=e,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};T.prototype.renderPie=function(t){function n(){if(u&&d){var U=0,K=0,j=0,N=0;B(u.options.indexLabelMaxWidth)&&(u.indexLabelMaxWidth=.33*p.width);for(var F=0;F<d.length;F++){var G=d[F],ct=u.dataPointIds[F];s[F].id=ct,s[F].objectType="dataPoint",s[F].dataPointIndex=F,s[F].dataSeriesIndex=0;var Y=s[F],pe={percent:null,total:null},$t=null,pe=m.getPercentAndTotal(u,G);(u.indexLabelFormatter||G.indexLabelFormatter)&&($t={chart:m.options,dataSeries:u,dataPoint:G,total:pe.total,percent:pe.percent}),pe=G.indexLabelFormatter?G.indexLabelFormatter($t):G.indexLabel?m.replaceKeywordsWithValue(G.indexLabel,G,u,F):u.indexLabelFormatter?u.indexLabelFormatter($t):u.indexLabel?m.replaceKeywordsWithValue(u.indexLabel,G,u,F):G.label?G.label:"",m._eventManager.objectMap[ct]=Y,Y.center={x:C.x,y:C.y},Y.y=G.y,Y.radius=V,Y.percentInnerRadius=xt,Y.indexLabelText=pe,Y.indexLabelPlacement=u.indexLabelPlacement,Y.indexLabelLineColor=G.indexLabelLineColor?G.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:G.color?G.color:u._colorSet[F%u._colorSet.length],Y.indexLabelLineThickness=B(G.indexLabelLineThickness)?u.indexLabelLineThickness:G.indexLabelLineThickness,Y.indexLabelLineDashType=G.indexLabelLineDashType?G.indexLabelLineDashType:u.indexLabelLineDashType,Y.indexLabelFontColor=G.indexLabelFontColor?G.indexLabelFontColor:u.indexLabelFontColor,Y.indexLabelFontStyle=G.indexLabelFontStyle?G.indexLabelFontStyle:u.indexLabelFontStyle,Y.indexLabelFontWeight=G.indexLabelFontWeight?G.indexLabelFontWeight:u.indexLabelFontWeight,Y.indexLabelFontSize=B(G.indexLabelFontSize)?u.indexLabelFontSize:G.indexLabelFontSize,Y.indexLabelFontFamily=G.indexLabelFontFamily?G.indexLabelFontFamily:u.indexLabelFontFamily,Y.indexLabelBackgroundColor=G.indexLabelBackgroundColor?G.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,Y.indexLabelBorderColor=G.indexLabelBorderColor?G.indexLabelBorderColor:u.options.indexLabelBorderColor?u.options.indexLabelBorderColor:u.indexLabelBorderColor,Y.indexLabelBorderThickness=G.indexLabelBorderThickness?G.indexLabelBorderThickness:u.options.indexLabelBorderThickness?u.options.indexLabelBorderThickness:u.indexLabelBorderThickness,Y.indexLabelPadding=G.indexLabelPadding?G.indexLabelPadding:u.options.indexLabelPadding?u.options.indexLabelPadding:u.indexLabelPadding,Y.indexLabelMaxWidth=G.indexLabelMaxWidth?G.indexLabelMaxWidth:u.indexLabelMaxWidth,Y.indexLabelWrap=typeof G.indexLabelWrap<"u"?G.indexLabelWrap:u.indexLabelWrap,Y.indexLabelTextAlign=G.indexLabelTextAlign?G.indexLabelTextAlign:u.indexLabelTextAlign?u.indexLabelTextAlign:"left",Y.startAngle=F===0?u.startAngle?u.startAngle/180*Math.PI:0:s[F-1].endAngle,Y.startAngle=(Y.startAngle+2*Math.PI)%(2*Math.PI),Y.endAngle=Y.startAngle+2*Math.PI/E*Math.abs(G.y),G=(Y.endAngle+Y.startAngle)/2,G=(G+2*Math.PI)%(2*Math.PI),Y.midAngle=G,Y.midAngle>Math.PI/2-f&&Y.midAngle<Math.PI/2+f?((U===0||s[j].midAngle>Y.midAngle)&&(j=F),U++):Y.midAngle>3*Math.PI/2-f&&Y.midAngle<3*Math.PI/2+f&&((K===0||s[N].midAngle>Y.midAngle)&&(N=F),K++),Y.hemisphere=G>Math.PI/2&&G<=3*Math.PI/2?"left":"right",Y.indexLabelTextBlock=new Be(m.plotArea.ctx,{fontSize:Y.indexLabelFontSize,fontFamily:Y.indexLabelFontFamily,fontColor:Y.indexLabelFontColor,fontStyle:Y.indexLabelFontStyle,fontWeight:Y.indexLabelFontWeight,textAlign:Y.indexLabelTextAlign,backgroundColor:Y.indexLabelBackgroundColor,borderColor:Y.indexLabelBorderColor,borderThickness:Y.indexLabelBorderThickness,maxWidth:Y.indexLabelMaxWidth,maxHeight:Y.indexLabelWrap?5*Y.indexLabelFontSize:1.5*Y.indexLabelFontSize,text:Y.indexLabelText,padding:Y.indexLabelPadding,textBaseline:"middle"}),Y.indexLabelTextBlock.measureText()}for(ct=G=0,pe=!1,F=0;F<d.length;F++)Y=s[(j+F)%d.length],1<U&&Y.midAngle>Math.PI/2-f&&Y.midAngle<Math.PI/2+f&&(G<=U/2&&!pe?(Y.hemisphere="right",G++):(Y.hemisphere="left",pe=!0));for(pe=!1,F=0;F<d.length;F++)Y=s[(N+F)%d.length],1<K&&Y.midAngle>3*Math.PI/2-f&&Y.midAngle<3*Math.PI/2+f&&(ct<=K/2&&!pe?(Y.hemisphere="left",ct++):(Y.hemisphere="right",pe=!0))}}function i(U,K){var j=m.plotArea.ctx;for(j.clearRect(p.x1,p.y1,p.width,p.height),j.fillStyle=m.backgroundColor,j.fillRect(p.x1,p.y1,p.width,p.height),j=0;j<d.length;j++){var N=s[j].startAngle,F=s[j].endAngle;if(F>N){var G=.07*V*Math.cos(s[j].midAngle),ct=.07*V*Math.sin(s[j].midAngle),Y=!1;d[j].exploded?(1e-9<Math.abs(s[j].center.x-(C.x+G))||1e-9<Math.abs(s[j].center.y-(C.y+ct)))&&(s[j].center.x=C.x+G*U,s[j].center.y=C.y+ct*U,Y=!0):(0<Math.abs(s[j].center.x-C.x)||0<Math.abs(s[j].center.y-C.y))&&(s[j].center.x=C.x+G*(1-U),s[j].center.y=C.y+ct*(1-U),Y=!0),Y&&K&&(G={},G.dataSeries=u,G.dataPoint=u.dataPoints[j],G.index=j,m.toolTip.highlightObjects([G])),Ge(m.plotArea.ctx,s[j].center,s[j].radius,d[j].color?d[j].color:u._colorSet[j%u._colorSet.length],u.type,N,F,u.fillOpacity,s[j].percentInnerRadius)}}for(j=m.plotArea.ctx,j.save(),j.fillStyle="black",j.strokeStyle="grey",j.textBaseline="middle",j.lineJoin="round",N=N=0;N<d.length;N++)F=s[N],F.indexLabelText&&(F.indexLabelTextBlock.y-=F.indexLabelTextBlock.height/2-F.indexLabelTextBlock._lineHeight/2,G=0,G=F.hemisphere==="left"?u.indexLabelPlacement!=="inside"?-(F.indexLabelTextBlock.width+h):-F.indexLabelTextBlock.width/2:u.indexLabelPlacement!=="inside"?h:-F.indexLabelTextBlock.width/2,F.indexLabelTextBlock.x+=G,F.indexLabelTextBlock.render(!0),F.indexLabelTextBlock.x-=G,F.indexLabelTextBlock.y+=F.indexLabelTextBlock.height/2-F.indexLabelTextBlock._lineHeight/2,F.indexLabelPlacement!=="inside"&&0<F.indexLabelLineThickness&&(G=F.center.x+V*Math.cos(F.midAngle),ct=F.center.y+V*Math.sin(F.midAngle),j.strokeStyle=F.indexLabelLineColor,j.lineWidth=F.indexLabelLineThickness,j.setLineDash&&j.setLineDash(Pt(F.indexLabelLineDashType,F.indexLabelLineThickness)),j.beginPath(),j.moveTo(G,ct),j.lineTo(F.indexLabelTextBlock.x,F.indexLabelTextBlock.y),j.lineTo(F.indexLabelTextBlock.x+(F.hemisphere==="left"?-h:h),F.indexLabelTextBlock.y),j.stroke()),j.lineJoin="miter");j.save()}function e(U,K){var j=0,j=U.indexLabelTextBlock.y-U.indexLabelTextBlock.height/2,N=U.indexLabelTextBlock.y+U.indexLabelTextBlock.height/2,F=K.indexLabelTextBlock.y-K.indexLabelTextBlock.height/2,G=K.indexLabelTextBlock.y+K.indexLabelTextBlock.height/2;return j=K.indexLabelTextBlock.y>U.indexLabelTextBlock.y?F-N:j-G}function a(U){for(var K=null,j=1;j<d.length;j++)if(K=(U+j+s.length)%s.length,s[K].hemisphere!==s[U].hemisphere){K=null;break}else{if(s[K].indexLabelText&&K!==U&&(0>e(s[K],s[U])||(s[U].hemisphere==="right"?s[K].indexLabelTextBlock.y>=s[U].indexLabelTextBlock.y:s[K].indexLabelTextBlock.y<=s[U].indexLabelTextBlock.y)))break;K=null}return K}function r(U,K,j){if(j=(j||0)+1,1e3<j)return 0;K=K||0;var N=0,F=C.y-1*k,G=C.y+1*k;if(0<=U&&U<d.length){var ct=s[U];if(0>K&&ct.indexLabelTextBlock.y<F||0<K&&ct.indexLabelTextBlock.y>G)return 0;var Y=0,$t=0,$t=Y=Y=0;for(0>K?ct.indexLabelTextBlock.y-ct.indexLabelTextBlock.height/2>F&&ct.indexLabelTextBlock.y-ct.indexLabelTextBlock.height/2+K<F&&(K=-(F-(ct.indexLabelTextBlock.y-ct.indexLabelTextBlock.height/2+K))):ct.indexLabelTextBlock.y+ct.indexLabelTextBlock.height/2<F&&ct.indexLabelTextBlock.y+ct.indexLabelTextBlock.height/2+K>G&&(K=ct.indexLabelTextBlock.y+ct.indexLabelTextBlock.height/2+K-G),K=ct.indexLabelTextBlock.y+K,F=0,F=ct.hemisphere==="right"?C.x+Math.sqrt(Math.pow(k,2)-Math.pow(K-C.y,2)):C.x-Math.sqrt(Math.pow(k,2)-Math.pow(K-C.y,2)),$t=C.x+V*Math.cos(ct.midAngle),Y=C.y+V*Math.sin(ct.midAngle),Y=Math.sqrt(Math.pow(F-$t,2)+Math.pow(K-Y,2)),$t=Math.acos(V/k),Y=Math.acos((k*k+V*V-Y*Y)/(2*V*k)),K=Y<$t?K-ct.indexLabelTextBlock.y:0,F=null,G=1;G<d.length;G++)if(F=(U-G+s.length)%s.length,s[F].hemisphere!==s[U].hemisphere){F=null;break}else{if(s[F].indexLabelText&&s[F].hemisphere===s[U].hemisphere&&F!==U&&(0>e(s[F],s[U])||(s[U].hemisphere==="right"?s[F].indexLabelTextBlock.y<=s[U].indexLabelTextBlock.y:s[F].indexLabelTextBlock.y>=s[U].indexLabelTextBlock.y)))break;F=null}$t=F,Y=a(U),G=F=0,0>K?(G=ct.hemisphere==="right"?$t:Y,N=K,G!==null&&($t=-K,K=ct.indexLabelTextBlock.y-ct.indexLabelTextBlock.height/2-(s[G].indexLabelTextBlock.y+s[G].indexLabelTextBlock.height/2),K-$t<b&&(F=-$t,G=r(G,F,j+1),+G.toFixed(_)>+F.toFixed(_)&&(N=K>b?-(K-b):-($t-(G-F)))))):0<K&&(G=ct.hemisphere==="right"?Y:$t,N=K,G!==null&&($t=K,K=s[G].indexLabelTextBlock.y-s[G].indexLabelTextBlock.height/2-(ct.indexLabelTextBlock.y+ct.indexLabelTextBlock.height/2),K-$t<b&&(F=$t,G=r(G,F,j+1),+G.toFixed(_)<+F.toFixed(_)&&(N=K>b?K-b:$t-(F-G))))),N&&(j=ct.indexLabelTextBlock.y+N,K=0,K=ct.hemisphere==="right"?C.x+Math.sqrt(Math.pow(k,2)-Math.pow(j-C.y,2)):C.x-Math.sqrt(Math.pow(k,2)-Math.pow(j-C.y,2)),ct.midAngle>Math.PI/2-f&&ct.midAngle<Math.PI/2+f?(F=(U-1+s.length)%s.length,F=s[F],U=s[(U+1+s.length)%s.length],ct.hemisphere==="left"&&F.hemisphere==="right"&&K>F.indexLabelTextBlock.x?K=F.indexLabelTextBlock.x-15:ct.hemisphere==="right"&&U.hemisphere==="left"&&K<U.indexLabelTextBlock.x&&(K=U.indexLabelTextBlock.x+15)):ct.midAngle>3*Math.PI/2-f&&ct.midAngle<3*Math.PI/2+f&&(F=(U-1+s.length)%s.length,F=s[F],U=s[(U+1+s.length)%s.length],ct.hemisphere==="right"&&F.hemisphere==="left"&&K<F.indexLabelTextBlock.x?K=F.indexLabelTextBlock.x+15:ct.hemisphere==="left"&&U.hemisphere==="right"&&K>U.indexLabelTextBlock.x&&(K=U.indexLabelTextBlock.x-15)),ct.indexLabelTextBlock.y=j,ct.indexLabelTextBlock.x=K,ct.indexLabelAngle=Math.atan2(ct.indexLabelTextBlock.y-C.y,ct.indexLabelTextBlock.x-C.x))}return N}function l(){var U=m.plotArea.ctx;U.fillStyle="grey",U.strokeStyle="grey",U.font="16px Arial",U.textBaseline="middle";for(var N=U=0,K=0,j=!0,N=0;10>N&&(1>N||0<K);N++){if((u.radius||!u.radius&&typeof u.innerRadius<"u"&&u.innerRadius!==null&&V-K<=et)&&(j=!1),j&&(V-=K),K=0,u.indexLabelPlacement!=="inside"){for(k=V*w,U=0;U<d.length;U++){var F=s[U];F.indexLabelTextBlock.x=C.x+k*Math.cos(F.midAngle),F.indexLabelTextBlock.y=C.y+k*Math.sin(F.midAngle),F.indexLabelAngle=F.midAngle,F.radius=V,F.percentInnerRadius=xt}for(var G,ct,U=0;U<d.length;U++){var F=s[U],Y=a(U);if(Y!==null){G=s[U],ct=s[Y];var $t=0,$t=e(G,ct)-b;if(0>$t){for(var be=ct=0,pe=0;pe<d.length;pe++)pe!==U&&s[pe].hemisphere===F.hemisphere&&(s[pe].indexLabelTextBlock.y<F.indexLabelTextBlock.y?ct++:be++);ct=$t/(ct+be||1)*be;var be=-1*($t-ct),me=pe=0;F.hemisphere==="right"?(pe=r(U,ct),be=-1*($t-pe),me=r(Y,be),+me.toFixed(_)<+be.toFixed(_)&&+pe.toFixed(_)<=+ct.toFixed(_)&&r(U,-(be-me))):(pe=r(Y,ct),be=-1*($t-pe),me=r(U,be),+me.toFixed(_)<+be.toFixed(_)&&+pe.toFixed(_)<=+ct.toFixed(_)&&r(Y,-(be-me)))}}}}else for(U=0;U<d.length;U++)F=s[U],k=u.type==="pie"?.7*V:.85*V,Y=C.x+k*Math.cos(F.midAngle),ct=C.y+k*Math.sin(F.midAngle),F.indexLabelTextBlock.x=Y,F.indexLabelTextBlock.y=ct;for(U=0;U<d.length;U++)F=s[U],Y=F.indexLabelTextBlock.measureText(),Y.height!==0&&Y.width!==0&&(Y=Y=0,F.hemisphere==="right"?(Y=p.x2-(F.indexLabelTextBlock.x+F.indexLabelTextBlock.width+h),Y*=-1):Y=p.x1-(F.indexLabelTextBlock.x-F.indexLabelTextBlock.width-h),0<Y&&(!j&&F.indexLabelText&&(ct=F.hemisphere==="right"?p.x2-F.indexLabelTextBlock.x:F.indexLabelTextBlock.x-p.x1,.3*F.indexLabelTextBlock.maxWidth>ct?F.indexLabelText="":F.indexLabelTextBlock.maxWidth=.85*ct,.3*F.indexLabelTextBlock.maxWidth<ct&&(F.indexLabelTextBlock.x-=F.hemisphere==="right"?2:-2)),Math.abs(F.indexLabelTextBlock.y-F.indexLabelTextBlock.height/2-C.y)<V||Math.abs(F.indexLabelTextBlock.y+F.indexLabelTextBlock.height/2-C.y)<V)&&(Y/=Math.abs(Math.cos(F.indexLabelAngle)),9<Y&&(Y*=.3),Y>K&&(K=Y)),Y=Y=0,0<F.indexLabelAngle&&F.indexLabelAngle<Math.PI?(Y=p.y2-(F.indexLabelTextBlock.y+F.indexLabelTextBlock.height/2+5),Y*=-1):Y=p.y1-(F.indexLabelTextBlock.y-F.indexLabelTextBlock.height/2-5),0<Y&&(!j&&F.indexLabelText&&(ct=0<F.indexLabelAngle&&F.indexLabelAngle<Math.PI?-1:1,r(U,Y*ct)===0&&r(U,2*ct)),Math.abs(F.indexLabelTextBlock.x-C.x)<V&&(Y/=Math.abs(Math.sin(F.indexLabelAngle)),9<Y&&(Y*=.3),Y>K&&(K=Y))));var ie=function(we,le,te){for(var _t=[],Dt=0;_t.push(s[le]),le!==te;le=(le+1+d.length)%d.length);for(_t.sort(function(qe,Ye){return qe.y-Ye.y}),le=0;le<_t.length&&(te=_t[le],Dt<.7*we);le++)Dt+=te.indexLabelTextBlock.height,te.indexLabelTextBlock.text="",te.indexLabelText="",te.indexLabelTextBlock.measureText()};(function(){for(var we=-1,le=-1,te=0,_t=!1,Dt=0;Dt<d.length;Dt++)if(_t=!1,G=s[Dt],G.indexLabelText){var qe=a(Dt);if(qe!==null){var Ye=s[qe];$t=0,$t=e(G,Ye);var Ci;if(Ci=0>$t){Ci=G.indexLabelTextBlock.x;var Vi=G.indexLabelTextBlock.y-G.indexLabelTextBlock.height/2,rt=G.indexLabelTextBlock.y+G.indexLabelTextBlock.height/2,ea=Ye.indexLabelTextBlock.y-Ye.indexLabelTextBlock.height/2,$e=Ye.indexLabelTextBlock.x+Ye.indexLabelTextBlock.width,$i=Ye.indexLabelTextBlock.y+Ye.indexLabelTextBlock.height/2;Ci=!(G.indexLabelTextBlock.x+G.indexLabelTextBlock.width<Ye.indexLabelTextBlock.x-h||Ci>$e+h||Vi>$i+h||rt<ea-h)}Ci?(0>we&&(we=Dt),qe!==we&&(le=qe,te+=-$t),Dt%Math.max(d.length/10,3)===0&&(_t=!0)):_t=!0,_t&&0<te&&0<=we&&0<=le&&(ie(te,we,le),le=we=-1,te=0)}}0<te&&ie(te,we,le)})()}}function x(){if(m.plotArea.layoutManager.reset(),m.title&&(m.title.dockInsidePlotArea||m.title.horizontalAlign==="center"&&m.title.verticalAlign==="center")&&m.title.render(),m.subtitles)for(var U=0;U<m.subtitles.length;U++){var K=m.subtitles[U];(K.dockInsidePlotArea||K.horizontalAlign==="center"&&K.verticalAlign==="center")&&K.render()}m.legend&&(m.legend.dockInsidePlotArea||m.legend.horizontalAlign==="center"&&m.legend.verticalAlign==="center")&&(m.legend.setLayout(),m.legend.render())}var m=this;if(!(0>=t.dataSeriesIndexes.length)){var u=this.data[t.dataSeriesIndexes[0]],d=u.dataPoints,h=10,p=this.plotArea,s=u.dataPointEOs,b=2,k,w=1.3,f=20/180*Math.PI,_=6,C={x:(p.x2+p.x1)/2,y:(p.y2+p.y1)/2},E=0;t=!1;for(var D=0;D<d.length;D++)E+=Math.abs(d[D].y),!t&&typeof d[D].indexLabel<"u"&&d[D].indexLabel!==null&&0<d[D].indexLabel.toString().length&&(t=!0),!t&&typeof d[D].label<"u"&&d[D].label!==null&&0<d[D].label.toString().length&&(t=!0);if(E!==0){t=t||typeof u.indexLabel<"u"&&u.indexLabel!==null&&0<u.indexLabel.toString().length;var V=u.indexLabelPlacement!=="inside"&&t?.75*Math.min(p.width,p.height)/2:.92*Math.min(p.width,p.height)/2;u.radius&&(V=oa(u.radius,V));var et=typeof u.innerRadius<"u"&&u.innerRadius!==null?oa(u.innerRadius,V):.7*V,xt=Math.min(et/V,(V-1)/V);this.pieDoughnutClickHandler=function(U){m.isAnimating||!B(this.explodeOnClick)&&!this.explodeOnClick||(U=U.dataPoint,U.exploded=!U.exploded,1<this.dataPoints.length&&m._animator.animate(0,500,function(K){i(K,!0),x(),m.dispatchEvent("dataAnimationIterationEnd",{chart:m}),m.dispatchEvent("dataAnimationEnd",{chart:m})}))},n(),l(),l(),l(),l(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(U){var K=m.plotArea.ctx;K.clearRect(p.x1,p.y1,p.width,p.height),K.fillStyle=m.backgroundColor,K.fillRect(p.x1,p.y1,p.width,p.height);for(var K=s[0].startAngle+2*Math.PI*U,j=0;j<d.length;j++){var N=j===0?s[j].startAngle:F,F=N+(s[j].endAngle-s[j].startAngle),G=!1;F>K&&(F=K,G=!0);var ct=d[j].color?d[j].color:u._colorSet[j%u._colorSet.length];if(F>N&&Ge(m.plotArea.ctx,s[j].center,s[j].radius,ct,u.type,N,F,u.fillOpacity,s[j].percentInnerRadius),G)break}x(),m.dispatchEvent("dataAnimationIterationEnd",{chart:m}),1<=U&&m.dispatchEvent("dataAnimationEnd",{chart:m})},function(){m.disableToolTip=!1,m._animator.animate(0,m.animatedRender?500:0,function(U){i(U,!1),x(),m.dispatchEvent("dataAnimationIterationEnd",{chart:m})}),m.dispatchEvent("dataAnimationEnd",{chart:m})}),u.radius=V,u.type==="doughnut"&&(u.innerRadius=et)}}};var ii=function(t,n,i,e){typeof i>"u"&&(i=1),0>=Math.round(n.y4-n.y1)||(t.save(),t.globalAlpha=i,t.beginPath(),t.moveTo(Math.round(n.x1),Math.round(n.y1)),t.lineTo(Math.round(n.x2),Math.round(n.y2)),t.lineTo(Math.round(n.x3),Math.round(n.y3)),t.lineTo(Math.round(n.x4),Math.round(n.y4)),n.x5!=="undefined"&&(t.lineTo(Math.round(n.x5),Math.round(n.y5)),t.lineTo(Math.round(n.x6),Math.round(n.y6))),t.closePath(),t.fillStyle=e||n.color,t.fill(),t.globalAplha=1,t.restore())};T.prototype.renderFunnel=function(t){function n(){for(var mt=0,pt=[],St=0;St<_.length;St++){if(typeof _[St].y>"u")return-1;_[St].y=typeof _[St].y=="number"?_[St].y:0,mt+=Math.abs(_[St].y)}if(mt===0)return-1;for(St=pt[0]=0;St<_.length;St++)pt.push(Math.abs(_[St].y)*et/mt);return pt}function i(){var mt=pe,pt=be,St=ie,Gt=we,Bt,ee;Bt=N,ee=F-ct,Gt=Math.abs((ee-Bt)*(pt-mt+(Gt-St))/2),St=we-ie,Bt=ee-Bt,ee=St*(ee-F),ee=Math.abs(ee),ee=Gt+ee;for(var Gt=[],ze=0,We=0;We<_.length;We++){if(typeof _[We].y>"u")return-1;_[We].y=typeof _[We].y=="number"?_[We].y:0,ze+=Math.abs(_[We].y)}if(ze===0)return-1;for(var _e=Gt[0]=0,At=0,Ee,Ke,pt=pt-mt,_e=!1,We=0;We<_.length;We++)mt=Math.abs(_[We].y)*ee/ze,_e?Ee=Number(St.toFixed(3))==0?0:mt/St:(Ke=Ye*Ye*pt*pt-4*Math.abs(Ye)*mt,0>Ke?(Ke=St,_e=(pt+Ke)*(Bt-At)/2,mt-=_e,Ee=Bt-At,At+=Bt-At,Ee+=Ke==0?0:mt/Ke,At+=mt/Ke,_e=!0):(Ee=(Math.abs(Ye)*pt-Math.sqrt(Ke))/2,Ke=pt-2*Ee/Math.abs(Ye),At+=Ee,At>Bt&&(At-=Ee,Ke=St,_e=(pt+Ke)*(Bt-At)/2,mt-=_e,Ee=Bt-At,At+=Bt-At,Ee+=mt/Ke,At+=mt/Ke,_e=!0),pt=Ke)),Gt.push(Ee);return Gt}function e(){if(f&&_){for(var mt,pt,St,Gt,Bt,ee,ze,We,At,Ee,Ke,_e,Kt,ae,Et,ne,ai,Ne,He=[],Ai=[],oi={percent:null,total:null},ya=null,de=0;de<_.length;de++)Ne=_t[de],Ne=typeof Ne.x5<"u"?(Ne.y2+Ne.y4)/2:(Ne.y2+Ne.y3)/2,Ne=s(Ne).x2+1,He[de]=j-(isNaN(Ne)?0:Ne)-$t;Ne=.5*$t;for(var de=0,Ei=_.length-1;de<_.length||0<=Ei;de++,Ei--)pt=f.reversed?_[Ei]:_[de],mt=pt.color?pt.color:f.reversed?f._colorSet[(_.length-1-de)%f._colorSet.length]:f._colorSet[de%f._colorSet.length],St=pt.indexLabelPlacement||f.indexLabelPlacement||"outside",ai=pt.indexLabelTextAlign||f.indexLabelTextAlign||"left",Gt=pt.indexLabelBackgroundColor||f.indexLabelBackgroundColor||(R?"transparent":null),Bt=pt.indexLabelBorderColor||f.indexLabelBorderColor||(R?"transparent":null),ee=B(pt.indexLabelBorderThickness)?f.indexLabelBorderThickness:pt.indexLabelBorderThickness,ze=B(pt.indexLabelPadding)?f.options.indexLabelPadding?f.options.indexLabelPadding:f.indexLabelPadding:pt.indexLabelPadding,We=pt.indexLabelFontColor||f.indexLabelFontColor||"#979797",At=B(pt.indexLabelFontSize)?f.indexLabelFontSize:pt.indexLabelFontSize,Ee=pt.indexLabelFontStyle||f.indexLabelFontStyle||"normal",Ke=pt.indexLabelFontFamily||f.indexLabelFontFamily||"arial",_e=pt.indexLabelFontWeight||f.indexLabelFontWeight||"normal",mt=pt.indexLabelLineColor||f.options.indexLabelLineColor||mt,Kt=typeof pt.indexLabelLineThickness=="number"?pt.indexLabelLineThickness:typeof f.indexLabelLineThickness=="number"?f.indexLabelLineThickness:2,ae=pt.indexLabelLineDashType||f.indexLabelLineDashType||"solid",Et=typeof pt.indexLabelWrap<"u"?pt.indexLabelWrap:typeof f.indexLabelWrap<"u"?f.indexLabelWrap:!0,ne=f.dataPointIds[de],w._eventManager.objectMap[ne]={id:ne,objectType:"dataPoint",dataPointIndex:de,dataSeriesIndex:0,funnelSection:_t[f.reversed?_.length-1-de:de]},f.indexLabelPlacement==="inside"&&(He[de]=de!==qe?f.reversed?_t[de].x2-_t[de].x1:_t[de].x3-_t[de].x4:_t[de].x3-_t[de].x6,20>He[de]&&(He[de]=de!==qe&&f.reversed?_t[de].x3-_t[de].x4:_t[de].x2-_t[de].x1,He[de]/=2)),ne=pt.indexLabelMaxWidth?pt.indexLabelMaxWidth:f.options.indexLabelMaxWidth?f.indexLabelMaxWidth:He[de],(ne>He[de]||0>ne)&&(ne=He[de]),Ai[de]=f.indexLabelPlacement==="inside"?Et?Math.max(_t[de].height,At):1.5*At+(typeof ze=="object"?(ze.top||0)+(ze.bottom||0):2*ze):!1,oi=w.getPercentAndTotal(f,pt),(f.indexLabelFormatter||pt.indexLabelFormatter)&&(ya={chart:w.options,dataSeries:f,dataPoint:pt,total:oi.total,percent:oi.percent}),pt=pt.indexLabelFormatter?pt.indexLabelFormatter(ya):pt.indexLabel?w.replaceKeywordsWithValue(pt.indexLabel,pt,f,de):f.indexLabelFormatter?f.indexLabelFormatter(ya):f.indexLabel?w.replaceKeywordsWithValue(f.indexLabel,pt,f,de):pt.label?pt.label:"",0>=Kt&&(Kt=0),1e3>ne&&1e3-ne<Ne&&(ne+=1e3-ne),B(f.options.indexLabelMaxWidth)&&(f.indexLabelMaxWidth=B(f.indexLabelMaxWidth)?ne:Math.max(ne,f.indexLabelMaxWidth)),G.roundRect||vt(G),St=new Be(G,{fontSize:At,fontFamily:Ke,fontColor:We,fontStyle:Ee,fontWeight:_e,horizontalAlign:St,textAlign:ai,backgroundColor:Gt,borderColor:Bt,borderThickness:ee,maxWidth:ne,maxHeight:Ai[de]===!1?(Et?4.28571429*At:1.5*At)+(typeof ze=="object"?(ze.top||0)+(ze.bottom||0):2*ze):Ai[de],text:pt,padding:ze,textBaseline:"middle"}),St.measureText(),St.height=St.height===2*St.padding?0:St.height,St.width=St.width===2*St.padding?0:St.width,rt.push({textBlock:St,id:f.reversed?Ei:de,isDirty:!1,lineColor:mt,lineThickness:Kt,lineDashType:ae,height:St.height<St.maxHeight?St.height:St.maxHeight,width:St.width<St.maxWidth?St.width:St.maxWidth})}}function a(){var mt,pt,St,Gt,Bt,ee=[];Bt=!1,St=0;for(var ze,We=j-be-$t/2,We=f.options.indexLabelMaxWidth?f.indexLabelMaxWidth>We?We:f.indexLabelMaxWidth:We,At=rt.length-1;0<=At;At--)ze=_[rt[At].id],St=rt[At],Gt=St.textBlock,pt=(mt=p(At)<_t.length?rt[p(At)]:null)?mt.textBlock:null,St=St.height,mt&&Gt.y+St+Vi>pt.y&&(Bt=!0),St=ze.indexLabelMaxWidth||We,(St>We||0>St)&&(St=We),ee.push(St);if(Bt)for(At=rt.length-1;0<=At;At--)mt=_t[At],rt[At].textBlock.maxWidth=ee[ee.length-(At+1)],rt[At].textBlock.measureText(),rt[At].textBlock.height=rt[At].textBlock.height===2*rt[At].textBlock.padding?0:rt[At].textBlock.height,rt[At].textBlock.width=rt[At].textBlock.width===2*rt[At].textBlock.padding?0:rt[At].textBlock.width,rt[At].textBlock.x=j-We,St=rt[At].textBlock.height<rt[At].textBlock.maxHeight?rt[At].textBlock.height:rt[At].textBlock.maxHeight,Bt=rt[At].textBlock.width<rt[At].textBlock.maxWidth?rt[At].textBlock.width:rt[At].textBlock.maxWidth,rt[At].height=St,rt[At].width=Bt,St=typeof mt.x5<"u"?(mt.y2+mt.y4)/2:(mt.y2+mt.y3)/2,rt[At].textBlock.y=St-rt[At].height/2,f.reversed?(rt[At].textBlock.y+rt[At].height>me+E&&(rt[At].textBlock.y=me+E-rt[At].height),rt[At].textBlock.y<te-E&&(rt[At].textBlock.y=te-E)):(rt[At].textBlock.y<me-E&&(rt[At].textBlock.y=me-E),rt[At].textBlock.y+rt[At].height>te+E&&(rt[At].textBlock.y=te+E-rt[At].height))}function r(){var mt,pt,St,Gt;if(f.indexLabelPlacement!=="inside")for(var Bt=0;Bt<_t.length;Bt++)rt[Bt].textBlock.text.length==0?rt[Bt].isDirty=!0:(mt=_t[Bt],St=typeof mt.x5<"u"?(mt.y2+mt.y4)/2:(mt.y2+mt.y3)/2,pt=f.reversed?typeof mt.x5<"u"&&St>le?s(St).x2+1:(mt.x2+mt.x3)/2+1:typeof mt.x5<"u"?St<le?s(St).x2+1:(mt.x4+mt.x3)/2+1:(mt.x2+mt.x3)/2+1,rt[Bt].textBlock.x=pt+$t,rt[Bt].textBlock.y=St-rt[Bt].height/2,f.reversed?(rt[Bt].textBlock.y+rt[Bt].height>me+E&&(rt[Bt].textBlock.y=me+E-rt[Bt].height),rt[Bt].textBlock.y<te-E&&(rt[Bt].textBlock.y=te-E)):(rt[Bt].textBlock.y<me-E&&(rt[Bt].textBlock.y=me-E),rt[Bt].textBlock.y+rt[Bt].height>te+E&&(rt[Bt].textBlock.y=te+E-rt[Bt].height)));else for(Bt=0;Bt<_t.length;Bt++)rt[Bt].textBlock.text.length==0?rt[Bt].isDirty=!0:(mt=_t[Bt],pt=mt.height,St=rt[Bt].height,Gt=rt[Bt].width,pt>=St?(pt=Bt!=qe?(mt.x4+mt.x3)/2-Gt/2:(mt.x5+mt.x4)/2-Gt/2,St=Bt!=qe?(mt.y1+mt.y3)/2-St/2:(mt.y1+mt.y4)/2-St/2,rt[Bt].textBlock.x=pt,rt[Bt].textBlock.y=St):rt[Bt].isDirty=!0)}function l(){function mt(Kt,ae){var Et;if(0>Kt||Kt>=rt.length)return 0;var ne,ai=rt[Kt].textBlock;return 0>ae?(ae*=-1,ne=h(Kt),Et=x(ne,Kt),Et>=ae?(ai.y-=ae,ae):Kt==0?(0<Et&&(ai.y-=Et),Et):(Et+=mt(ne,-(ae-Et)),0<Et&&(ai.y-=Et),Et)):(ne=p(Kt),Et=x(Kt,ne),Et>=ae?(ai.y+=ae,ae):Kt==_t.length-1?(0<Et&&(ai.y+=Et),Et):(Et+=mt(ne,ae-Et),0<Et&&(ai.y+=Et),Et))}function pt(){var Kt,ae,Et,ne,ai=0,Ne;ne=(F-N+2*E)/Ee,Ne=Ee;for(var He,Ai=1;Ai<Ne;Ai++){Et=Ai*ne;for(var oi=rt.length-1;0<=oi;oi--)!rt[oi].isDirty&&rt[oi].textBlock.y<Et&&rt[oi].textBlock.y+rt[oi].height>Et&&(He=p(oi),!(He>=rt.length-1)&&rt[oi].textBlock.y+rt[oi].height+Vi>rt[He].textBlock.y&&(rt[oi].textBlock.y=rt[oi].textBlock.y+rt[oi].height-Et>Et-rt[oi].textBlock.y?Et+1:Et-rt[oi].height-1))}for(He=_t.length-1;0<He;He--)if(!rt[He].isDirty){if(Et=h(He),0>Et&&(Et=0,rt[Et].isDirty))break;if(rt[He].textBlock.y<rt[Et].textBlock.y+rt[Et].height){for(ae=ae||He,ne=He,Ne=0;rt[ne].textBlock.y<rt[Et].textBlock.y+rt[Et].height+Vi;){if(Kt=Kt||rt[ne].textBlock.y+rt[ne].height,Ne+=rt[ne].height,Ne+=Vi,ne=Et,0>=ne){ne=0,Ne+=rt[ne].height;break}if(Et=h(ne),0>Et){ne=0,Ne+=rt[ne].height;break}}if(ne!=He){ai=rt[ne].textBlock.y,Kt-=ai,Kt=Ne-Kt,ai=St(Kt,ae,ne);break}}}return ai}function St(Kt,ae,Et){var ne=[],ai=0,Ne=0;for(Kt=Math.abs(Kt);Et<=ae;Et++)ne.push(_t[Et]);for(ne.sort(function(He,Ai){return He.height-Ai.height}),Et=0;Et<ne.length&&(ae=ne[Et],ai<Kt);Et++)Ne++,ai+=rt[ae.id].height+Vi,rt[ae.id].textBlock.text="",rt[ae.id].indexLabelText="",rt[ae.id].isDirty=!0,rt[ae.id].textBlock.measureText();return Ne}for(var Gt,Bt,ee,ze,We,At,Ee=1,Ke=0;Ke<2*Ee;Ke++){for(var _e=rt.length-1;0<=_e&&(0<=h(_e)&&h(_e),ee=rt[_e],ze=ee.textBlock,At=(We=p(_e)<_t.length?rt[p(_e)]:null)?We.textBlock:null,Gt=+ee.height.toFixed(6),Bt=+ze.y.toFixed(6),!(!ee.isDirty&&We&&Bt+Gt+Vi>+At.y.toFixed(6)&&(Gt=ze.y+Gt+Vi-At.y,Bt=mt(_e,-Gt),Bt<Gt&&(0<Bt&&(Gt-=Bt),Bt=mt(p(_e),Gt),Bt!=Gt))));_e--);pt()}}function x(mt,pt){return(pt<_t.length?rt[pt].textBlock.y:f.reversed?me+E:te+E)-(0>mt?f.reversed?te-E:me-E:rt[mt].textBlock.y+rt[mt].height+Vi)}function m(mt,pt,St){var Gt,Bt,ee,ze=[],We=E,At=[];if(pt!==-1&&(0<=$e.indexOf(pt)?(Bt=$e.indexOf(pt),$e.splice(Bt,1)):($e.push(pt),$e=$e.sort(function(_e,Kt){return _e-Kt}))),$e.length===0)ze=$i;else{Bt=E*($e.length!=1||$e[0]!=0&&$e[0]!=_t.length-1?2:1)/u();for(var Ee=0;Ee<_t.length;Ee++){if($e.length==1&&$e[0]==0){if(Ee===0){ze.push($i[Ee]),Gt=We;continue}}else Ee===0&&(Gt=-1*We);ze.push($i[Ee]+Gt),(0<=$e.indexOf(Ee)||Ee<_t.length&&0<=$e.indexOf(Ee+1))&&(Gt+=Bt)}}ee=function(){for(var _e=[],Kt=0;Kt<_t.length;Kt++)_e.push(ze[Kt]-_t[Kt].y1);return _e}();var Ke={startTime:new Date().getTime(),duration:St||500,easingFunction:function(_e,Kt,ae,Et){return Xt.easing.easeOutQuart(_e,Kt,ae,Et)},changeSection:function(_e){for(var Kt,ae,Et=0;Et<_t.length;Et++)Kt=ee[Et],ae=_t[Et],Kt*=_e,typeof At[Et]>"u"&&(At[Et]=0),0>At&&(At*=-1),ae.y1+=Kt-At[Et],ae.y2+=Kt-At[Et],ae.y3+=Kt-At[Et],ae.y4+=Kt-At[Et],ae.y5&&(ae.y5+=Kt-At[Et],ae.y6+=Kt-At[Et]),At[Et]=Kt}};mt._animator.animate(0,St,function(_e){var Kt=mt.plotArea.ctx||mt.ctx;ea=!0,Kt.clearRect(C.x1,C.y1,C.x2-C.x1,C.y2-C.y1),Kt.fillStyle=mt.backgroundColor,Kt.fillRect(C.x1,C.y1,C.width,C.height),Ke.changeSection(_e,pt);var ae={};for(ae.dataSeries=f,ae.dataPoint=f.reversed?f.dataPoints[_.length-1-pt]:f.dataPoints[pt],ae.index=f.reversed?_.length-1-pt:pt,mt.toolTip.highlightObjects([ae]),ae=0;ae<_t.length;ae++)ii(Kt,_t[ae],f.fillOpacity);k(Kt),U&&(f.indexLabelPlacement!=="inside"?d(Kt):r(),b(Kt)),1<=_e&&(ea=!1)},null,Xt.easing.easeOutQuart)}function u(){for(var mt=0,pt=0;pt<_t.length-1;pt++)(0<=$e.indexOf(pt)||0<=$e.indexOf(pt+1))&&mt++;return mt}function d(mt){for(var pt,St,Gt,Bt,ee=0;ee<_t.length;ee++)Bt=rt[ee].lineThickness%2===1?.5:0,St=((_t[ee].y2+_t[ee].y4)/2<<0)+Bt,pt=s(St).x2-1,isNaN(pt)&&Math.round(_t[ee].x1)===Math.round(_t[ee].x4)&&Math.round(_t[ee].x2)===Math.round(_t[ee].x3)&&(pt=_t[ee].x2),Gt=rt[ee].textBlock.x,Bt=(rt[ee].textBlock.y+rt[ee].height/2<<0)+Bt,rt[ee].isDirty||rt[ee].lineThickness==0||(mt.strokeStyle=rt[ee].lineColor,mt.lineWidth=rt[ee].lineThickness,mt.setLineDash&&mt.setLineDash(Pt(rt[ee].lineDashType,rt[ee].lineThickness)),mt.beginPath(),mt.moveTo(pt,St),mt.lineTo(Gt,Bt),mt.stroke())}function h(mt){for(mt-=1;-1<=mt&&mt!=-1&&rt[mt].isDirty;mt--);return mt}function p(mt){for(mt+=1;mt<=_t.length&&mt!=_t.length&&rt[mt].isDirty;mt++);return mt}function s(mt){for(var pt,St=0;St<_.length;St++)if(_t[St].y1<mt&&_t[St].y4>mt){pt=_t[St];break}return pt?(mt=pt.y6&&mt>pt.y6?pt.x3+(pt.x4-pt.x3)/(pt.y4-pt.y3)*(mt-pt.y3):pt.x2+(pt.x3-pt.x2)/(pt.y3-pt.y2)*(mt-pt.y2),{x1:mt,x2:mt}):-1}function b(mt){for(var pt=0;pt<_t.length;pt++)rt[pt].isDirty||(mt&&(rt[pt].textBlock.ctx=mt),rt[pt].textBlock.y+=rt[pt].textBlock._lineHeight/2,rt[pt].textBlock.render(!0),rt[pt].textBlock.y-=rt[pt].textBlock._lineHeight/2)}function k(mt){if(w.plotArea.layoutManager.reset(),mt.roundRect||vt(mt),w.title&&(w.title.dockInsidePlotArea||w.title.horizontalAlign==="center"&&w.title.verticalAlign==="center")&&(w.title.ctx=mt,w.title.render()),w.subtitles)for(var pt=0;pt<w.subtitles.length;pt++){var St=w.subtitles[pt];(St.dockInsidePlotArea||St.horizontalAlign==="center"&&St.verticalAlign==="center")&&(w.subtitles.ctx=mt,St.render())}w.legend&&(w.legend.dockInsidePlotArea||w.legend.horizontalAlign==="center"&&w.legend.verticalAlign==="center")&&(w.legend.ctx=mt,w.legend.setLayout(),w.legend.render()),ci.fNg&&ci.fNg(w)}var w=this;if(!(0>=t.dataSeriesIndexes.length)){for(var f=this.data[t.dataSeriesIndexes[0]],_=f.dataPoints,C=this.plotArea,E=.025*C.width,D=.01*C.width,V=0,et=C.height-2*E-4,xt=Math.min(C.width-2*D,2.8*C.height),U=!1,K=0;K<_.length;K++)!U&&typeof _[K].indexLabel<"u"&&_[K].indexLabel!==null&&0<_[K].indexLabel.toString().length&&(U=!0),!U&&typeof _[K].label<"u"&&_[K].label!==null&&0<_[K].label.toString().length&&(U=!0),(!U&&typeof f.indexLabelFormatter=="function"||typeof _[K].indexLabelFormatter=="function")&&(U=!0);U=U||typeof f.indexLabel<"u"&&f.indexLabel!==null&&0<f.indexLabel.toString().length,f.indexLabelPlacement!=="inside"&&U||(D=(C.width-.75*xt)/2);var K=C.x1+D,j=C.x2-D,N=C.y1+E+2,F=C.y2-E-2,G=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(f.length!=0&&f.dataPoints&&f.visible&&_.length!==0){var ct,Y;t=75*xt/100;var $t=30*(j-t)/100;f.type==="funnel"?(ct=B(f.options.neckHeight)?.35*et:f.neckHeight,Y=B(f.options.neckWidth)?.25*t:f.neckWidth,typeof ct=="string"&&ct.match(/%$/)?(ct=parseInt(ct),ct=ct*et/100):ct=parseInt(ct),typeof Y=="string"&&Y.match(/%$/)?(Y=parseInt(Y),Y=Y*t/100):Y=parseInt(Y),ct>et?ct=et:0>=ct&&(ct=0),Y>t?Y=t-.5:0>=Y&&(Y=0)):f.type==="pyramid"&&(Y=ct=0,f.reversed=!f.reversed);var D=K+t/2,pe=K,be=K+t,me=f.reversed?F:N,ie=D-Y/2,we=D+Y/2,le=f.reversed?N+ct:F-ct,te=f.reversed?N:F;Y=f.valueRepresents=f.valueRepresents?f.valueRepresents:"height",K=[],t=[];var _t=[],D=[],Dt=N,qe,Ye=(le-me)/(ie-pe),Ci=-Ye,xt=Y==="area"?i():n();if(xt!==-1){if(f.reversed)for(D.push(Dt),Y=xt.length-1;0<Y;Y--)Dt+=xt[Y],D.push(Math.round(Dt));else for(Y=0;Y<xt.length;Y++)Dt+=xt[Y],D.push(Math.round(Dt));if(f.reversed)for(Y=0;Y<xt.length;Y++)D[Y]<le?(K.push(ie),t.push(we),qe=Y):(K.push((D[Y]-me+Ye*pe)/Ye),t.push((D[Y]-me+Ci*be)/Ci));else for(Y=0;Y<xt.length;Y++)D[Y]<le?(K.push((D[Y]-me+Ye*pe)/Ye),t.push((D[Y]-me+Ci*be)/Ci),qe=Y):(K.push(ie),t.push(we));for(Y=0;Y<xt.length-1;Y++)Dt=f.reversed?_[_.length-1-Y].color?_[_.length-1-Y].color:f._colorSet[(_.length-1-Y)%f._colorSet.length]:_[Y].color?_[Y].color:f._colorSet[Y%f._colorSet.length],Y===qe?_t.push({x1:K[Y],y1:D[Y],x2:t[Y],y2:D[Y],x3:we,y3:le,x4:t[Y+1],y4:D[Y+1],x5:K[Y+1],y5:D[Y+1],x6:ie,y6:le,id:Y,height:D[Y+1]-D[Y],color:Dt}):_t.push({x1:K[Y],y1:D[Y],x2:t[Y],y2:D[Y],x3:t[Y+1],y3:D[Y+1],x4:K[Y+1],y4:D[Y+1],id:Y,height:D[Y+1]-D[Y],color:Dt}),f.dataPointEOs[Y]&&_t[Y]&&(f.dataPointEOs[Y].sectionsofFunnel=_t[Y]);var Vi=2,rt=[],ea=!1,$e=[],$i=[],K=!1;for(t=t=0,ni($e),Y=0;Y<_.length;Y++)_[Y].exploded&&(K=!0,f.reversed?$e.push(_.length-1-Y):$e.push(Y));if(G.clearRect(C.x1,C.y1,C.width,C.height),G.fillStyle=w.backgroundColor,G.fillRect(C.x1,C.y1,C.width,C.height),U&&f.visible&&(e(),r(),f.indexLabelPlacement!=="inside")){for(a(),l(),Y=0;Y<_.length;Y++)rt[Y].isDirty||(t=rt[Y].textBlock.x+rt[Y].width,t=(j-t)/2,Y==0&&(V=t),V>t&&(V=t));for(Y=0;Y<_t.length;Y++)_t[Y].x1+=V,_t[Y].x2+=V,_t[Y].x3+=V,_t[Y].x4+=V,_t[Y].x5&&(_t[Y].x5+=V,_t[Y].x6+=V),rt[Y].textBlock.x+=V}for(Y=0;Y<_t.length;Y++)V=_t[Y],ii(G,V,f.fillOpacity),$i.push(V.y1);if(k(G),U&&f.visible&&(f.indexLabelPlacement==="inside"||w.animationEnabled||d(G),w.animationEnabled||b()),!U)for(Y=0;Y<_.length;Y++)V=f.dataPointIds[Y],t={id:V,objectType:"dataPoint",dataPointIndex:Y,dataSeriesIndex:0,funnelSection:_t[f.reversed?_.length-1-Y:Y]},w._eventManager.objectMap[V]=t;return(!w.animationEnabled&&K||w.animationEnabled&&!w.animatedRender)&&m(w,-1,0),this.funnelPyramidClickHandler=function(Gt){var Bt=-1;!ea&&!w.isAnimating&&(B(Gt.dataSeries.explodeOnClick)||Gt.dataSeries.explodeOnClick)&&(Bt=f.reversed?_.length-1-Gt.dataPointIndex:Gt.dataPointIndex,0<=Bt)&&(Gt=Bt,(f.type==="funnel"||f.type==="pyramid")&&(f.reversed?_[_.length-1-Gt].exploded=!_[_.length-1-Gt].exploded:_[Gt].exploded=!_[Gt].exploded),m(w,Bt,500))},{source:G,dest:this.plotArea.ctx,animationCallback:function(Gt,Bt){Xt.fadeInAnimation(Gt,Bt),1<=Gt&&(m(w,-1,500),k(w.plotArea.ctx||w.ctx))},easingFunction:Xt.easing.easeInQuad,animationBase:0}}}}},T.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),T.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,T.prototype.set=function(t,n,i){i=typeof i>"u"?!0:i,t==="options"?(this.options=n,i&&this.render()):T.base.set.call(this,t,n,i)},T.prototype.exportChart=function(t){t=typeof t>"u"?{}:t;var n=t.format?t.format:"png",i=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+n);var e=this.canvas;if(e&&n&&i){i=i+"."+n,t="image/"+n;var e=e.toDataURL(t),a=!1,r=document.createElement("a");if(r.download=i,r.href=e,typeof Blob<"u"&&new Blob){for(var l=e.replace(/^data:[a-z\/]*;base64,/,""),l=atob(l),x=new ArrayBuffer(l.length),x=new Uint8Array(x),m=0;m<l.length;m++)x[m]=l.charCodeAt(m);n=new Blob([x.buffer],{type:"image/"+n});try{window.navigator.msSaveBlob(n,i),a=!0}catch{r.dataset.downloadurl=[t,r.download,r.href].join(":"),r.href=window.URL.createObjectURL(n)}}if(!a)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent?r.dispatchEvent(event):r.fireEvent&&r.fireEvent("onclick")}catch{n=window.open(),n.document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),n.document.close()}}},T.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),n=document.createElement("iframe");n.setAttribute("class","canvasjs-chart-print-frame"),fe(n,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),n.style.height=this.height+"px",this._canvasJSContainer.appendChild(n);var i=this,e=n.contentWindow||n.contentDocument.document||n.contentDocument;e.document.open(),e.document.write(`<!DOCTYPE HTML>
<html><body><img src="`+t+'"/><body/></html>'),e.document.body&&e.document.body.style&&(e.document.body.style.margin="0px 0px 0px 0px",e.document.body.style.padding="0px 0px 0px 0px"),e.document.close(),setTimeout(function(){e.focus(),e.print(),setTimeout(function(){i._canvasJSContainer.removeChild(n)},1e3)},500)},T.prototype.getPercentAndTotal=function(t,n){var i=null,e=null,a=i=null;if(0<=t.type.indexOf("stacked"))e=0,i=n.x.getTime?n.x.getTime():n.x,i in t.plotUnit.yTotals&&(e=t.plotUnit.yTotals[i],i=t.plotUnit.yAbsTotals[i],a=isNaN(n.y)||i===0?0:100*(n.y/i));else if(t.type==="pie"||t.type==="doughnut"||t.type==="funnel"||t.type==="pyramid"){for(i=e=0;i<t.dataPoints.length;i++)isNaN(t.dataPoints[i].y)||(e+=t.dataPoints[i].y);a=isNaN(n.y)?0:100*(n.y/e)}return{percent:a,total:e}},T.prototype.replaceKeywordsWithValue=function(t,n,i,e,a){var r=this;if(a=typeof a>"u"?0:a,(0<=i.type.indexOf("stacked")||i.type==="pie"||i.type==="doughnut"||i.type==="funnel"||i.type==="pyramid")&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var m="#percent",x="#total",l=this.getPercentAndTotal(i,n),x=isNaN(l.total)?x:l.total,m=isNaN(l.percent)?m:l.percent;do{if(l="",i.percentFormatString)l=i.percentFormatString;else{var l="#,##0.",u=Math.max(Math.ceil(Math.log(1/Math.abs(m))/Math.LN10),2);(isNaN(u)||!isFinite(u))&&(u=2);for(var d=0;d<u;d++)l+="#";i.percentFormatString=l}t=t.replace("#percent",Re(m,l,r._cultureInfo)),t=t.replace("#total",Re(x,i.yValueFormatString?i.yValueFormatString:"#,##0.########",r._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(h){if(h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'")return h.slice(1,h.length-1);h=ut(h.slice(1,h.length-1)),h=h.replace("#index",a);var p=null;try{var s=h.match(/(.*?)\s*\[\s*(.*?)\s*\]/);s&&0<s.length&&(p=ut(s[2]),h=ut(s[1]))}catch{}if(s=null,h==="color")return i.type==="waterfall"?n.color?n.color:0<n.y?i.risingColor:i.fallingColor:i.type==="error"?i.color?i.color:i._colorSet[p%i._colorSet.length]:n.color?n.color:i.color?i.color:i._colorSet[e%i._colorSet.length];if(n.hasOwnProperty(h))s=n;else if(i.hasOwnProperty(h))s=i;else return"";return s=s[h],p!==null&&(s=s[p]),h==="x"?(i.axisX&&i.axisX.valueType==="dateTime"||i.xValueType==="dateTime"||n.x&&n.x.getTime)&&!i.axisX.logarithmic?Rt(s,n.xValueFormatString?n.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString=r.axisX&&r.axisX.autoValueFormatString?r.axisX.autoValueFormatString:"DD MMM YY",r._cultureInfo):Re(s,n.xValueFormatString?n.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString="#,##0.########",r._cultureInfo):h==="y"?Re(s,n.yValueFormatString?n.yValueFormatString:i.yValueFormatString?i.yValueFormatString:i.yValueFormatString="#,##0.########",r._cultureInfo):h==="z"?Re(s,n.zValueFormatString?n.zValueFormatString:i.zValueFormatString?i.zValueFormatString:i.zValueFormatString="#,##0.########",r._cultureInfo):s})},J(yt,De),yt.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,n=t.layoutManager.getFreeSpace(),i=null,e=0,a=0,r=0,l=0,x=this.markerMargin=this.chart.options.legend&&!B(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var m=[],u=[];this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.orientation="horizontal",i=this.verticalAlign,r=this.maxWidth=this.maxWidth!==null?this.maxWidth:n.width,l=this.maxHeight=this.maxHeight!==null?this.maxHeight:.5*n.height):this.verticalAlign==="center"&&(this.orientation="vertical",(this.horizontalAlign==="left"||this.horizontalAlign==="center"||this.horizontalAlign==="right")&&(i=this.horizontalAlign),r=this.maxWidth=this.maxWidth!==null?this.maxWidth:.5*n.width,l=this.maxHeight=this.maxHeight!==null?this.maxHeight:n.height),this.errorMarkerColor=[];for(var d=0;d<this.dataSeries.length;d++){var h=this.dataSeries[d];if(h.dataPoints&&h.dataPoints.length){if(h.type!=="pie"&&h.type!=="doughnut"&&h.type!=="funnel"&&h.type!=="pyramid"){var p=h.legendMarkerType=h.legendMarkerType?h.legendMarkerType:h.type!=="line"&&h.type!=="stepLine"&&h.type!=="spline"&&h.type!=="scatter"&&h.type!=="bubble"||!h.markerType?h.type==="error"&&h._linkedSeries?h._linkedSeries.legendMarkerType?h._linkedSeries.legendMarkerType:Ct.getDefaultLegendMarker(h._linkedSeries.type):Ct.getDefaultLegendMarker(h.type):h.markerType,s=h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:null}):h.name,b=h.legendMarkerColor=h.legendMarkerColor?h.legendMarkerColor:h.markerColor?h.markerColor:h.type==="error"?B(h.whiskerColor)?h._colorSet[0]:h.whiskerColor:h._colorSet[0],k=h.markerSize||h.type!=="line"&&h.type!=="stepLine"&&h.type!=="spline"?.75*this.lineHeight:0,w=h.legendMarkerBorderColor?h.legendMarkerBorderColor:h.markerBorderColor,f=h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:h.markerBorderThickness?Math.max(1,Math.round(.2*k)):0;h.type==="error"&&this.errorMarkerColor.push(b),s=h.legendText=this.chart.replaceKeywordsWithValue(s,h.dataPoints[0],h,d),p={markerType:p,markerColor:b,text:s,textBlock:null,chartType:h.type,markerSize:k,lineColor:h._colorSet[0],dataSeriesIndex:h.index,dataPointIndex:null,markerBorderColor:w,markerBorderThickness:f},m.push(p)}else for(var _=0;_<h.dataPoints.length;_++){var C=h.dataPoints[_],p=C.legendMarkerType?C.legendMarkerType:h.legendMarkerType?h.legendMarkerType:Ct.getDefaultLegendMarker(h.type),s=C.legendText?C.legendText:C.name?C.name:h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:C}):C.name?C.name:"DataPoint: "+(_+1),b=C.legendMarkerColor?C.legendMarkerColor:h.legendMarkerColor?h.legendMarkerColor:C.color?C.color:h.color?h.color:h._colorSet[_%h._colorSet.length],k=.75*this.lineHeight,w=C.legendMarkerBorderColor?C.legendMarkerBorderColor:h.legendMarkerBorderColor?h.legendMarkerBorderColor:C.markerBorderColor?C.markerBorderColor:h.markerBorderColor,f=C.legendMarkerBorderThickness?C.legendMarkerBorderThickness:h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:C.markerBorderThickness||h.markerBorderThickness?Math.max(1,Math.round(.2*k)):0,s=this.chart.replaceKeywordsWithValue(s,C,h,_),p={markerType:p,markerColor:b,text:s,textBlock:null,chartType:h.type,markerSize:k,dataSeriesIndex:d,dataPointIndex:_,markerBorderColor:w,markerBorderThickness:f};(C.showInLegend||h.showInLegend&&C.showInLegend!==!1)&&m.push(p)}B(h.legendText)&&(h.legendText=h.name)}}if(this.reversed===!0&&m.reverse(),0<m.length){for(h=null,s=C=_=0,C=this.itemWidth!==null?this.itemMaxWidth!==null?Math.min(this.itemWidth,this.itemMaxWidth,r):this.itemMaxWidth=Math.min(this.itemWidth,r):this.itemMaxWidth!==null?Math.min(this.itemMaxWidth,r):this.itemMaxWidth=r,k=k===0?.75*this.lineHeight:k,C=(this.itemMaxWidth?this.itemMaxWidth:C)-(k+x),d=0;d<m.length;d++)p=m[d],b=C,(p.chartType==="line"||p.chartType==="spline"||p.chartType==="stepLine")&&(b-=2*.1*this.lineHeight),0>=l||typeof l>"u"||0>=b||typeof b>"u"||(this.orientation==="horizontal"?(p.textBlock=new Be(this.ctx,{x:0,y:0,maxWidth:b,maxHeight:this.itemWrap?l:this.lineHeight,angle:0,text:p.text,textAlign:this.itemTextAlign,fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),this.itemWidth!==null&&(p.textBlock.width=this.itemWidth-(k+x+(p.chartType==="line"||p.chartType==="spline"||p.chartType==="stepLine"?2*.1*this.lineHeight:0))),(!h||h.width+Math.round(p.textBlock.width+k+x+(h.width===0?0:this.horizontalSpacing)+(p.chartType==="line"||p.chartType==="spline"||p.chartType==="stepLine"?2*.1*this.lineHeight:0))>r)&&(h={items:[],width:0},u.push(h),this.height+=s,s=0),s=Math.max(s,p.textBlock.height?p.textBlock.height:this.lineHeight),p.textBlock.x=h.width,p.textBlock.y=0,h.width+=Math.round(p.textBlock.width+k+x+(h.width===0?0:this.horizontalSpacing)+(p.chartType==="line"||p.chartType==="spline"||p.chartType==="stepLine"?2*.1*this.lineHeight:0)),h.items.push(p),this.width=Math.max(h.width,this.width)):(p.textBlock=new Be(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap===!0?l:1.5*this.fontSize,angle:0,text:p.text,textAlign:this.itemTextAlign,fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),this.itemWidth!==null&&(p.textBlock.width=this.itemWidth-(k+x+(p.chartType==="line"||p.chartType==="spline"||p.chartType==="stepLine"?2*.1*this.lineHeight:0))),this.height<l-this.lineHeight?(h={items:[],width:0},u.push(h)):(h=u[_],_=(_+1)%u.length),h&&(this.height+=p.textBlock.height?p.textBlock.height:this.lineHeight,p.textBlock.x=h.width,p.textBlock.y=0,h.width+=Math.round(p.textBlock.width+k+x+(h.width===0?0:this.horizontalSpacing)+(p.chartType==="line"||p.chartType==="spline"||p.chartType==="stepLine"?2*.1*this.lineHeight:0)),h.items.push(p),this.width=Math.max(h.width,this.width))));this.height=this.itemWrap===!1?u.length*this.lineHeight:this.height+s,this.height=Math.min(l,this.height),this.width=Math.min(r,this.width)}for(this.verticalAlign==="top"?(a=this.horizontalAlign==="left"?n.x1:this.horizontalAlign==="right"?n.x2-this.width:n.x1+n.width/2-this.width/2,e=n.y1):this.verticalAlign==="center"?(a=this.horizontalAlign==="left"?n.x1:this.horizontalAlign==="right"?n.x2-this.width:n.x1+n.width/2-this.width/2,e=n.y1+n.height/2-this.height/2):this.verticalAlign==="bottom"&&(a=this.horizontalAlign==="left"?n.x1:this.horizontalAlign==="right"?n.x2-this.width:n.x1+n.width/2-this.width/2,e=n.y2-this.height),this.items=m,d=0;d<this.items.length;d++)p=m[d],p.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[p.id]={id:p.id,objectType:"legendItem",legendItemIndex:d,dataSeriesIndex:p.dataSeriesIndex,dataPointIndex:p.dataPointIndex};this.markerSize=k,this.rows=u,0<m.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:a,y1:e,x2:a+this.width,y2:e+this.height}},yt.prototype.render=function(){var t=this.bounds.x1,n=this.bounds.y1,i=this.markerMargin,e=this.maxWidth,a=this.maxHeight,r=this.markerSize,l=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var x=0,m=0;m<l.length;m++){for(var u=l[m],d=0,h=0;h<u.items.length;h++){var p=u.items[h],s=p.textBlock.x+t+(h===0?.2*r:this.horizontalSpacing),b=n+x,k=s;if(this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,n,e,Math.max(a-a%this.lineHeight,0)),this.ctx.clip(),(p.chartType==="line"||p.chartType==="stepLine"||p.chartType==="spline")&&(this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(s-.1*this.lineHeight,b+this.lineHeight/2),this.ctx.lineTo(s+.85*this.lineHeight,b+this.lineHeight/2),this.ctx.stroke(),k-=.1*this.lineHeight),p.chartType==="error"){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=r/8,this.ctx.beginPath();var w=s-.08*this.lineHeight+.1*this.lineHeight,f=b+.15*this.lineHeight,_=.7*this.lineHeight,C=_+.02*this.lineHeight;this.ctx.moveTo(w,f),this.ctx.lineTo(w+_,f),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(w+_/2,f),this.ctx.lineTo(w+_/2,f+C),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(w,f+C),this.ctx.lineTo(w+_,f+C),this.ctx.stroke(),this.errorMarkerColor.shift()}Ie.drawMarker(s+r/2,b+this.lineHeight/2,this.ctx,p.markerType,p.chartType==="error"||p.chartType==="line"||p.chartType==="spline"?p.markerSize/2:p.markerSize,p.markerColor,p.markerBorderColor,p.markerBorderThickness),p.textBlock.x=s+i+r,(p.chartType==="line"||p.chartType==="stepLine"||p.chartType==="spline")&&(p.textBlock.x+=.1*this.lineHeight),p.textBlock.y=Math.round(b+this.lineHeight/2),p.textBlock.render(!0),this.ctx.restore(),d=0<h?Math.max(d,p.textBlock.height?p.textBlock.height:this.lineHeight):p.textBlock.height?p.textBlock.height:this.lineHeight,this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),s=bt(p.id),this.ghostCtx.fillStyle=s,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(k,p.textBlock.y-this.lineHeight/2,p.textBlock.x+p.textBlock.width-k,p.textBlock.height?p.textBlock.height:this.lineHeight),p.x1=this.chart._eventManager.objectMap[p.id].x1=k,p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y-this.lineHeight/2,p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width,p.y2=this.chart._eventManager.objectMap[p.id].y2=p.textBlock.y+(p.textBlock.height?p.textBlock.height:this.lineHeight)-this.lineHeight/2}x+=d}},J(Ct,De),Ct.prototype.getDefaultAxisPlacement=function(){var t=this.type;return t==="column"||t==="line"||t==="stepLine"||t==="spline"||t==="area"||t==="stepArea"||t==="splineArea"||t==="stackedColumn"||t==="stackedLine"||t==="bubble"||t==="scatter"||t==="stackedArea"||t==="stackedColumn100"||t==="stackedLine100"||t==="stackedArea100"||t==="candlestick"||t==="ohlc"||t==="rangeColumn"||t==="rangeArea"||t==="rangeSplineArea"||t==="boxAndWhisker"||t==="waterfall"?"normal":t==="bar"||t==="stackedBar"||t==="stackedBar100"||t==="rangeBar"?"xySwapped":t==="pie"||t==="doughnut"||t==="funnel"||t==="pyramid"?"none":(t!=="error"&&window.console.log("Unknown Chart Type: "+t),null)},Ct.getDefaultLegendMarker=function(t){return t==="column"||t==="stackedColumn"||t==="stackedLine"||t==="bar"||t==="stackedBar"||t==="stackedBar100"||t==="bubble"||t==="scatter"||t==="stackedColumn100"||t==="stackedLine100"||t==="stepArea"||t==="candlestick"||t==="ohlc"||t==="rangeColumn"||t==="rangeBar"||t==="rangeArea"||t==="rangeSplineArea"||t==="boxAndWhisker"||t==="waterfall"?"square":t==="line"||t==="stepLine"||t==="spline"||t==="pie"||t==="doughnut"?"circle":t==="area"||t==="splineArea"||t==="stackedArea"||t==="stackedArea100"||t==="funnel"||t==="pyramid"?"triangle":t==="error"?"none":(window.console.log("Unknown Chart Type: "+t),null)},Ct.prototype.getDataPointAtX=function(t,n,i){if(!this.dataPoints||this.dataPoints.length===0)return null;var e={dataPoint:null,distance:1/0,index:NaN},a=null,r=0,l=0,x=1,m=1/0,u=0,d=0,h=0;for(this.chart.plotInfo.axisPlacement!=="none"&&(this.axisX.logarithmic?(h=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),h=1<h?Math.min(Math.max((this.dataPoints.length-1)/h*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(h=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,h=0<h?Math.min(Math.max((this.dataPoints.length-1)/h*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(l=0<x?h+r:h-r,0<=l&&l<this.dataPoints.length){var a=this.dataPoints[l],p=this.axisX&&this.axisX.logarithmic?a.x>t?a.x/t:t/a.x:Math.abs(a.x-t);if(p<e.distance&&(B(i)||i&&!B(a.y))&&(e.dataPoint=a,e.distance=p,e.index=l),a=p,a<=m?m=a:0<x?u++:d++,1e3<u&&1e3<d)break}else if(0>h-r&&h+r>=this.dataPoints.length)break;x===-1?(r++,x=1):x=-1}return n||(e.dataPoint.x.getTime?e.dataPoint.x.getTime():e.dataPoint.x)!==(t.getTime?t.getTime():t)?n&&e.dataPoint!==null?e:null:e},Ct.prototype.getDataPointAtXY=function(t,n,i){if(!this.dataPoints||this.dataPoints.length===0||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||n<this.chart.plotArea.y1||n>this.chart.plotArea.y2)return null;i=i||!1;var e=[],a=0,r=0,l=1,x=!1,m=1/0,u=0,d=0,p=0;if(this.chart.plotInfo.axisPlacement!=="none")if(p=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:n}),this.axisX.logarithmic)var h=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),p=1<h?Math.min(Math.max((this.dataPoints.length-1)/h*Math.log(p/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else h=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,p=0<h?Math.min(Math.max((this.dataPoints.length-1)/h*(p-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(r=0<l?p+a:p-a,0<=r&&r<this.dataPoints.length){var h=this.chart._eventManager.objectMap[this.dataPointIds[r]],s=this.dataPoints[r],b=null;if(h){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=h.x1&&t<=h.x2&&n>=h.y1&&n<=h.y2&&(e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(h.x1-t),Math.abs(h.x2-t),Math.abs(h.y1-n),Math.abs(h.y2-n))}),x=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var k=xe("markerSize",s,this)||4,w=i?20:k,b=Math.sqrt(Math.pow(h.x1-t,2)+Math.pow(h.y1-n,2));b<=w&&e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:b}),h=Math.abs(h.x1-t),h<=m?m=h:0<l?u++:d++,b<=k/2&&(x=!0);break;case"rangeArea":case"rangeSplineArea":k=xe("markerSize",s,this)||4,w=i?20:k,b=Math.min(Math.sqrt(Math.pow(h.x1-t,2)+Math.pow(h.y1-n,2)),Math.sqrt(Math.pow(h.x1-t,2)+Math.pow(h.y2-n,2))),b<=w&&e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:b}),h=Math.abs(h.x1-t),h<=m?m=h:0<l?u++:d++,b<=k/2&&(x=!0);break;case"bubble":k=h.size,b=Math.sqrt(Math.pow(h.x1-t,2)+Math.pow(h.y1-n,2)),b<=k/2&&(e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:b}),x=!0);break;case"pie":case"doughnut":k=h.center,w=this.type==="doughnut"?h.percentInnerRadius*h.radius:0,b=Math.sqrt(Math.pow(k.x-t,2)+Math.pow(k.y-n,2)),b<h.radius&&b>w&&(b=Math.atan2(n-k.y,t-k.x),0>b&&(b+=2*Math.PI),b=Number(((180*(b/Math.PI)%360+360)%360).toFixed(12)),k=Number(((180*(h.startAngle/Math.PI)%360+360)%360).toFixed(12)),w=Number(((180*(h.endAngle/Math.PI)%360+360)%360).toFixed(12)),w===0&&1<h.endAngle&&(w=360),k>=w&&s.y!==0&&!B(s.y)&&(w+=360,b<k&&(b+=360)),b>k&&b<w&&(e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:0}),x=!0));break;case"funnel":case"pyramid":b=h.funnelSection,n>b.y1&&n<b.y4&&(b.y6?n>b.y6?(r=b.x6+(b.x5-b.x6)/(b.y5-b.y6)*(n-b.y6),b=b.x3+(b.x4-b.x3)/(b.y4-b.y3)*(n-b.y3)):(r=b.x1+(b.x6-b.x1)/(b.y6-b.y1)*(n-b.y1),b=b.x2+(b.x3-b.x2)/(b.y3-b.y2)*(n-b.y2)):(r=b.x1+(b.x4-b.x1)/(b.y4-b.y1)*(n-b.y1),b=b.x2+(b.x3-b.x2)/(b.y3-b.y2)*(n-b.y2)),t>r&&t<b&&(e.push({dataPoint:s,dataPointIndex:h.dataPointIndex,dataSeries:this,distance:0}),x=!0));break;case"boxAndWhisker":(t>=h.x1-h.borderThickness/2&&t<=h.x2+h.borderThickness/2&&n>=h.y4-h.borderThickness/2&&n<=h.y1+h.borderThickness/2||Math.abs(h.x2-t+h.x1-t)<h.borderThickness&&n>=h.y1&&n<=h.y4)&&(e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(h.x1-t),Math.abs(h.x2-t),Math.abs(h.y2-n),Math.abs(h.y3-n))}),x=!0);break;case"candlestick":(t>=h.x1-h.borderThickness/2&&t<=h.x2+h.borderThickness/2&&n>=h.y2-h.borderThickness/2&&n<=h.y3+h.borderThickness/2||Math.abs(h.x2-t+h.x1-t)<h.borderThickness&&n>=h.y1&&n<=h.y4)&&(e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(h.x1-t),Math.abs(h.x2-t),Math.abs(h.y2-n),Math.abs(h.y3-n))}),x=!0);break;case"ohlc":(Math.abs(h.x2-t+h.x1-t)<h.borderThickness&&n>=h.y2&&n<=h.y3||t>=h.x1&&t<=(h.x2+h.x1)/2&&n>=h.y1-h.borderThickness/2&&n<=h.y1+h.borderThickness/2||t>=(h.x1+h.x2)/2&&t<=h.x2&&n>=h.y4-h.borderThickness/2&&n<=h.y4+h.borderThickness/2)&&(e.push({dataPoint:s,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(h.x1-t),Math.abs(h.x2-t),Math.abs(h.y2-n),Math.abs(h.y3-n))}),x=!0)}if(x||1e3<u&&1e3<d)break}}else if(0>p-a&&p+a>=this.dataPoints.length)break;l===-1?(a++,l=1):l=-1}for(t=null,n=0;n<e.length;n++)t?e[n].distance<=t.distance&&(t=e[n]):t=e[n];return t},Ct.prototype.getMarkerProperties=function(t,n,i,e){var a=this.dataPoints,r=a[t].markerColor?a[t].markerColor:this.markerColor?this.markerColor:a[t].color?a[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],l=a[t].markerBorderColor?a[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,x=B(a[t].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:a[t].markerBorderThickness,m=a[t].markerType?a[t].markerType:this.markerType;return t=B(a[t].markerSize)?this.markerSize:a[t].markerSize,{x:n,y:i,ctx:e,type:m,size:t,color:r,borderColor:l,borderThickness:x}},J(at,De),at.prototype.createExtraLabelsForLog=function(t){if(t=(t||0)+1,!(5<t)){var n=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(n/this.viewportMinimum)<this.noTicks-1){for(var i=at.getNiceNumber((n-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),e=Math.ceil(this.viewportMinimum/i)*i;e<n;e+=i)e<this.viewportMinimum||this.logLabelValues.push(e);this.logLabelValues.sort(It),this.createExtraLabelsForLog(t)}}},at.prototype.createLabels=function(){var t,n,i=0,l=0,e,a=0,r=0,l=0,l=this.interval,x=0,m,u=.6*this.chart.height,d;t=!1;var h=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],p=h.length?B(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if(this.type!=="axisX"||this.valueType!=="dateTime"||this.logarithmic){if(e=this.viewportMaximum,this.labels){t=Math.ceil(l);for(var l=Math.ceil(this.intervalStartPosition),s=!1,i=l;i<this.viewportMaximum;i+=t)if(this.labels[i])s=!0;else{s=!1;break}s&&(this.interval=t,this.intervalStartPosition=l)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),l=0,s=p;l<this.logLabelValues.length;l++)if(i=this.logLabelValues[l],i<this.viewportMinimum)l++;else{for(;s<h.length&&i>h[s].endValue;s++);t=s<h.length&&i>=h[s].startValue&&i<=h[s].endValue,d=i,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:d,label:this.labels[d]?this.labels[d]:null}):this.type==="axisX"&&this.labels[d]?this.labels[d]:Re(d,this.valueFormatString,this.chart._cultureInfo),t=new Be(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:r,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:this.labelBorderThickness,padding:this.labelPadding}),this._labels.push({position:d,textBlock:t,effectiveHeight:null}))}for(s=p,i=this.intervalStartPosition;i<=e;i=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval:(this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval).toFixed(12))){for(;s<h.length&&i>h[s].endValue;s++);t=s<h.length&&i>=h[s].startValue&&i<=h[s].endValue,d=i,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:d,label:this.labels[d]?this.labels[d]:null}):this.type==="axisX"&&this.labels[d]?this.labels[d]:Re(d,this.valueFormatString,this.chart._cultureInfo),t=new Be(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:r,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",padding:this.labelPadding}),this._labels.push({position:d,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),e=it(new Date(this.viewportMaximum),this.interval,this.intervalType),s=p,i=this.intervalStartPosition;i<e;it(i,l,this.intervalType)){for(t=i.getTime();s<h.length&&t>h[s].endValue;s++);d=t,t=s<h.length&&t>=h[s].startValue&&t<=h[s].endValue,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(d),label:this.labels[d]?this.labels[d]:null}):this.type==="axisX"&&this.labels[d]?this.labels[d]:Rt(d,this.valueFormatString,this.chart._cultureInfo),t=new Be(this.ctx,{x:0,y:0,maxWidth:a,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:r,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",padding:this.labelPadding}),this._labels.push({position:d,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for(this._position==="bottom"||this._position==="top"?(x=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Qt[this.intervalType+"Duration"]*this.interval,a=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(r=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize+(typeof this.labelPadding=="object"?(this.labelPadding.top||0)+(this.labelPadding.bottom||0):2*this.labelPadding))):(this._position==="left"||this._position==="right")&&(x=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Qt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(a=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),r=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),l=0;l<this._labels.length;l++){t=this._labels[l].textBlock,t.maxWidth=a,t.maxHeight=r;var b=t.measureText();m=b.height}if(e=[],p=h=0,this.labelAutoFit||this.options.labelAutoFit){if(B(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),this._position==="bottom"||this._position==="top")if(a=Math.floor(.9*x),p=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){t=this._labels[i].textBlock;for(var k,s=t.text.split(" "),l=0;l<s.length;l++)d=s[l],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,d=this.ctx.measureText(d),d.width>p&&(k=i,p=d.width)}for(i=0,i=this.intervalStartPosition<this.viewportMinimum?1:0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){for(t=this._labels[i].textBlock,b=t.measureText(),s=i+1;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){n=this._labels[s].textBlock,n=n.measureText();break}if(e.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,e),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),B(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0){if(this.sessionVariables.labelMaxHeight=this.labelAngle===0?r:Math.min((l-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),d=(u-(m+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),!B(this.options.labelWrap))this.labelWrap?B(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,p),d),this.sessionVariables.labelWrap=this.labelWrap,n&&b.width+n.width>>0>2*a&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle):B(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelMaxWidth=a,n&&b.width+n.width>>0>2*a&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=d)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelWrap=this.labelWrap);else if(B(this.options.labelWrap)){if(!B(this.options.labelMaxWidth))this.options.labelMaxWidth<a?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=r);else if(!B(n)){if(l=b.width+n.width>>0,s=this.labelFontSize,p<a)l-2*a>h&&(h=l-2*a,l>=2*a&&l<2.2*a?(this.sessionVariables.labelMaxWidth=a,B(this.options.labelFontSize)&&12<s&&(s=Math.floor(12/13*s),t.measureText()),this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=2.2*a&&l<2.8*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelFontSize=s):l>=2.8*a&&l<3.2*a?(this.sessionVariables.labelMaxWidth=Math.max(a,p),this.sessionVariables.labelWrap=!0,B(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=3.2*a&&l<3.6*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelFontSize=this.labelFontSize):l>3.6*a&&l<5*a?(B(this.options.labelFontSize)&&12<s&&(s=Math.floor(12/13*s),t.measureText()),this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=d):l>5*a&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=s,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelAngle=this.labelAngle));else if(k===i&&(k===0&&p+this._labels[k+1].textBlock.measureText().width-2*a>h||k===this._labels.length-1&&p+this._labels[k-1].textBlock.measureText().width-2*a>h||0<k&&k<this._labels.length-1&&p+this._labels[k+1].textBlock.measureText().width-2*a>h&&p+this._labels[k-1].textBlock.measureText().width-2*a>h))h=k===0?p+this._labels[k+1].textBlock.measureText().width-2*a:p+this._labels[k-1].textBlock.measureText().width-2*a,this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=d;else if(h===0)for(this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,l=0;l<this._labels.length;l++)t=this._labels[l].textBlock,t.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,p),d),b=t.measureText(),l<this._labels.length-1&&(s=l+1,n=this._labels[s].textBlock,n.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,p),d),n=n.measureText(),b.width+n.width>>0>2*a&&(this.sessionVariables.labelAngle=-25))}}}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=this.labelAngle===0?r:Math.min((l-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),d=this.labelAngle!=0?(u-(m+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):a,this.sessionVariables.labelMaxHeight=this.labelWrap?(u-d*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,B(this.options.labelWrap)?B(this.options.labelWrap)&&(this.labelWrap&&!B(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:d,this.sessionVariables.labelMaxHeight=r):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=d,this.sessionVariables.labelMaxHeight=Math.max(l,.9*x),this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:d):(B(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:d,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=r)}for(this.sessionVariables.labelMaxHeight=Math.max(this.sessionVariables.labelMaxHeight,1.5*this.labelFontSize),l=0;l<this._labels.length;l++)t=this._labels[l].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(i=0;i<this._labels.length;i++)t=this._labels[i].textBlock,t.maxWidth=this.labelMaxWidth=B(this.options.labelMaxWidth)?B(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=B(this.options.labelFontSize)?B(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=B(this.options.labelAngle)?B(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=B(this.options.labelWrap)?B(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=B(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=r:this.sessionVariables.labelMaxHeight,t.measureText();else if(this._position==="left"||this._position==="right")if(a=B(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,r=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelAngle=B(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){for(t=this._labels[i].textBlock,b=t.measureText(),s=i+1;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){n=this._labels[s].textBlock,n=n.measureText();break}e.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,e),l=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),B(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0?B(this.options.labelWrap)?B(this.options.labelWrap)&&(B(this.options.labelMaxWidth)?B(n)||(x=b.height+n.height>>0,x-2*r>p&&(p=x-2*r,x>=2*r&&x<2.4*r?(B(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):x>=2.4*r&&x<2.8*r?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):x>=2.8*r&&x<3.2*r?(this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelWrap=!0,B(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=B(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):x>=3.2*r&&x<3.6*r?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):x>3.6*r&&x<10*r?(B(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelAngle=B(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):x>10*r&&x<50*r&&(B(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=B(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelAngle=B(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=r):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=this.labelAngle===0?a:Math.min((l-r*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),r),B(this.options.labelWrap)?B(this.options.labelWrap)&&(this.labelWrap&&!B(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=this.labelAngle===0?r:l,B(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=this.labelAngle===0?r:l,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=a):(this.sessionVariables.labelMaxHeight=r,B(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(l=0;l<this._labels.length;l++)t=this._labels[l].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(B(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=r),i=0;i<this._labels.length;i++)t=this._labels[i].textBlock,t.maxWidth=this.labelMaxWidth=B(this.options.labelMaxWidth)?B(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=B(this.options.labelFontSize)?B(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=B(this.options.labelAngle)?B(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=B(this.options.labelWrap)?B(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=B(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=r:this.sessionVariables.labelMaxHeight,t.measureText()}for(i=0;i<this.stripLines.length;i++){var a=this.stripLines[i],w;a.labelFontSize=a.labelPlacement==="outside"&&B(a.options.labelFontSize)?this.labelFontSize:a.labelFontSize,a.labelFontFamily=a.labelPlacement==="outside"&&B(a.options.labelFontFamily)?this.labelFontFamily:a.labelFontFamily,a.labelFontWeight=a.labelPlacement==="outside"&&B(a.options.labelFontWeight)?this.labelFontWeight:a.labelFontWeight,a.labelFontStyle=a.labelPlacement==="outside"&&B(a.options.labelFontStyle)?this.labelFontStyle:a.labelFontStyle,a.labelPlacement==="outside"?(r=this.sessionVariables.labelMaxWidth,(this._position==="bottom"||this._position==="top")&&(B(a.options.labelWrap)&&!B(this.sessionVariables.stripLineLabelMaxHeight)?w=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=w=a.labelWrap?.8*this.chart.height>>0:1.5*a.labelFontSize+(typeof a.labelPadding=="object"?(a.labelPadding.top||0)+(a.labelPadding.bottom||0):2*a.labelPadding)),(this._position==="left"||this._position==="right")&&(B(a.options.labelWrap)&&!B(this.sessionVariables.stripLineLabelMaxHeight)?w=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=w=a.labelWrap?.8*this.chart.width>>0:1.5*a.labelFontSize+(typeof a.labelPadding=="object"?(a.labelPadding.top||0)+(a.labelPadding.bottom||0):2*a.labelPadding)),B(a.labelBackgroundColor)&&(a.labelBackgroundColor="#EEEEEE")):(r=this._position==="bottom"||this._position==="top"?.9*this.chart.width>>0:.9*this.chart.height>>0,w=B(a.options.labelWrap)||a.labelWrap?this._position==="bottom"||this._position==="top"?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*a.labelFontSize+(typeof a.labelPadding=="object"?(a.labelPadding.top||0)+(a.labelPadding.bottom||0):2*a.labelPadding),B(a.labelBackgroundColor)&&(B(a.startValue)&&a.startValue!==0?a.labelBackgroundColor=R?"transparent":null:a.labelBackgroundColor="#EEEEEE")),t=new Be(this.ctx,{x:0,y:0,backgroundColor:a.labelBackgroundColor,borderColor:a.labelBorderColor,borderThickness:a.labelBorderThickness,cornerRadius:a.labelCornerRadius,maxWidth:a.options.labelMaxWidth?a.options.labelMaxWidth:r,maxHeight:w,angle:this.labelAngle,text:a.labelFormatter?a.labelFormatter({chart:this.chart,axis:this,stripLine:a}):a.label,textAlign:a.labelTextAlign,fontSize:a.labelFontSize,fontFamily:a.labelFontFamily,fontWeight:a.labelFontWeight,fontColor:a.labelFontColor||a.color,fontStyle:a.labelFontStyle,textBaseline:"middle",padding:a.labelPadding}),this._stripLineLabels.push({position:a.value,textBlock:t,effectiveHeight:null,stripLine:a})}},at.prototype.createLabelsAndCalculateWidth=function(){var t=0,n=0;this._labels=[],this._stripLineLabels=[];var i=this.chart.isNavigator?0:5;if(this.labelEffectiveWidth=B(this.labelEffectiveWidth)?0:this.labelEffectiveWidth,this._position==="left"||this._position==="right"){for(this.createLabels(),n=0;n<this._labels.length;n++){var e=this._labels[n].textBlock,e=e.measureText(),a=0,a=this.labelAngle===0?e.width:e.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+e.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle));t<=a&&(this.labelEffectiveWidth=t=a),this._labels[n].effectiveWidth=a}for(n=0;n<this._stripLineLabels.length;n++)this._stripLineLabels[n].stripLine.labelPlacement==="outside"&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(e=this._stripLineLabels[n].textBlock,e=e.measureText(),a=this.labelAngle===0?e.width:e.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+e.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(a+=this.tickLength),this.labelPlacement==="inside"&&(t+=a+i),t<=a&&(t=a),this.stripLineLabelEffectiveWidth=this._stripLineLabels[n].effectiveWidth=a)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+this.tickLength+i},at.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var n,i=0,e=this.chart.isNavigator?0:5;if(this.labelEffectiveHeight=B(this.labelEffectiveHeight)?0:this.labelEffectiveHeight,this._position==="bottom"||this._position==="top"){for(this.createLabels(),i=0;i<this._labels.length;i++){n=this._labels[i].textBlock,n=n.measureText();var a=0,a=this.labelAngle===0?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle));t<=a&&(this.labelEffectiveHeight=t=a),this._labels[i].effectiveHeight=a}for(i=0;i<this._stripLineLabels.length;i++)this._stripLineLabels[i].stripLine.labelPlacement==="outside"&&this._stripLineLabels[i].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[i].stripLine.value<=this.viewportMaximum&&(n=this._stripLineLabels[i].textBlock,n=n.measureText(),a=this.labelAngle===0?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(a+=this.tickLength),this.labelPlacement==="inside"&&(t+=a+e),t<=a&&(t=a),this.stripLineLabelEffectiveHeight=this._stripLineLabels[i].effectiveHeight=a)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+this.tickLength+e},at.setLayout=function(t,n,i,e,a,r){var l,x,m,u,d=t[0]?t[0].chart:n[0].chart,h=d.isNavigator?0:10,p=d._axes;if(t&&0<t.length)for(var s=0;s<t.length;s++)t[s]&&t[s].calculateAxisParameters();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateAxisParameters();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].calculateAxisParameters();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].calculateAxisParameters();for(s=0;s<p.length;s++)if(p[s]&&p[s].scaleBreaks&&p[s].scaleBreaks._appliedBreaks.length)for(var b=p[s].scaleBreaks._appliedBreaks,k=0;k<b.length&&!(b[k].startValue>p[s].viewportMaximum);k++)b[k].endValue<p[s].viewportMinimum||(B(p[s].scaleBreaks.firstBreakIndex)&&(p[s].scaleBreaks.firstBreakIndex=k),b[k].startValue>=p[s].viewPortMinimum&&(p[s].scaleBreaks.lastBreakIndex=k));for(var w=k=0,f=0,_=0,C=0,E=0,D=0,V,et,xt=x=0,U,K,j,b=U=K=j=!1,s=0;s<p.length;s++)p[s]&&p[s].title&&(p[s]._titleTextBlock=new Be(p[s].ctx,{text:p[s].title,fontSize:p[s].titleFontSize,fontFamily:p[s].titleFontFamily,fontWeight:p[s].titleFontWeight,fontColor:p[s].titleFontColor,fontStyle:p[s].titleFontStyle,borderColor:p[s].titleBorderColor,borderThickness:p[s].titleBorderThickness,backgroundColor:p[s].titleBackgroundColor,cornerRadius:p[s].titleCornerRadius,textBaseline:"middle",textAlign:p[s].titleTextAlign,padding:p[s].titlePadding}));for(s=0;s<p.length;s++)if(p[s].title){var N=1.5*p[s].titleFontSize+(typeof p[s].titlePadding=="object"?(p[s].titlePadding.top||0)+(p[s].titlePadding.bottom||0):2*p[s].titlePadding);switch(p[s]._titleTextBlock.maxWidth=p[s].titleMaxWidth||r.height,p[s]._titleTextBlock.maxHeight=p[s].titleWrap?.8*r.width:Math.min(N,.8*r.width),p[s]._position){case"left":p[s]._titleTextBlock.angle=-90;break;case"right":p[s]._titleTextBlock.angle=90;break;default:p[s]._titleTextBlock.maxWidth=p[s].titleMaxWidth||r.width,p[s]._titleTextBlock.maxHeight=p[s].titleWrap?.8*r.height:Math.min(N,.8*r.height),p[s]._titleTextBlock.angle=0}}if(a==="normal"){for(var _=[],C=[],E=[],D=[],F=[],G=[],ct=[],Y=[];4>k;){var $t=0,pe=0,be=0,me=0,ie=N=a=0,we=0,le=0,te=0,_t=l=0;if(i&&0<i.length)for(E=[],s=l=0;s<i.length;s++)E.push(Math.ceil(i[s]?i[s].createLabelsAndCalculateWidth():0)),l+=E[s],ie+=i[s]&&!d.isNavigator?i[s].margin:0;else E.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(ct.push(E),e&&0<e.length)for(D=[],s=_t=0;s<e.length;s++)D.push(Math.ceil(e[s]?e[s].createLabelsAndCalculateWidth():0)),_t+=D[s],we+=e[s]?e[s].margin:0;else D.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(Y.push(D),l=Math.round(r.x1+l+ie-(i[0]?(i[0].labelPlacement==="inside"?i[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(i[0].tickPlacement==="inside"?i[0].tickLength:0):0)),m=Math.round(Math.min(r.x2-_t-we+(e[0]?(e[0].labelPlacement==="inside"?e[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(e[0].tickPlacement==="inside"?e[0].tickLength:0):0),d.width-h)),t&&0<t.length)for(_=[],s=le=0;s<t.length;s++)t[s]&&(t[s].lineCoordinates={}),t[s].lineCoordinates.width=Math.abs(m-l),t[s].title&&(t[s]._titleTextBlock.maxWidth=0<t[s].titleMaxWidth&&t[s].titleMaxWidth<t[s].lineCoordinates.width?t[s].titleMaxWidth:t[s].lineCoordinates.width),_.push(Math.ceil(t[s]?t[s].createLabelsAndCalculateHeight():0)),le+=_[s],a+=t[s]&&!d.isNavigator?t[s].margin:0;else _.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(F.push(_),n&&0<n.length)for(C=[],s=te=0;s<n.length;s++)n[s]&&(n[s].lineCoordinates={}),n[s].lineCoordinates.width=Math.abs(m-l),n[s].title&&(n[s]._titleTextBlock.maxWidth=0<n[s].titleMaxWidth&&n[s].titleMaxWidth<n[s].lineCoordinates.width?n[s].titleMaxWidth:n[s].lineCoordinates.width),C.push(Math.ceil(n[s]?n[s].createLabelsAndCalculateHeight():0)),te+=C[s],N+=n[s]&&!d.isNavigator?n[s].margin:0;else C.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(G.push(C),t&&0<t.length)for(s=0;s<t.length;s++){if(t[s]){if(t[s].lineCoordinates.x1=l,m=Math.round(Math.min(r.x2-_t-we+(e[0]?(e[0].labelPlacement==="inside"?e[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(e[0].tickPlacement==="inside"?e[0].tickLength:0):0),d.width-h)),t[s]._labels&&1<t[s]._labels.length){var Dt=x=0;x=t[s]._labels[1],Dt=t[s].valueType==="dateTime"?t[s]._labels[t[s]._labels.length-2]:t[s]._labels[t[s]._labels.length-1],w=x.textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-x.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),f=Dt.textBlock.width*Math.cos(Math.PI/180*Math.abs(Dt.textBlock.angle))+Dt.textBlock.height*Math.sin(Math.PI/180*Math.abs(Dt.textBlock.angle))}!t[s]||!t[s].labelAutoFit||B(V)||B(et)||d.isNavigator||d.stockChart||(x=0,0<t[s].labelAngle?(u=f-(Dt.textBlock.height-Dt.textBlock._lineHeight/2)*Math.sin(Math.PI/180*Dt.textBlock.angle),et+u>m&&t[s].convertPixelToValue(et)>=t[s].viewportMinimum&&t[s].convertPixelToValue(et)<=t[s].viewportMaximum&&(x+=et+u-m-_t)):0>t[s].labelAngle?V-w<l&&V-w<t[s].viewportMinimum&&(xt=l-(ie+t[s].tickLength+E+V-w+t[s].labelFontSize/2)):t[s].labelAngle===0&&(et+f>m&&t[s].convertPixelToValue(et)>=t[s].viewportMinimum&&t[s].convertPixelToValue(et)<=t[s].viewportMaximum&&(x=et+f/2-m-_t),V-w<l&&V-w<t[s].viewportMinimum&&(xt=l-ie-t[s].tickLength-E-V+w/2)),t[s].viewportMaximum===t[s].maximum&&t[s].viewportMinimum===t[s].minimum&&0<t[s].labelAngle&&0<x?m-=x:t[s].viewportMaximum===t[s].maximum&&t[s].viewportMinimum===t[s].minimum&&0>t[s].labelAngle&&0<xt?l+=xt:t[s].viewportMaximum===t[s].maximum&&t[s].viewportMinimum===t[s].minimum&&t[s].labelAngle===0&&(0<xt&&(l+=xt),0<x&&(m-=x))),d.panEnabled?le=B(d.sessionVariables.axisX.height)||d.stockChart?d.sessionVariables.axisX.height=le:d.sessionVariables.axisX.height:d.sessionVariables.axisX.height=le,x=Math.round(r.y2-le-a+$t),u=Math.round(r.y2),t[s].lineCoordinates.x2=m,t[s].lineCoordinates.width=m-l,t[s].lineCoordinates.y1=x,t[s].lineCoordinates.y2=x,t[s].bounds={x1:l,y1:x,x2:m,y2:u-(le+a-_[s]-$t),width:m-l},t[s].bounds.height=t[s].bounds.y2-t[s].bounds.y1,t[s].labelPlacement==="inside"&&(t[s].lineCoordinates.y1=t[0].bounds.y1+$t+(t[s].labelEffectiveHeight||0)+(d.isNavigator?0:5),t[s].lineCoordinates.y2=t[s].lineCoordinates.y1+t[s].lineThickness/2),t[s].tickPlacement==="inside"&&(t[s].lineCoordinates.y1+=t[s].tickLength,t[s].lineCoordinates.y2=t[s].lineCoordinates.y1+t[s].lineThickness/2)}$t+=_[s]+t[s].margin}if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].lineCoordinates.x1=l,n[s].lineCoordinates.x2=m,n[s].lineCoordinates.width=Math.abs(m-l),n[s]._labels&&1<n[s]._labels.length&&(x=n[s]._labels[1],Dt=n[s].valueType==="dateTime"?n[s]._labels[n[s]._labels.length-2]:n[s]._labels[n[s]._labels.length-1],w=x.textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-Dt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),f=Dt.textBlock.width*Math.cos(Math.PI/180*Math.abs(Dt.textBlock.angle))+(Dt.textBlock.height-Dt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(Dt.textBlock.angle))),d.panEnabled?te=B(d.sessionVariables.axisX2.height)||d.stockChart?d.sessionVariables.axisX2.height=te:d.sessionVariables.axisX2.height:d.sessionVariables.axisX2.height=te,x=Math.round(r.y1),u=n[s].lineCoordinates.y1=x+te+N-pe,n[s].lineCoordinates.y2=x,n[s].bounds={x1:l,y1:x+(te+N-C[s]-pe),x2:m,y2:u,width:m-l},n[s].bounds.height=n[s].bounds.y2-n[s].bounds.y1,n[s].labelPlacement==="inside"&&(n[s].lineCoordinates.y1=n[0].bounds.y2-pe-(n[s].labelEffectiveHeight||0)-5),n[s].tickPlacement==="inside"&&(n[s].lineCoordinates.y1-=n[s].tickLength),pe+=C[s]+n[s].margin;if(i&&0<i.length)for(s=0;s<i.length;s++)ie=d.isNavigator?0:10,i[s]&&(l=m=Math.round((t[0]?t[0].lineCoordinates.x1:n[0].lineCoordinates.x1)+(i[0]?(i[0].labelPlacement==="inside"?i[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(i[0].tickPlacement==="inside"?i[0].tickLength:0):0)),ie=i[s]._labels&&0<i[s]._labels.length?i[s]._labels[i[s]._labels.length-1].textBlock._lineHeight/2:h,x=Math.round(Math.max(r.y1+te+N-(n[0]?(n[0].labelPlacement==="inside"?n[0].labelEffectiveHeight+5:0)+(n[0].tickPlacement==="inside"?n[0].tickLength:0):0),Math.max(ie,h))),ie=0<t.length?0:i[s]._labels&&0<i[s]._labels.length?i[s]._labels[0].textBlock.height/2:h,u=Math.round(r.y2-le+(t[0]?(t[0].labelPlacement==="inside"?t[0].labelEffectiveHeight+(d.isNavigator?0:5):0)+(t[0].tickPlacement==="inside"?t[0].tickLength:0):0)-a-ie),i[s].lineCoordinates={x1:l-be,y1:x,x2:m-be,y2:u,height:Math.abs(u-x)},i[s].bounds={x1:l-(E[s]+be),y1:x,x2:m-be,y2:u,height:u-x},i[s].bounds.width=i[s].bounds.x2-i[s].bounds.x1,i[s].labelPlacement==="inside"&&(i[s].lineCoordinates.x1=i[0].bounds.x1+E[0]-be-(i[s].labelEffectiveWidth||0)-5,i[s].lineCoordinates.x2=i[s].lineCoordinates.x1+i[s].lineThickness/2),i[s].tickPlacement==="inside"&&(i[s].lineCoordinates.x1-=i[s].tickLength,i[s].lineCoordinates.x2=i[s].lineCoordinates.x1+i[s].lineThickness/2),i[s].title&&(i[s]._titleTextBlock.maxWidth=0<i[s].titleMaxWidth&&i[s].titleMaxWidth<i[s].lineCoordinates.height?i[s].titleMaxWidth:i[s].lineCoordinates.height),be+=E[s]+i[s].margin);if(e&&0<e.length)for(s=0;s<e.length;s++)e[s]&&(l=m=Math.round((t[0]?t[0].lineCoordinates.x2:n[0].lineCoordinates.x2)-(e[0]?(e[0].labelPlacement==="inside"?e[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(e[0].tickPlacement==="inside"?e[0].tickLength:0):0)),ie=e[s]._labels&&0<e[s]._labels.length?e[s]._labels[e[s]._labels.length-1].textBlock.height/2:0,x=Math.round(Math.max(r.y1+te+N-(n[0]?(n[0].labelPlacement==="inside"?n[0].labelEffectiveHeight+(d.isNavigator?0:5):0)+(n[0].tickPlacement==="inside"?n[0].tickLength:0):0),Math.max(ie,h))),ie=0<t.length?0:e[s]._labels&&0<e[s]._labels.length?e[s]._labels[0].textBlock.height/2:0,u=Math.round(r.y2-(le+a+ie)+(t[0]?(t[0].labelPlacement==="inside"?t[0].labelEffectiveHeight+(d.isNavigator?0:5):0)+(t[0].tickPlacement==="inside"?t[0].tickLength:0):0)),e[s].lineCoordinates={x1:l+me,y1:x,x2:l+me,y2:u,height:Math.abs(u-x)},e[s].bounds={x1:l+me,y1:x,x2:m+D[s]+me,y2:u,height:u-x},e[s].bounds.width=e[s].bounds.x2-e[s].bounds.x1,e[s].labelPlacement==="inside"&&(e[s].lineCoordinates.x1=e[0].bounds.x1+me+(e[s].labelEffectiveWidth||0)+(d.isNavigator?0:5),e[s].lineCoordinates.x2=e[s].lineCoordinates.x1+e[s].lineThickness/2),e[s].tickPlacement==="inside"&&(e[s].lineCoordinates.x1+=e[s].tickLength,e[s].lineCoordinates.x2=e[s].lineCoordinates.x1+e[s].lineThickness/2),e[s].title&&(e[s]._titleTextBlock.maxWidth=0<e[s].titleMaxWidth&&e[s].titleMaxWidth<e[s].lineCoordinates.height?e[s].titleMaxWidth:e[s].lineCoordinates.height),me+=D[s]+e[s].margin);if(t&&0<t.length)for(s=0;s<t.length;s++)t[s]&&(t[s].calculateValueToPixelConversionParameters(),t[s].calculateBreaksSizeInValues(),t[s]._labels&&1<t[s]._labels.length&&(V=(t[s].logarithmic?Math.log(t[s]._labels[1].position/t[s].viewportMinimum)/t[s].conversionParameters.lnLogarithmBase:t[s]._labels[1].position-t[s].viewportMinimum)*Math.abs(t[s].conversionParameters.pixelPerUnit)+t[s].lineCoordinates.x1,l=t[s]._labels[t[s]._labels.length-(t[s].valueType==="dateTime"?2:1)].position,l=t[s].getApparentDifference(t[s].viewportMinimum,l),et=t[s].logarithmic?(1<l?Math.log(l)/t[s].conversionParameters.lnLogarithmBase*Math.abs(t[s].conversionParameters.pixelPerUnit):0)+t[s].lineCoordinates.x1:(0<l?l*Math.abs(t[s].conversionParameters.pixelPerUnit):0)+t[s].lineCoordinates.x1));if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateValueToPixelConversionParameters(),n[s].calculateBreaksSizeInValues(),n[s]._labels&&1<n[s]._labels.length&&(V=(n[s].logarithmic?Math.log(n[s]._labels[1].position/n[s].viewportMinimum)/n[s].conversionParameters.lnLogarithmBase:n[s]._labels[1].position-n[s].viewportMinimum)*Math.abs(n[s].conversionParameters.pixelPerUnit)+n[s].lineCoordinates.x1,l=n[s]._labels[n[s]._labels.length-(n[s].valueType==="dateTime"?2:1)].position,l=n[s].getApparentDifference(n[s].viewportMinimum,l),et=n[s].logarithmic?(1<l?Math.log(l)/n[s].conversionParameters.lnLogarithmBase*Math.abs(n[s].conversionParameters.pixelPerUnit):0)+n[s].lineCoordinates.x1:(0<l?l*Math.abs(n[s].conversionParameters.pixelPerUnit):0)+n[s].lineCoordinates.x1);for(s=0;s<p.length;s++)p[s].type==="axisY"&&(p[s].calculateValueToPixelConversionParameters(),p[s].calculateBreaksSizeInValues());if(0<k){if(t&&0<t.length)for(s=0;s<t.length;s++)b=F[k-1][s]===F[k][s];else b=!0;if(n&&0<n.length)for(s=0;s<n.length;s++)U=G[k-1][s]===G[k][s];else U=!0;if(i&&0<i.length)for(s=0;s<i.length;s++)K=ct[k-1][s]===ct[k][s];else K=!0;if(e&&0<e.length)for(s=0;s<e.length;s++)j=Y[k-1][s]===Y[k][s];else j=!0}if(b&&U&&K&&j)break;k++}if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].calculateStripLinesThicknessInValues(),t[s].calculateBreaksInPixels();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateStripLinesThicknessInValues(),n[s].calculateBreaksInPixels();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].calculateStripLinesThicknessInValues(),i[s].calculateBreaksInPixels();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].calculateStripLinesThicknessInValues(),e[s].calculateBreaksInPixels()}else{for(h=[],V=[],xt=[],w=[],f=[],et=[],F=[],G=[];4>k;){if(le=me=be=we=ie=N=a=Y=ct=$t=te=0,t&&0<t.length)for(xt=[],s=me=0;s<t.length;s++)xt.push(Math.ceil(t[s]?t[s].createLabelsAndCalculateWidth():0)),me+=xt[s],a+=t[s]&&!d.isNavigator?t[s].margin:0;else xt.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(F.push(xt),n&&0<n.length)for(w=[],s=le=0;s<n.length;s++)w.push(Math.ceil(n[s]?n[s].createLabelsAndCalculateWidth():0)),le+=w[s],N+=n[s]?n[s].margin:0;else w.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(G.push(w),i&&0<i.length)for(s=0;s<i.length;s++)i[s].lineCoordinates={},l=Math.round(r.x1+me+a-(t[0]?(t[0].labelPlacement==="inside"?t[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(t[0].tickPlacement==="inside"?t[0].tickLength:0):0)),m=Math.round(Math.min(r.x2-le-N+(n[0]?(n[0].labelPlacement==="inside"?n[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(n[0].tickPlacement==="inside"?n[0].tickLength:0):0),d.width-10)),i[s].labelAutoFit&&!B(_)&&(0<!t.length&&(l=0>i[s].labelAngle?Math.max(l,_):i[s].labelAngle===0?Math.max(l,_/2):l),0<!n.length&&(m=0<i[s].labelAngle||i[s].labelAngle===0?m-C/2:m)),i[s].lineCoordinates.x1=l,i[s].lineCoordinates.x2=m,i[s].lineCoordinates.width=Math.abs(m-l),i[s].title&&(i[s]._titleTextBlock.maxWidth=0<i[s].titleMaxWidth&&i[s].titleMaxWidth<i[s].lineCoordinates.width?i[s].titleMaxWidth:i[s].lineCoordinates.width);if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].lineCoordinates={},l=Math.round(r.x1+me+a-(t[0]?(t[0].labelPlacement==="inside"?t[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(t[0].tickPlacement==="inside"?t[0].tickLength:0):0)),m=Math.round(Math.min(r.x2-le-N+(n[0]?(n[0].labelPlacement==="inside"?n[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(n[0].tickPlacement==="inside"?n[0].tickLength:0):0),e[s].chart.width-10)),e[s]&&e[s].labelAutoFit&&!B(E)&&(0<!t.length&&(l=0<e[s].labelAngle?Math.max(l,E):e[s].labelAngle===0?Math.max(l,E/2):l),0<!n.length&&(m-=D/2)),e[s].lineCoordinates.x1=l,e[s].lineCoordinates.x2=m,e[s].lineCoordinates.width=Math.abs(m-l),e[s].title&&(e[s]._titleTextBlock.maxWidth=0<e[s].titleMaxWidth&&e[s].titleMaxWidth<e[s].lineCoordinates.width?e[s].titleMaxWidth:e[s].lineCoordinates.width);if(i&&0<i.length)for(h=[],s=be=0;s<i.length;s++)h.push(Math.ceil(i[s]?i[s].createLabelsAndCalculateHeight():0)),be+=h[s]+i[s].margin,ie+=i[s].margin;else h.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(f.push(h),e&&0<e.length)for(V=[],s=0;s<e.length;s++)V.push(Math.ceil(e[s]?e[s].createLabelsAndCalculateHeight():0)),we+=e[s].margin;else V.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(et.push(V),i&&0<i.length)for(s=0;s<i.length;s++)0<i[s]._labels.length&&(x=i[s]._labels[0],Dt=i[s]._labels[i[s]._labels.length-1],_=x.textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-Dt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),C=Dt.textBlock.width*Math.cos(Math.PI/180*Math.abs(Dt.textBlock.angle))+(Dt.textBlock.height-Dt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(Dt.textBlock.angle)));if(e&&0<e.length)for(s=0;s<e.length;s++)e[s]&&0<e[s]._labels.length&&(x=e[s]._labels[0],Dt=e[s]._labels[e[s]._labels.length-1],E=x.textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-Dt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),D=Dt.textBlock.width*Math.cos(Math.PI/180*Math.abs(Dt.textBlock.angle))+(Dt.textBlock.height-Dt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(Dt.textBlock.angle)));if(d.panEnabled)for(s=0;s<i.length;s++)h[s]=B(d.sessionVariables.axisY[s].height)?d.sessionVariables.axisY[s].height=h[s]:d.sessionVariables.axisY[s].height;else for(s=0;s<i.length;s++)d.sessionVariables.axisY[s].height=h[s];if(i&&0<i.length)for(s=i.length-1;0<=s;s--)x=Math.round(r.y2),u=Math.round(r.y2>i[s].chart.height?i[s].chart.height:r.y2),i[s].lineCoordinates.y1=x-(h[s]+i[s].margin+te),i[s].lineCoordinates.y2=x-(h[s]+i[s].margin+te),i[s].labelPlacement==="inside"&&(i[s].lineCoordinates.y1=i[s].lineCoordinates.y1+i[s].labelEffectiveHeight+(d.isNavigator?0:5),i[s].lineCoordinates.y2=i[s].lineCoordinates.y1+i[s].lineThickness/2),i[s].tickPlacement==="inside"&&(i[s].lineCoordinates.y1+=i[s].tickLength,i[s].lineCoordinates.y2=i[s].lineCoordinates.y1+i[s].lineThickness/2),i[s].bounds={x1:l,y1:x-(h[s]+te+i[s].margin),x2:m,y2:u-(te+i[s].margin),width:m-l,height:h[s]},i[s].title&&(i[s]._titleTextBlock.maxWidth=0<i[s].titleMaxWidth&&i[s].titleMaxWidth<i[s].lineCoordinates.width?i[s].titleMaxWidth:i[s].lineCoordinates.width),te+=h[s]+i[s].margin;if(e&&0<e.length)for(s=e.length-1;0<=s;s--)e[s]&&(x=Math.round(r.y1),u=Math.round(r.y1+(V[s]+e[s].margin+$t)),e[s].lineCoordinates.y1=u,e[s].lineCoordinates.y2=u,e[s].labelPlacement==="inside"&&(e[s].lineCoordinates.y1=u-e[s].labelEffectiveHeight-5,e[s].lineCoordinates.y2=e[s].lineCoordinates.y1-e[s].lineThickness/2),e[s].tickPlacement==="inside"&&(e[s].lineCoordinates.y1-=e[s].tickLength,e[s].lineCoordinates.y2=e[s].lineCoordinates.y1-e[s].lineThickness/2),e[s].bounds={x1:l,y1:x+(e[s].margin+$t),x2:m,y2:u,width:m-l},e[s].bounds.height=e[s].bounds.y2-e[s].bounds.y1,e[s].title&&(e[s]._titleTextBlock.maxWidth=0<e[s].titleMaxWidth&&e[s].titleMaxWidth<e[s].lineCoordinates.width?e[s].titleMaxWidth:e[s].lineCoordinates.width),$t+=V[s]+e[s].margin);if(t&&0<t.length)for(s=0;s<t.length;s++){if(ie=t[s]._labels&&0<t[s]._labels.length?t[s]._labels[0].textBlock.fontSize/2:0,l=Math.round(r.x1+a),x=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:r.y1<Math.max(ie,10)?Math.max(ie,10):r.y1):r.y1<Math.max(ie,10)?Math.max(ie,10):r.y1,m=Math.round(r.x1+me+a),u=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:r.y2-be>d.height-Math.max(ie,10)?d.height-Math.max(ie,10):r.y2-be):r.y2>d.height-Math.max(ie,10)?d.height-Math.max(ie,10):r.y2,i&&0<i.length)for(Dt=0;Dt<i.length;Dt++)i[Dt]&&i[Dt].labelAutoFit&&(m=i[Dt].lineCoordinates.x1+(t[0]?(t[0].labelPlacement==="inside"?t[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(t[0].tickPlacement==="inside"?t[0].tickLength:0):0),l=0>i[Dt].labelAngle||i[Dt].labelAngle===0?m-me:l);if(e&&0<e.length)for(Dt=0;Dt<e.length;Dt++)e[Dt]&&e[Dt].labelAutoFit&&(m=e[Dt].lineCoordinates.x1+(t[0]?(t[0].labelPlacement==="inside"?t[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(t[0].tickPlacement==="inside"?t[0].tickLength:0):0),l=m-me);t[s].lineCoordinates={x1:m-ct,y1:x,x2:m-ct,y2:u,height:Math.abs(u-x)},t[s].labelPlacement==="inside"&&(t[s].lineCoordinates.x1=t[s].lineCoordinates.x1-t[s].labelEffectiveWidth-5,t[s].lineCoordinates.x2=t[s].lineCoordinates.x1+t[s].lineThickness/2),t[s].tickPlacement==="inside"&&(t[s].lineCoordinates.x1-=t[s].tickLength,t[s].lineCoordinates.x2=t[s].lineCoordinates.x1+t[s].lineThickness/2),t[s].bounds={x1:m-(xt[s]+ct),y1:x,x2:m-ct,y2:u,height:u-x},t[s].bounds.width=t[s].bounds.x2-t[s].bounds.x1,t[s].title&&(t[s]._titleTextBlock.maxWidth=0<t[s].titleMaxWidth&&t[s].titleMaxWidth<t[s].lineCoordinates.height?t[s].titleMaxWidth:t[s].lineCoordinates.height),t[s].calculateValueToPixelConversionParameters(),t[s].calculateBreaksSizeInValues(),ct+=xt[s]+t[s].margin}if(n&&0<n.length)for(s=0;s<n.length;s++){if(ie=n[s]._labels&&0<n[s]._labels.length?n[s]._labels[0].textBlock.fontSize/2:0,m=Math.round(r.x1-N),x=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:r.y1<Math.max(ie,10)?Math.max(ie,10):r.y1):r.y1<Math.max(ie,10)?Math.max(ie,10):r.y1,l=Math.round(r.x2-le-N),u=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:r.y2-be>d.height-Math.max(ie,10)?d.height-Math.max(ie,10):r.y2-be):r.y2>d.height-Math.max(ie,10)?d.height-Math.max(ie,10):r.y2,i&&0<i.length)for(Dt=0;Dt<i.length;Dt++)i[Dt]&&i[Dt].labelAutoFit&&(l=i[Dt].lineCoordinates.x2-(n[0]?(n[0].labelPlacement==="inside"?n[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(n[0].tickPlacement==="inside"?n[0].tickLength:0):0),m=0>i[Dt].labelAngle||i[Dt].labelAngle===0?l+le:l);if(e&&0<e.length)for(Dt=0;Dt<e.length;Dt++)e[Dt]&&e[Dt].labelAutoFit&&(l=e[Dt].lineCoordinates.x2-(n[0]?(n[0].labelPlacement==="inside"?n[0].labelEffectiveWidth+(d.isNavigator?0:5):0)+(n[0].tickPlacement==="inside"?n[0].tickLength:0):0),m=l+le);n[s].lineCoordinates={x1:l+Y,y1:x,x2:l+Y,y2:u,height:Math.abs(u-x)},n[s].labelPlacement==="inside"&&(n[s].lineCoordinates.x1=n[s].lineCoordinates.x1+n[s].labelEffectiveWidth+(d.isNavigator?0:5),n[s].lineCoordinates.x2=n[s].lineCoordinates.x1+n[s].lineThickness/2),n[s].tickPlacement==="inside"&&(n[s].lineCoordinates.x1+=n[s].tickLength,n[s].lineCoordinates.x2=n[s].lineCoordinates.x1+n[s].lineThickness/2),n[s].bounds={x1:l+Y,y1:x,x2:l+w[s]+Y,y2:u,height:u-x},n[s].bounds.width=n[s].bounds.x2-n[s].bounds.x1,n[s].title&&(n[s]._titleTextBlock.maxWidth=0<n[s].titleMaxWidth&&n[s].titleMaxWidth<n[s].lineCoordinates.height?n[s].titleMaxWidth:n[s].lineCoordinates.height),n[s].calculateValueToPixelConversionParameters(),n[s].calculateBreaksSizeInValues(),Y+=w[s]+n[s].margin}for(s=0;s<p.length;s++)p[s].type==="axisY"&&(p[s].calculateValueToPixelConversionParameters(),p[s].calculateBreaksSizeInValues());if(0<k){if(t&&0<t.length)for(s=0;s<t.length;s++)b=F[k-1][s]===F[k][s];else b=!0;if(n&&0<n.length)for(s=0;s<n.length;s++)U=G[k-1][s]===G[k][s];else U=!0;if(i&&0<i.length)for(s=0;s<i.length;s++)K=f[k-1][s]===f[k][s];else K=!0;if(e&&0<e.length)for(s=0;s<e.length;s++)j=et[k-1][s]===et[k][s];else j=!0}if(b&&U&&K&&j)break;k++}if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].calculateStripLinesThicknessInValues(),i[s].calculateBreaksInPixels();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].calculateStripLinesThicknessInValues(),e[s].calculateBreaksInPixels();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].calculateStripLinesThicknessInValues(),t[s].calculateBreaksInPixels();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateStripLinesThicknessInValues(),n[s].calculateBreaksInPixels()}},at.render=function(t,n,i,e,a){a=t[0]?t[0].chart:n[0].chart;var r=a.ctx;if(a.alignVerticalAxes&&a.alignVerticalAxes(),r.save(),r.beginPath(),t&&t.length&&r.rect(2,t[0].bounds.y1,t[0].chart.width-4,t[t.length-1].bounds.y2),n&&n.length&&r.rect(2,n[n.length-1].bounds.y1,n[0].chart.width-4,n[0].bounds.y2),r.clip(),t&&0<t.length)for(var l=0;l<t.length;l++)t[l].renderLabelsTicksAndTitle();if(n&&0<n.length)for(l=0;l<n.length;l++)n[l].renderLabelsTicksAndTitle();if(r.restore(),i&&0<i.length)for(l=0;l<i.length;l++)i[l].renderLabelsTicksAndTitle();if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderLabelsTicksAndTitle();if(a.preparePlotArea(),l=a.plotArea,r.save(),r.beginPath(),r.rect(l.x1,l.y1,Math.abs(l.x2-l.x1),Math.abs(l.y2-l.y1)),r.clip(),t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(l=0;l<n.length;l++)n[l].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(l=0;l<i.length;l++)i[l].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderInterlacedColors();if(n&&0<n.length)for(l=0;l<n.length;l++)n[l].renderInterlacedColors();if(i&&0<i.length)for(l=0;l<i.length;l++)i[l].renderInterlacedColors();if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderInterlacedColors();if(r.restore(),t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderGrid(),R&&(t[l].createMask(),t[l].renderBreaksBackground());if(n&&0<n.length)for(l=0;l<n.length;l++)n[l].renderGrid(),R&&(n[l].createMask(),n[l].renderBreaksBackground());if(i&&0<i.length)for(l=0;l<i.length;l++)i[l].renderGrid(),R&&(i[l].createMask(),i[l].renderBreaksBackground());if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderGrid(),R&&(e[l].createMask(),e[l].renderBreaksBackground());if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderAxisLine();if(n&&0<n.length)for(l=0;l<n.length;l++)n[l].renderAxisLine();if(i&&0<i.length)for(l=0;l<i.length;l++)i[l].renderAxisLine();if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderAxisLine();if(r=!1,t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderStripLinesOfThicknessType("pixel"),t[l].crosshair&&t[l].crosshair.enabled&&(r=!0,a.clearedOverlayedCanvas=t[l].type);if(n&&0<n.length)for(l=0;l<n.length;l++)n[l].renderStripLinesOfThicknessType("pixel"),n[l].crosshair&&n[l].crosshair.enabled&&(r=!0,a.clearedOverlayedCanvas=n[l].type);if(i&&0<i.length)for(l=0;l<i.length;l++)i[l].renderStripLinesOfThicknessType("pixel"),i[l].crosshair&&i[l].crosshair.enabled&&(r=!0,a.clearedOverlayedCanvas=i[l].type);if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderStripLinesOfThicknessType("pixel"),e[l].crosshair&&e[l].crosshair.enabled&&(r=!0,a.clearedOverlayedCanvas=e[l].type);(r||!r&&a.clearedOverlayedCanvas&&0<=a.clearedOverlayedCanvas.indexOf("axis"))&&(a.resetOverlayedCanvas(),a.renderCrosshairs(null,B(a.sessionVariables.crosshairShownByPixel)||a.sessionVariables.crosshairShownByPixel?!0:a.sessionVariables.crosshairShownByPixel))},at.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(this.stripLines[t].startValue!==null&&this.stripLines[t].endValue!==null){var n=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),i=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue),e=this.getApparentDifference(n,i);this.stripLines[t].value=this.convertPixelToValue((this.convertValueToPixel(n)+this.convertValueToPixel(i))/2),this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},at.prototype.calculateBreaksSizeInValues=function(){for(var t=this._position==="left"||this._position==="right"?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),e=this.scaleBreaks&&!B(this.scaleBreaks.options.spacing),a,r=0;r<n.length;r++)a=e||!B(n[r].options.spacing),n[r].spacing=oa(n[r].spacing,t,8,a?.1*t:8,a?0:3)<<0,n[r].size=0>n[r].spacing?0:Math.abs(n[r].spacing/i),this.logarithmic&&(n[r].size=Math.pow(this.logarithmBase,n[r].size))},at.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var n=0;n<t.length&&!(t[n].startValue>this.conversionParameters.maximum);n++)t[n].endValue<this.conversionParameters.minimum||(B(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=n),t[n].startValue>=this.conversionParameters.minimum&&(t[n].startPixel=this.convertValueToPixel(t[n].startValue),this.scaleBreaks.lastBreakIndex=n),t[n].endValue<=this.conversionParameters.maximum&&(t[n].endPixel=this.convertValueToPixel(t[n].endValue)))}},at.prototype.renderLabelsTicksAndTitle=function(){var t=this,n=!1,i=0,e=0,a=1,r=0;if(this.labelAngle!==0&&this.labelAngle!==360&&(a=1.2),typeof this.options.interval>"u"){if(this._position==="bottom"||this._position==="top")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var i=[],a=this.labelAngle!==0&&this.labelAngle!==360?1:1.2,l,x=this.viewportMaximum,m=this.lineCoordinates.width/Math.log(this.range),d=this._labels.length-1;0<=d&&(h=this._labels[d],!(h.position<this.viewportMinimum));d--)h.position>this.viewportMaximum||!(d===this._labels.length-1||l<Math.log(x/h.position)*m/a)||(i.push(h),x=h.position,l=h.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+h.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||(l=h.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+h.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),i+=l);i>this.lineCoordinates.width*a&&this.labelAutoFit&&(n=!0)}if(this._position==="left"||this._position==="right")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var i=[],u,x=this.viewportMaximum,m=this.lineCoordinates.height/Math.log(this.range),d=this._labels.length-1;0<=d&&(h=this._labels[d],!(h.position<this.viewportMinimum));d--)h.position>this.viewportMaximum||!(d===this._labels.length-1||u<Math.log(x/h.position)*m)||(i.push(h),x=h.position,u=h.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+h.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||(u=h.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+h.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),e+=u);e>this.lineCoordinates.height*a&&this.labelAutoFit&&(n=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(s,b){return s.position-b.position});var d=0,h,p;if(this._position==="bottom"){for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||h.position>this.viewportMaximum||(p=this.getPixelCoordinatesOnAxis(h.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(p.x<<0)+.5:p.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,p.y<<0),this.ctx.lineTo(e,p.y+this.tickLength<<0),this.ctx.stroke()),n&&r++%2!==0&&this.labelAutoFit||(h.textBlock.angle===0?(p.x-=h.textBlock.width/2,p.y=this.labelPlacement==="inside"?p.y-((this.tickPlacement==="inside"?this.tickLength:0)+h.textBlock.height-h.textBlock._lineHeight/2+5):p.y+(this.tickPlacement==="inside"?0:this.tickLength)+h.textBlock._lineHeight/2+5):0>this.labelAngle?(p.x=p.x-(this.labelPlacement==="inside"?0:h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle))+h.textBlock.topPadding*Math.sin(Math.PI/180*this.labelAngle),p.y=this.labelPlacement==="inside"?p.y-(this.tickPlacement==="inside"?this.tickLength:0)-5-(h.textBlock.height-h.textBlock._lineHeight/2)*Math.cos(Math.PI/180*this.labelAngle):p.y+(this.tickPlacement==="inside"?0:this.tickLength)+5+Math.abs(h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-h.textBlock._lineHeight/2*Math.cos(Math.PI/180*this.labelAngle))):(p.x=p.x-(this.labelPlacement==="inside"?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0)+h.textBlock.topPadding*Math.sin(Math.PI/180*this.labelAngle),p.y=this.labelPlacement==="inside"?p.y-(this.tickPlacement==="inside"?this.tickLength:0)-5-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-(h.textBlock.height-h.textBlock._lineHeight/2)*Math.cos(Math.PI/180*this.labelAngle):p.y+(this.tickPlacement==="inside"?0:this.tickLength)+5+Math.abs(h.textBlock._lineHeight/2*Math.cos(Math.PI/180*this.labelAngle))),h.textBlock.x=p.x,h.textBlock.y=p.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<t._labels.length;d++)if(h=t._labels[d],!(h.position<t.viewportMinimum||h.position>t.viewportMaximum)&&(p=t.getPixelCoordinatesOnAxis(h.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(p.x<<0)+.5:p.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(s,p.y<<0),t.ctx.lineTo(s,p.y-t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock._lineHeight/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="top"){for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||h.position>this.viewportMaximum||(p=this.getPixelCoordinatesOnAxis(h.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(p.x<<0)+.5:p.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,p.y<<0),this.ctx.lineTo(e,p.y-this.tickLength<<0),this.ctx.stroke()),n&&r++%2!==0&&this.labelAutoFit||(h.textBlock.angle===0?(p.x-=h.textBlock.width/2,p.y=this.labelPlacement==="inside"?p.y+h.textBlock._lineHeight/2+(this.tickPlacement==="inside"?this.tickLength:0)+5:p.y-((this.tickPlacement==="inside"?0:this.tickLength)+h.textBlock.height-h.textBlock._lineHeight/2)-5):0>this.labelAngle?(p.x=p.x-(this.labelPlacement==="inside"?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0)+h.textBlock.topPadding*Math.sin(Math.PI/180*this.labelAngle),p.y=this.labelPlacement==="inside"?p.y+(this.tickPlacement==="inside"?this.tickLength:0)+5-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+h.textBlock._lineHeight/2*Math.cos(Math.PI/180*this.labelAngle):p.y-(this.tickPlacement==="inside"?0:this.tickLength)-5-(h.textBlock.height-h.textBlock._lineHeight/2)*Math.cos(Math.PI/180*this.labelAngle)):(p.x=p.x-(this.labelPlacement==="inside"?0:h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle))+h.textBlock.topPadding*Math.sin(Math.PI/180*this.labelAngle),p.y=this.labelPlacement==="inside"?p.y+(this.tickPlacement==="inside"?this.tickLength:0)+5+h.textBlock._lineHeight/2*Math.cos(Math.PI/180*this.labelAngle):p.y-(this.tickPlacement==="inside"?0:this.tickLength)-5-((h.textBlock.height-h.textBlock._lineHeight/2)*Math.cos(Math.PI/180*this.labelAngle)+h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))),h.textBlock.x=p.x,h.textBlock.y=p.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<t._labels.length;d++)if(h=t._labels[d],!(h.position<t.viewportMinimum||h.position>t.viewportMaximum)&&(p=t.getPixelCoordinatesOnAxis(h.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(p.x<<0)+.5:p.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(s,p.y<<0),t.ctx.lineTo(s,p.y+t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock._lineHeight/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="left"){for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||h.position>this.viewportMaximum||(p=this.getPixelCoordinatesOnAxis(h.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(p.y<<0)+.5:p.y<<0,this.ctx.beginPath(),this.ctx.moveTo(p.x<<0,e),this.ctx.lineTo(p.x-this.tickLength<<0,e),this.ctx.stroke()),n&&r++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(h.textBlock.y=p.y-h.textBlock.topPadding,h.textBlock.x=this.labelPlacement==="inside"?p.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:p.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):0>this.labelAngle?(h.textBlock.y=(this.labelPlacement==="inside"?p.y:p.y-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))-h.textBlock.topPadding*Math.cos(Math.PI/180*this.labelAngle),h.textBlock.x=this.labelPlacement==="inside"?p.x-h.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:p.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(h.textBlock.height-h.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):(h.textBlock.y=(this.labelPlacement==="inside"?p.y:p.y-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))-h.textBlock.topPadding*Math.cos(Math.PI/180*this.labelAngle),h.textBlock.x=this.labelPlacement==="inside"?p.x+(h.textBlock.height-h.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:p.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-h.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<t._labels.length;d++)if(h=t._labels[d],!(h.position<t.viewportMinimum||h.position>t.viewportMaximum)&&(p=t.getPixelCoordinatesOnAxis(h.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(p.y<<0)+.5:p.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(p.x<<0,s),t.ctx.lineTo(p.x+t.tickLength<<0,s),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="right"){for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||h.position>this.viewportMaximum||(p=this.getPixelCoordinatesOnAxis(h.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(p.y<<0)+.5:p.y<<0,this.ctx.beginPath(),this.ctx.moveTo(p.x<<0,e),this.ctx.lineTo(p.x+this.tickLength<<0,e),this.ctx.stroke()),n&&r++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(h.textBlock.y=p.y-h.textBlock.topPadding,h.textBlock.x=this.labelPlacement==="inside"?p.x-h.textBlock.width-(this.tickPlacement==="inside"?this.tickLength:0)-5:p.x+(this.tickPlacement==="inside"?0:this.tickLength)+5):0>this.labelAngle?(h.textBlock.y=(this.labelPlacement==="inside"?p.y-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):p.y)-h.textBlock.topPadding*Math.cos(Math.PI/180*this.labelAngle),h.textBlock.x=this.labelPlacement==="inside"?p.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(h.textBlock.height-h.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:p.x-h.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength)+5):(h.textBlock.y=(this.labelPlacement==="inside"?p.y-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):p.y)-h.textBlock.topPadding*Math.cos(Math.PI/180*this.labelAngle),h.textBlock.x=this.labelPlacement==="inside"?p.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-h.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:p.x+(h.textBlock.height-h.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength)+5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<t._labels.length;d++)if(h=t._labels[d],!(h.position<t.viewportMinimum||h.position>t.viewportMaximum)&&(p=t.getPixelCoordinatesOnAxis(h.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(p.y<<0)+.5:p.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(p.x<<0,s),t.ctx.lineTo(p.x-t.tickLength<<0,s),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(r=0,this.labelPlacement==="inside")this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<t._labels.length;d++)h=t._labels[d],h.position<t.viewportMinimum||h.position>t.viewportMaximum||n&&r++%2!==0&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),h.textBlock.render(!0),t.ctx.restore())},this);else for(d=0;d<this._labels.length;d++)h=this._labels[d],h.position<this.viewportMinimum||h.position>this.viewportMaximum||n&&r++%2!==0&&this.labelAutoFit||h.textBlock.render(!0)},at.prototype.renderInterlacedColors=function(){var t=this.chart.plotArea.ctx,n,i,e=this.chart.plotArea,a=0;if(n=!0,(this._position==="bottom"||this._position==="top")&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)n?(n=this.getPixelCoordinatesOnAxis(this._labels[a].position),i=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),t.fillRect(Math.min(i.x,n.x),e.y1,Math.abs(i.x-n.x),Math.abs(e.y1-e.y2)),n=!1):n=!0;else if((this._position==="left"||this._position==="right")&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)n?(i=this.getPixelCoordinatesOnAxis(this._labels[a].position),n=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),t.fillRect(e.x1,Math.min(i.y,n.y),Math.abs(e.x1-e.x2),Math.abs(n.y-i.y)),n=!1):n=!0;t.beginPath()},at.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var n=this,i,e,a=0,r=0,l=!1;e=!1;for(var x=[],m=[],u=!1,d,a=0;a<this.stripLines.length;a++){var h=this.stripLines[a];h._thicknessType===t&&(t==="pixel"&&(h.value<this.viewportMinimum||h.value>this.viewportMaximum||B(h.value)||isNaN(this.range))||t==="value"&&(h.startValue<=this.viewportMinimum&&h.endValue<=this.viewportMinimum||h.startValue>=this.viewportMaximum&&h.endValue>=this.viewportMaximum||B(h.startValue)||B(h.endValue)||isNaN(this.range))||x.push(h))}for(a=0;a<this._stripLineLabels.length;a++)if(h=this.stripLines[a],i=this._stripLineLabels[a],!(i.position<this.viewportMinimum||i.position>this.viewportMaximum||isNaN(this.range)))if(e=this.getPixelCoordinatesOnAxis(i.position),i.stripLine.labelPlacement==="outside"){if(h&&(this.ctx.strokeStyle=h.color,this.ctx.lineWidth=h._thicknessType==="pixel"?h.thickness:this.tickThickness,B(h.opacity)||h._thicknessType!=="pixel"||(d=h.ctx.globalAlpha,h.ctx.globalAlpha=h.opacity)),this._position==="bottom"){var p=this.ctx.lineWidth%2===1?(e.x<<0)+.5:e.x<<0;this.ctx.beginPath(),this.ctx.moveTo(p,e.y<<0),this.ctx.lineTo(p,e.y+this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(e.x-=i.textBlock.width/2,e.y+=this.tickLength+i.textBlock.fontSize/2+5):(e.x-=(0>this.labelAngle?i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0)-i.textBlock.topPadding*Math.sin(Math.PI/180*this.labelAngle),e.y+=this.tickLength+5+(0>this.labelAngle?Math.abs(i.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-i.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle)):Math.abs(i.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))))}else this._position==="top"?(p=this.ctx.lineWidth%2===1?(e.x<<0)+.5:e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(p,e.y<<0),this.ctx.lineTo(p,e.y-this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(e.x-=i.textBlock.width/2,e.y-=this.tickLength+i.textBlock.height-i.textBlock.fontSize/2):(e.x-=(0<this.labelAngle?i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0)-i.textBlock.topPadding*Math.sin(Math.PI/180*this.labelAngle),e.y-=this.tickLength+2+(0<this.labelAngle?(i.textBlock.height-i.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+i.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):(i.textBlock.height-i.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)))):this._position==="left"?(p=this.ctx.lineWidth%2===1?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,p),this.ctx.lineTo(e.x-this.tickLength<<0,p),this.ctx.stroke(),this.labelAngle===0?(e.x=e.x-i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,e.y-=i.textBlock.topPadding):(e.y-=i.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+i.textBlock.topPadding*Math.cos(Math.PI/180*this.labelAngle),e.x-=this.tickLength+5+(0<this.labelAngle?i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+i.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle):i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(i.textBlock.height-i.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)))):this._position==="right"&&(p=this.ctx.lineWidth%2===1?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,p),this.ctx.lineTo(e.x+this.tickLength<<0,p),this.ctx.stroke(),this.labelAngle===0?(e.x=e.x+this.tickLength+5,e.y-=i.textBlock.topPadding):(e.y-=i.textBlock.topPadding*Math.cos(Math.PI/180*this.labelAngle),e.x=this.tickLength+5+(0<this.labelAngle?e.x+(i.textBlock.height-i.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle):e.x-i.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle))));d&&(h.ctx.globalAlpha=d),i.textBlock.x=e.x,i.textBlock.y=e.y,m.push(i)}else h._thicknessType===t&&(i.textBlock.angle=-90,this._position==="bottom"?(i.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,i.textBlock.measureText(),e.x-i.textBlock.height-h.thickness/2>this.chart.plotArea.x1?B(h.startValue)?e.x-=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.x-=i.textBlock.height/2-i.textBlock.fontSize/2:(i.textBlock.angle=90,B(h.startValue)?e.x+=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.x+=i.textBlock.height/2-i.textBlock.fontSize/2),e.y=i.textBlock.angle===-90?i.stripLine.labelAlign==="near"?this.chart.plotArea.y2-3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+i.textBlock.width)/2:this.chart.plotArea.y1+i.textBlock.width+3:i.stripLine.labelAlign==="near"?this.chart.plotArea.y2-i.textBlock.width-3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-i.textBlock.width)/2:this.chart.plotArea.y1+3):this._position==="top"?(i.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,i.textBlock.measureText(),e.x-i.textBlock.height-h.thickness/2>this.chart.plotArea.x1?B(h.startValue)?e.x-=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.x-=i.textBlock.height/2-i.textBlock.fontSize/2:(i.textBlock.angle=90,B(h.startValue)?e.x+=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.x+=i.textBlock.height/2-i.textBlock.fontSize/2),e.y=i.textBlock.angle===-90?i.stripLine.labelAlign==="near"?this.chart.plotArea.y1+i.textBlock.width+3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+i.textBlock.width)/2:this.chart.plotArea.y2-3:i.stripLine.labelAlign==="near"?this.chart.plotArea.y1+3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-i.textBlock.width)/2:this.chart.plotArea.y2-i.textBlock.width-3):this._position==="left"?(i.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,i.textBlock.angle=0,i.textBlock.measureText(),e.y-i.textBlock.height-h.thickness/2>this.chart.plotArea.y1?B(h.startValue)?e.y-=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.y-=i.textBlock.height/2-i.textBlock.fontSize/2:B(h.startValue)?e.y+=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.y+=i.textBlock.height/2-i.textBlock.fontSize+3,e.x=i.stripLine.labelAlign==="near"?this.chart.plotArea.x1+3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-i.textBlock.width/2:this.chart.plotArea.x2-i.textBlock.width-3):this._position==="right"&&(i.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,i.textBlock.angle=0,i.textBlock.measureText(),e.y-i.textBlock.height-h.thickness/2>this.chart.plotArea.y1?B(h.startValue)?e.y-=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.y-=i.textBlock.height/2-i.textBlock.fontSize/2:B(h.startValue)?e.y+=i.textBlock.height-i.textBlock.fontSize/2+h.thickness/2:e.y-=i.textBlock.height/2-i.textBlock.fontSize/2+3,e.x=i.stripLine.labelAlign==="near"?this.chart.plotArea.x2-i.textBlock.width-3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-i.textBlock.width/2:this.chart.plotArea.x1+3),i.textBlock.x=e.x,i.textBlock.y=e.y,m.push(i));if(!u){for(e=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<x.length;a++)h=x[a],h.showOnTop?l||(l=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),r=0;r<x.length;r++)h=x[r],h.showOnTop&&h.render();this.ctx.restore()},h)):h.render();for(a=0;a<m.length;a++)i=m[a],i.stripLine.showOnTop?e||(e=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(r=0;r<m.length;r++)i=m[r],i.stripLine.labelPlacement==="inside"&&i.stripLine.showOnTop&&(n.ctx.save(),n.ctx.beginPath(),n.ctx.rect(n.chart.plotArea.x1,n.chart.plotArea.y1,n.chart.plotArea.width,n.chart.plotArea.height),n.ctx.clip(),i.textBlock.render(!0),n.ctx.restore())},i.textBlock)):i.stripLine.labelPlacement==="inside"&&i.textBlock.render(!0);this.ctx.restore(),u=!0}if(u)for(e=!1,a=0;a<m.length;a++)i=m[a],i.stripLine.labelPlacement==="outside"&&i.textBlock.render(!0)}},at.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},at.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;R?(this.maskCanvas=di(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var n=0;n<t.length;n++)t[n].endValue<this.viewportMinimum||t[n].startValue>this.viewportMaximum||isNaN(this.range)||t[n].render(this.maskCtx);this.maskCtx.restore()}},at.prototype.renderCrosshair=function(t,n){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(t,n)},at.prototype.showCrosshair=function(t){B(t)||t<this.viewportMinimum||t>this.viewportMaximum||(this._position==="top"||this._position==="bottom"?this.crosshair.render(this.convertValueToPixel(t),null,t):this.crosshair.render(null,this.convertValueToPixel(t),t))},at.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var n,i=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(Pt(this.gridDashType,this.gridThickness)),this._position==="bottom"||this._position==="top")for(e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(t.beginPath(),n=this.getPixelCoordinatesOnAxis(this._labels[e].position),n=t.lineWidth%2===1?(n.x<<0)+.5:n.x<<0,t.moveTo(n,i.y1<<0),t.lineTo(n,i.y2<<0),t.stroke());else if(this._position==="left"||this._position==="right")for(var e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(t.beginPath(),n=this.getPixelCoordinatesOnAxis(this._labels[e].position),n=t.lineWidth%2===1?(n.y<<0)+.5:n.y<<0,t.moveTo(i.x1<<0,n),t.lineTo(i.x2<<0,n),t.stroke());t.restore()}},at.prototype.renderAxisLine=function(){var t=this.chart.ctx,n=R?this.chart._preRenderCtx:t,i=Math.ceil(this.tickThickness/(this.reversed?-2:2)),e=Math.ceil(this.tickThickness/(this.reversed?2:-2)),a,r;if(n.save(),this._position==="bottom"||this._position==="top"){if(this.lineThickness){this.reversed?(a=this.lineCoordinates.x2,r=this.lineCoordinates.x1):(a=this.lineCoordinates.x1,r=this.lineCoordinates.x2),n.lineWidth=this.lineThickness,n.strokeStyle=this.lineColor?this.lineColor:"black",n.setLineDash&&n.setLineDash(Pt(this.lineDashType,this.lineThickness));var l=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(n.beginPath(),this.scaleBreaks&&!B(this.scaleBreaks.firstBreakIndex))if(B(this.scaleBreaks.lastBreakIndex))a=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+e;else for(var x=this.scaleBreaks.firstBreakIndex;x<=this.scaleBreaks.lastBreakIndex;x++)n.moveTo(a,l),n.lineTo(this.scaleBreaks._appliedBreaks[x].startPixel+i,l),a=this.scaleBreaks._appliedBreaks[x].endPixel+e;a&&(n.moveTo(a,l),n.lineTo(r,l)),n.stroke()}}else if((this._position==="left"||this._position==="right")&&this.lineThickness){if(this.reversed?(a=this.lineCoordinates.y1,r=this.lineCoordinates.y2):(a=this.lineCoordinates.y2,r=this.lineCoordinates.y1),n.lineWidth=this.lineThickness,n.strokeStyle=this.lineColor,n.setLineDash&&n.setLineDash(Pt(this.lineDashType,this.lineThickness)),l=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,n.beginPath(),this.scaleBreaks&&!B(this.scaleBreaks.firstBreakIndex))if(B(this.scaleBreaks.lastBreakIndex))a=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+i;else for(x=this.scaleBreaks.firstBreakIndex;x<=this.scaleBreaks.lastBreakIndex;x++)n.moveTo(l,a),n.lineTo(l,this.scaleBreaks._appliedBreaks[x].startPixel+e),a=this.scaleBreaks._appliedBreaks[x].endPixel+i;a&&(n.moveTo(l,a),n.lineTo(l,r)),n.stroke()}R&&(t.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),n.clearRect(0,0,this.chart.width,this.chart.height)),n.restore()},at.prototype.getPixelCoordinatesOnAxis=function(t){var n={};return(this._position==="bottom"||this._position==="top")&&(n.x=this.convertValueToPixel(t),n.y=this.lineCoordinates.y1),(this._position==="left"||this._position==="right")&&(n.y=this.convertValueToPixel(t),n.x=this.lineCoordinates.x2),n},at.prototype.convertPixelToValue=function(t){if(typeof t>"u")return null;var i=0,a=0,n,i=!0,e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a=typeof t=="number"?t:this._position==="left"||this._position==="right"?t.y:t.x;if(this.logarithmic){if(t=n=Math.pow(this.logarithmBase,(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),a<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(a=0;a<e.length;a++)if(!(e[a].endValue<this.conversionParameters.minimum))if(i)if(e[a].startValue<this.conversionParameters.minimum){if(1<e[a].size&&this.conversionParameters.minimum*Math.pow(e[a].endValue/e[a].startValue,Math.log(n)/Math.log(e[a].size))<e[a].endValue){t=Math.pow(e[a].endValue/e[a].startValue,Math.log(n)/Math.log(e[a].size));break}else t*=e[a].endValue/this.conversionParameters.minimum/Math.pow(e[a].size,Math.log(e[a].endValue/this.conversionParameters.minimum)/Math.log(e[a].endValue/e[a].startValue)),n/=Math.pow(e[a].size,Math.log(e[a].endValue/this.conversionParameters.minimum)/Math.log(e[a].endValue/e[a].startValue));i=!1}else if(n>e[a].startValue/this.conversionParameters.minimum){if(n/=e[a].startValue/this.conversionParameters.minimum,n<e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,e[a].size===1?1:Math.log(n)/Math.log(e[a].size))/n;break}else t*=e[a].endValue/e[a].startValue/e[a].size;n/=e[a].size,i=!1}else break;else if(n>e[a].startValue/e[a-1].endValue){if(n/=e[a].startValue/e[a-1].endValue,n<e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,e[a].size===1?1:Math.log(n)/Math.log(e[a].size))/n;break}else t*=e[a].endValue/e[a].startValue/e[a].size;n/=e[a].size}else break}else for(a=e.length-1;0<=a;a--)if(!(e[a].startValue>this.conversionParameters.minimum))if(i)if(e[a].endValue>this.conversionParameters.minimum){if(1<e[a].size&&this.conversionParameters.minimum*Math.pow(e[a].endValue/e[a].startValue,Math.log(n)/Math.log(e[a].size))>e[a].startValue){t=Math.pow(e[a].endValue/e[a].startValue,Math.log(n)/Math.log(e[a].size));break}else t*=e[a].startValue/this.conversionParameters.minimum*Math.pow(e[a].size,Math.log(e[a].startValue/this.conversionParameters.minimum)/Math.log(e[a].endValue/e[a].startValue))*n,n*=Math.pow(e[a].size,Math.log(this.conversionParameters.minimum/e[a].startValue)/Math.log(e[a].endValue/e[a].startValue));i=!1}else if(n<e[a].endValue/this.conversionParameters.minimum){if(n/=e[a].endValue/this.conversionParameters.minimum,n>1/e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,1>=e[a].size?1:Math.log(n)/Math.log(e[a].size))*n;break}else t/=e[a].endValue/e[a].startValue/e[a].size;n*=e[a].size,i=!1}else break;else if(n<e[a].endValue/e[a+1].startValue){if(n/=e[a].endValue/e[a+1].startValue,n>1/e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,1>=e[a].size?1:Math.log(n)/Math.log(e[a].size))*n;break}else t/=e[a].endValue/e[a].startValue/e[a].size;n*=e[a].size}else break;i=t*this.viewportMinimum}else{if(t=n=(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,a<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(a=0;a<e.length;a++)if(!(e[a].endValue<this.conversionParameters.minimum))if(i)if(e[a].startValue<this.conversionParameters.minimum){if(e[a].size&&this.conversionParameters.minimum+n*(e[a].endValue-e[a].startValue)/e[a].size<e[a].endValue){t=0>=e[a].size?0:n*(e[a].endValue-e[a].startValue)/e[a].size;break}else t+=e[a].endValue-this.conversionParameters.minimum-e[a].size*(e[a].endValue-this.conversionParameters.minimum)/(e[a].endValue-e[a].startValue),n-=e[a].size*(e[a].endValue-this.conversionParameters.minimum)/(e[a].endValue-e[a].startValue);i=!1}else if(n>e[a].startValue-this.conversionParameters.minimum){if(n-=e[a].startValue-this.conversionParameters.minimum,n<e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:n/e[a].size)-n;break}else t+=e[a].endValue-e[a].startValue-e[a].size;n-=e[a].size,i=!1}else break;else if(n>e[a].startValue-e[a-1].endValue){if(n-=e[a].startValue-e[a-1].endValue,n<e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:n/e[a].size)-n;break}else t+=e[a].endValue-e[a].startValue-e[a].size;n-=e[a].size}else break}else for(a=e.length-1;0<=a;a--)if(!(e[a].startValue>this.conversionParameters.minimum))if(i)if(e[a].endValue>this.conversionParameters.minimum)if(e[a].size&&this.conversionParameters.minimum+n*(e[a].endValue-e[a].startValue)/e[a].size>e[a].startValue){t=0>=e[a].size?0:n*(e[a].endValue-e[a].startValue)/e[a].size;break}else t+=e[a].startValue-this.conversionParameters.minimum+e[a].size*(this.conversionParameters.minimum-e[a].startValue)/(e[a].endValue-e[a].startValue),n+=e[a].size*(this.conversionParameters.minimum-e[a].startValue)/(e[a].endValue-e[a].startValue),i=!1;else if(n<e[a].endValue-this.conversionParameters.minimum){if(n-=e[a].endValue-this.conversionParameters.minimum,n>-1*e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:n/e[a].size)+n;break}else t-=e[a].endValue-e[a].startValue-e[a].size;n+=e[a].size,i=!1}else break;else if(n<e[a].endValue-e[a+1].startValue){if(n-=e[a].endValue-e[a+1].startValue,n>-1*e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:n/e[a].size)+n;break}else t-=e[a].endValue-e[a].startValue-e[a].size;n+=e[a].size}else break;i=this.conversionParameters.minimum+t}return i},at.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.type==="axisX"?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},at.prototype.getApparentDifference=function(t,n,i,e){var a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){i=B(i)?n/t:i;for(var r=0;r<a.length&&!(n<a[r].startValue);r++)t>a[r].endValue||(t<=a[r].startValue&&n>=a[r].endValue?i=i/a[r].endValue*a[r].startValue*a[r].size:t>=a[r].startValue&&n>=a[r].endValue?i=i/a[r].endValue*t*Math.pow(a[r].size,Math.log(a[r].endValue/t)/Math.log(a[r].endValue/a[r].startValue)):t<=a[r].startValue&&n<=a[r].endValue?i=i/n*a[r].startValue*Math.pow(a[r].size,Math.log(n/a[r].startValue)/Math.log(a[r].endValue/a[r].startValue)):!e&&t>a[r].startValue&&n<a[r].endValue&&(i=t*Math.pow(a[r].size,Math.log(n/t)/Math.log(a[r].endValue/a[r].startValue))))}else for(i=B(i)?Math.abs(n-t):i,r=0;r<a.length&&!(n<a[r].startValue);r++)t>a[r].endValue||(t<=a[r].startValue&&n>=a[r].endValue?i=i-a[r].endValue+a[r].startValue+a[r].size:t>a[r].startValue&&n>=a[r].endValue?i=i-a[r].endValue+t+a[r].size*(a[r].endValue-t)/(a[r].endValue-a[r].startValue):t<=a[r].startValue&&n<a[r].endValue?i=i-n+a[r].startValue+a[r].size*(n-a[r].startValue)/(a[r].endValue-a[r].startValue):!e&&t>a[r].startValue&&n<a[r].endValue&&(i=t+a[r].size*(n-t)/(a[r].endValue-a[r].startValue)));return i},at.prototype.setViewPortRange=function(t,n){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,n),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,n)},at.prototype.getXValueAt=function(t){if(!t)return null;var n=null;return this._position==="left"?n=this.convertPixelToValue(t.y):this._position==="bottom"&&(n=this.convertPixelToValue(t.x)),n},at.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var n={pixelPerUnit:null,minimum:null,reference:null},i=this.lineCoordinates.width,e=this.lineCoordinates.height,i=this._position==="bottom"||this._position==="top"?i:e,e=Math.abs(this.range);if(this.logarithmic)for(var a=0;a<t.length&&!(this.viewportMaximum<t[a].startValue);a++)this.viewportMinimum>t[a].endValue||(this.viewportMinimum>=t[a].startValue&&this.viewportMaximum<=t[a].endValue?i=0:this.viewportMinimum<=t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e/t[a].endValue*t[a].startValue,i=0<t[a].spacing.toString().indexOf("%")?i*(1-parseFloat(t[a].spacing)/100):i-Math.min(t[a].spacing,.1*i)):this.viewportMinimum>t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e/t[a].endValue*this.viewportMinimum,i=0<t[a].spacing.toString().indexOf("%")?i*(1-parseFloat(t[a].spacing)/100*Math.log(t[a].endValue/this.viewportMinimum)/Math.log(t[a].endValue/t[a].startValue)):i-Math.min(t[a].spacing,.1*i)*Math.log(t[a].endValue/this.viewportMinimum)/Math.log(t[a].endValue/t[a].startValue)):this.viewportMinimum<=t[a].startValue&&this.viewportMaximum<t[a].endValue&&(e=e/this.viewportMaximum*t[a].startValue,i=0<t[a].spacing.toString().indexOf("%")?i*(1-parseFloat(t[a].spacing)/100*Math.log(this.viewportMaximum/t[a].startValue)/Math.log(t[a].endValue/t[a].startValue)):i-Math.min(t[a].spacing,.1*i)*Math.log(this.viewportMaximum/t[a].startValue)/Math.log(t[a].endValue/t[a].startValue)));else for(a=0;a<t.length&&!(this.viewportMaximum<t[a].startValue);a++)this.viewportMinimum>t[a].endValue||(this.viewportMinimum>=t[a].startValue&&this.viewportMaximum<=t[a].endValue?i=0:this.viewportMinimum<=t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e-t[a].endValue+t[a].startValue,i=0<t[a].spacing.toString().indexOf("%")?i*(1-parseFloat(t[a].spacing)/100):i-Math.min(t[a].spacing,.1*i)):this.viewportMinimum>t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e-t[a].endValue+this.viewportMinimum,i=0<t[a].spacing.toString().indexOf("%")?i*(1-parseFloat(t[a].spacing)/100*(t[a].endValue-this.viewportMinimum)/(t[a].endValue-t[a].startValue)):i-Math.min(t[a].spacing,.1*i)*(t[a].endValue-this.viewportMinimum)/(t[a].endValue-t[a].startValue)):this.viewportMinimum<=t[a].startValue&&this.viewportMaximum<t[a].endValue&&(e=e-this.viewportMaximum+t[a].startValue,i=0<t[a].spacing.toString().indexOf("%")?i*(1-parseFloat(t[a].spacing)/100*(this.viewportMaximum-t[a].startValue)/(t[a].endValue-t[a].startValue)):i-Math.min(t[a].spacing,.1*i)*(this.viewportMaximum-t[a].startValue)/(t[a].endValue-t[a].startValue)));n.minimum=this.viewportMinimum,n.maximum=this.viewportMaximum,n.range=e,(this._position==="bottom"||this._position==="top")&&(this.logarithmic?(n.lnLogarithmBase=Math.log(this.logarithmBase),n.pixelPerUnit=(this.reversed?-1:1)*i*n.lnLogarithmBase/Math.log(Math.abs(e))):n.pixelPerUnit=(this.reversed?-1:1)*i/Math.abs(e),n.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),(this._position==="left"||this._position==="right")&&(this.logarithmic?(n.lnLogarithmBase=Math.log(this.logarithmBase),n.pixelPerUnit=(this.reversed?1:-1)*i*n.lnLogarithmBase/Math.log(Math.abs(e))):n.pixelPerUnit=(this.reversed?1:-1)*i/Math.abs(e),n.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=n},at.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var i=this.chart.layoutManager.getFreeSpace(),t=!1,n=!1;this._position==="bottom"||this._position==="top"?(this.maxWidth=i.width,this.maxHeight=i.height):(this.maxWidth=i.height,this.maxHeight=i.width);var i=this.type==="axisX"?this.chart.plotInfo.axisPlacement==="xySwapped"?62:70:this.chart.plotInfo.axisPlacement==="xySwapped"?50:40,l=4;this.type==="axisX"&&(l=600>this.maxWidth?8:6);var i=Math.max(l,Math.floor(this.maxWidth/i)),e,a,r,l=0;if(!B(this.options.viewportMinimum)&&!B(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),B(this.options.viewportMinimum)&&!B(this.sessionVariables.newViewportMinimum)&&!isNaN(this.sessionVariables.newViewportMinimum)?this.viewportMinimum=this.sessionVariables.newViewportMinimum:(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),B(this.options.viewportMaximum)&&!B(this.sessionVariables.newViewportMaximum)&&!isNaN(this.sessionVariables.newViewportMaximum)?this.viewportMaximum=this.sessionVariables.newViewportMaximum:(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),!B(this.minimum)&&this.viewportMinimum<this.minimum&&(this.viewportMinimum=this.minimum),!B(this.maximum)&&this.viewportMaximum>this.maximum&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(l=0;l<this.scaleBreaks._appliedBreaks.length;l++)if((!B(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue||!B(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[l].startValue||!B(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue)&&(!B(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue||!B(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[l].endValue||!B(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue)){this.scaleBreaks._appliedBreaks.splice(l,1);break}}if(this.type==="axisX"){if(this.dataSeries&&0<this.dataSeries.length)for(e=0;e<this.dataSeries.length;e++)this.dataSeries[e].xValueType==="dateTime"&&(n=!0);e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,a-e===0&&(l=typeof this.options.interval>"u"?.4:this.options.interval,a+=l,e-=l),this.dataInfo.minDiff!==1/0?r=this.dataInfo.minDiff:1<a-e?r=.5*Math.abs(a-e):(r=1,n&&(t=!0))}else this.type==="axisY"&&(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(e)||isFinite(a)?isFinite(e)?isFinite(a)||(a=e):e=a:(a=typeof this.options.interval>"u"?-1/0:this.options.interval,e=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),e===0&&a===0?(a+=9,e=0):a-e===0?(l=Math.min(Math.abs(.01*Math.abs(a)),5),a+=l,e-=l):e>a?(l=Math.min(.01*Math.abs(this.getApparentDifference(a,e,null,!0)),5),0<=a?e=a-l:a=isFinite(e)?e+l:0):(l=Math.min(.01*Math.abs(this.getApparentDifference(e,a,null,!0)),.05),a!==0&&(a+=l),e!==0&&(e-=l)),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-e?.5*Math.abs(a-e):1,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&0<e&&(e=0),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&0>a&&(a=0));l=this.getApparentDifference(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum,isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum,null,!0),this.type==="axisX"&&n?(this.valueType="dateTime",this.intervalType||(l/1<=i?(this.interval=1,this.intervalType="millisecond"):l/2<=i?(this.interval=2,this.intervalType="millisecond"):l/5<=i?(this.interval=5,this.intervalType="millisecond"):l/10<=i?(this.interval=10,this.intervalType="millisecond"):l/20<=i?(this.interval=20,this.intervalType="millisecond"):l/50<=i?(this.interval=50,this.intervalType="millisecond"):l/100<=i?(this.interval=100,this.intervalType="millisecond"):l/200<=i?(this.interval=200,this.intervalType="millisecond"):l/250<=i?(this.interval=250,this.intervalType="millisecond"):l/300<=i?(this.interval=300,this.intervalType="millisecond"):l/400<=i?(this.interval=400,this.intervalType="millisecond"):l/500<=i?(this.interval=500,this.intervalType="millisecond"):l/(1*Qt.secondDuration)<=i?(this.interval=1,this.intervalType="second"):l/(2*Qt.secondDuration)<=i?(this.interval=2,this.intervalType="second"):l/(5*Qt.secondDuration)<=i?(this.interval=5,this.intervalType="second"):l/(10*Qt.secondDuration)<=i?(this.interval=10,this.intervalType="second"):l/(15*Qt.secondDuration)<=i?(this.interval=15,this.intervalType="second"):l/(20*Qt.secondDuration)<=i?(this.interval=20,this.intervalType="second"):l/(30*Qt.secondDuration)<=i?(this.interval=30,this.intervalType="second"):l/(1*Qt.minuteDuration)<=i?(this.interval=1,this.intervalType="minute"):l/(2*Qt.minuteDuration)<=i?(this.interval=2,this.intervalType="minute"):l/(5*Qt.minuteDuration)<=i?(this.interval=5,this.intervalType="minute"):l/(10*Qt.minuteDuration)<=i?(this.interval=10,this.intervalType="minute"):l/(15*Qt.minuteDuration)<=i?(this.interval=15,this.intervalType="minute"):l/(20*Qt.minuteDuration)<=i?(this.interval=20,this.intervalType="minute"):l/(30*Qt.minuteDuration)<=i?(this.interval=30,this.intervalType="minute"):l/(1*Qt.hourDuration)<=i?(this.interval=1,this.intervalType="hour"):l/(2*Qt.hourDuration)<=i?(this.interval=2,this.intervalType="hour"):l/(3*Qt.hourDuration)<=i?(this.interval=3,this.intervalType="hour"):l/(6*Qt.hourDuration)<=i?(this.interval=6,this.intervalType="hour"):l/(1*Qt.dayDuration)<=i?(this.interval=1,this.intervalType="day"):l/(2*Qt.dayDuration)<=i?(this.interval=2,this.intervalType="day"):l/(4*Qt.dayDuration)<=i?(this.interval=4,this.intervalType="day"):l/(1*Qt.weekDuration)<=i?(this.interval=1,this.intervalType="week"):l/(2*Qt.weekDuration)<=i?(this.interval=2,this.intervalType="week"):l/(3*Qt.weekDuration)<=i?(this.interval=3,this.intervalType="week"):l/(1*Qt.monthDuration)<=i?(this.interval=1,this.intervalType="month"):l/(2*Qt.monthDuration)<=i?(this.interval=2,this.intervalType="month"):l/(3*Qt.monthDuration)<=i?(this.interval=3,this.intervalType="month"):l/(6*Qt.monthDuration)<=i?(this.interval=6,this.intervalType="month"):(this.interval=l/(1*Qt.yearDuration)<=i?1:l/(2*Qt.yearDuration)<=i?2:l/(4*Qt.yearDuration)<=i?4:Math.floor(at.getNiceNumber(l/(i-1),!0)/Qt.yearDuration),this.intervalType="year")),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=e-r/2),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=a+r/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":this.intervalType==="year"?this.autoValueFormatString="YYYY":this.intervalType==="month"?this.autoValueFormatString="MMM YYYY":this.intervalType==="week"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="day"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="hour"?this.autoValueFormatString="hh:mm TT":this.intervalType==="minute"?this.autoValueFormatString="hh:mm TT":this.intervalType==="second"?this.autoValueFormatString="hh:mm:ss TT":this.intervalType==="millisecond"&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",l=at.getNiceNumber(l,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:at.getNiceNumber(l/(i-1),!0),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?e-r/2:Math.floor(e/this.interval)*this.interval),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?a+r/2:Math.ceil(a/this.interval)*this.interval),this.viewportMaximum===0&&this.viewportMinimum===0&&(this.options.viewportMinimum===0?this.viewportMaximum+=10:this.options.viewportMaximum===0&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=at.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(i-1),!0)))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,a-e===0&&(l=typeof this.options.interval>"u"?.4:this.options.interval,a+=l,e-=l),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-e?.5*Math.abs(a-e):1):this.type==="axisY"&&(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(a)?e===0&&a===0?(a+=9,e=0):a-e===0?(l=Math.min(Math.abs(.01*Math.abs(a)),5),a+=l,e-=l):e>a?(l=Math.min(.01*Math.abs(this.getApparentDifference(a,e,null,!0)),5),0<=a?e=a-l:a=isFinite(e)?e+l:0):(l=Math.min(.01*Math.abs(this.getApparentDifference(e,a,null,!0)),.05),a!==0&&(a+=l),e!==0&&(e-=l)):(a=typeof this.options.interval>"u"?-1/0:this.options.interval,e=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-e?.5*Math.abs(a-e):1,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&0<e&&(e=0),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&0>a&&(a=0)),Math.abs(this.getApparentDifference(e,a,null,!0)),this.type==="axisX"&&n?(this.valueType="dateTime",(this.minimum===null||isNaN(this.minimum))&&(this.minimum=e-r/2,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(this.maximum===null||isNaN(this.maximum))&&(this.maximum=a+r/2,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?e-r/2:Math.floor(e/this.interval)*this.interval,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),this.maximum===null&&(this.maximum=this.type==="axisX"?a+r/2:Math.ceil(a/this.interval)*this.interval,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),this.maximum===0&&this.minimum===0&&(this.options.minimum===0?this.maximum+=10:this.options.maximum===0&&(this.minimum-=10)))),B(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),B(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition=this.type==="axisX"&&n?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=at.generateValueFormatString(this.range,2))}},at.prototype.calculateLogarithmicAxisParameters=function(){var i=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase),n;this._position==="bottom"||this._position==="top"?(this.maxWidth=i.width,this.maxHeight=i.height):(this.maxWidth=i.height,this.maxHeight=i.width);var i=this.type==="axisX"?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),e,a,r,l;if(l=1,(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(l=0;l<this.scaleBreaks._appliedBreaks.length;l++)if((!B(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue||!B(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[l].startValue||!B(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue)&&(!B(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue||!B(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[l].endValue||!B(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue)){this.scaleBreaks._appliedBreaks.splice(l,1);break}}this.type==="axisX"?(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,a/e===1&&(l=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a*=l,e/=l),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,0>=e&&!isFinite(a)?(a=typeof this.options.interval>"u"?0:this.options.interval,e=1):0>=e?e=a:isFinite(a)||(a=e),e===1&&a===1?(a*=this.logarithmBase-1/this.logarithmBase,e=1):a/e===1?(l=Math.min(a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a*=l,e/=l):e>a?(l=Math.min(e/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=a?e=a/l:a=e*l):(l=Math.min(a/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),a!==1&&(a*=l),e!==1&&(e/=l)),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&1>a&&(a=1)),l=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum)/(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum);var x=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum)-(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum);if(this.intervalType="number",l=Math.pow(this.logarithmBase,at.getNiceNumber(Math.abs(Math.log(l)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=at.getNiceExponent(Math.log(l)/t/(i-1),!0),n=at.getNiceNumber(x/(i-1),!0)),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?e/Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval))),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?a*Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/t/this.interval))),this.viewportMaximum===1&&this.viewportMinimum===1&&(this.options.viewportMinimum===1?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:this.options.viewportMaximum===1&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=at.getNiceExponent(Math.ceil(Math.log(l)/t)/(i-1)),n=at.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(i-1),!0))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,a/e===1&&(l=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a*=l,e/=l),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(a)?e===1&&a===1?(a*=this.logarithmBase,e/=this.logarithmBase):a/e===1?(l=Math.pow(this.logarithmBase,this.interval),a*=l,e/=l):e>a?(l=Math.min(.01*(e/a),5),1<=a?e=a/l:a=e*l):(l=Math.min(a/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),a!==1&&(a*=l),e!==1&&(e/=l)):(a=typeof this.options.interval>"u"?0:this.options.interval,e=1),r=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&1>a&&(a=1)),this.intervalType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?e/Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval)),B(this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),this.maximum===null&&(this.maximum=this.type==="axisX"?a*Math.sqrt(r):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/t/this.interval)),B(this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),this.maximum===1&&this.minimum===1&&(this.options.minimum===1?this.maximum*=this.logarithmBase-1/this.logarithmBase:this.options.maximum===1&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=i,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>i?2:3)){for(t=Math.floor(this.viewportMinimum/n+.5)*n;t<this.viewportMinimum;)t+=n;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=n}else this.options.interval||(n=Math.ceil(this.interval),this.range>this.interval&&(this.interval=n,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(t)||!isFinite(t))&&(t=2),2<t))for(l=0;l<t-2;l++)this.valueFormatString+="#"},at.generateValueFormatString=function(t,n){var i="#,##0.",e=n;1>t&&(e+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(e)||!isFinite(e))&&(e=n);for(var a=0;a<e;a++)i+="#";return i},at.getNiceExponent=function(t,n){var i=Math.floor(Math.log(t)/Math.LN10),e=t/Math.pow(10,i),e=0>i?1>=e?1:5>=e?5:10:Math.max(Math.floor(e),1);return-20>i?Number(e*Math.pow(10,i)):Number((e*Math.pow(10,i)).toFixed(20))},at.getNiceNumber=function(t,n){var i=Math.floor(Math.log(t)/Math.LN10),e=t/Math.pow(10,i),e=n?1.5>e?1:3>e?2:7>e?5:10:1>=e?1:2>=e?2:5>=e?5:10;return-20>i?Number(e*Math.pow(10,i)):Number((e*Math.pow(10,i)).toFixed(20))},at.prototype.getLabelStartPoint=function(){var t=Qt[this.intervalType+"Duration"]*this.interval,t=new Date(Math.floor(this.viewportMinimum/t)*t);return this.intervalType!=="millisecond"&&(this.intervalType==="second"?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):this.intervalType==="minute"?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="hour"?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="day"?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="week"?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="month"?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="year"&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},J(Yt,De),J(ye,De),ye.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var n=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(ni(this.parent[this.optionsName]),n=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options[this.optionsName][n]=this.options}},ye.prototype.render=function(t){if(this.spacing!==0||this.options.lineThickness!==0&&(typeof this.options.lineThickness<"u"||this.parent.lineThickness!==0)){var n=this.ctx,i=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var e=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,bt(this.id);var r,l,x,m,u,d;t=Math.max(this.spacing,3);var h=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=h,this.ctx.setLineDash&&this.ctx.setLineDash(Pt(this.lineDashType,h)),this.scaleBreaks.parent._position==="bottom"||this.scaleBreaks.parent._position==="top"){if(e=h%2===1?(e.x<<0)+.5:e.x<<0,l=h%2===1?(a.x<<0)+.5:a.x<<0,this.scaleBreaks.parent._position==="top"?(a=this.chart.plotArea.y1,x=this.chart.plotArea.y2+h/2+.5<<0):(a=this.chart.plotArea.y2,x=this.chart.plotArea.y1-h/2+.5<<0,t*=-1),this.bounds={x1:e-h/2,y1:a,x2:l+h/2,y2:x},this.ctx.moveTo(e,a),this.type==="straight"||this.scaleBreaks.parent._position==="top"&&0>=t||this.scaleBreaks.parent._position==="bottom"&&0<=t)this.ctx.lineTo(e,x),this.ctx.lineTo(l,x),this.ctx.lineTo(l,a);else if(this.type==="wavy"){m=e,u=a,r=.5,d=(x-u)/t/3;for(var p=0;p<d;p++)this.ctx.bezierCurveTo(m+r*t,u+t,m+r*t,u+2*t,m,u+3*t),u+=3*t,r*=-1;for(this.ctx.bezierCurveTo(m+r*t,u+t,m+r*t,u+2*t,m,u+3*t),m=l,r*=-1,this.ctx.lineTo(m,u),p=0;p<d;p++)this.ctx.bezierCurveTo(m+r*t,u-t,m+r*t,u-2*t,m,u-3*t),u-=3*t,r*=-1}else if(this.type==="zigzag"){for(r=-1,u=a+t,m=e+t,d=(x-u)/t/2,p=0;p<d;p++)this.ctx.lineTo(m,u),m+=2*r*t,u+=2*t,r*=-1;for(this.ctx.lineTo(m,u),m+=l-e,p=0;p<d+1;p++)this.ctx.lineTo(m,u),m+=2*r*t,u-=2*t,r*=-1;this.ctx.lineTo(m+r*t,u+t)}}else if(this.scaleBreaks.parent._position==="left"||this.scaleBreaks.parent._position==="right"){if(a=h%2===1?(a.y<<0)+.5:a.y<<0,x=h%2===1?(e.y<<0)+.5:e.y<<0,this.scaleBreaks.parent._position==="left"?(e=this.chart.plotArea.x1,l=this.chart.plotArea.x2+h/2+.5<<0):(e=this.chart.plotArea.x2,l=this.chart.plotArea.x1-h/2+.5<<0,t*=-1),this.bounds={x1:e,y1:a-h/2,x2:l,y2:x+h/2},this.ctx.moveTo(e,a),this.type==="straight"||this.scaleBreaks.parent._position==="left"&&0>=t||this.scaleBreaks.parent._position==="right"&&0<=t)this.ctx.lineTo(l,a),this.ctx.lineTo(l,x),this.ctx.lineTo(e,x);else if(this.type==="wavy"){for(m=e,u=a,r=.5,d=(l-m)/t/3,p=0;p<d;p++)this.ctx.bezierCurveTo(m+t,u+r*t,m+2*t,u+r*t,m+3*t,u),m+=3*t,r*=-1;for(this.ctx.bezierCurveTo(m+t,u+r*t,m+2*t,u+r*t,m+3*t,u),u=x,r*=-1,this.ctx.lineTo(m,u),p=0;p<d;p++)this.ctx.bezierCurveTo(m-t,u+r*t,m-2*t,u+r*t,m-3*t,u),m-=3*t,r*=-1}else if(this.type==="zigzag"){for(r=1,u=a-t,m=e+t,d=(l-m)/t/2,p=0;p<d;p++)this.ctx.lineTo(m,u),u+=2*r*t,m+=2*t,r*=-1;for(this.ctx.lineTo(m,u),u+=x-a,p=0;p<d+1;p++)this.ctx.lineTo(m,u),u+=2*r*t,m-=2*t,r*=-1;this.ctx.lineTo(m+t,u+r*t)}}0<h&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=i,this.ctx=n}},J(Se,De),Se.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var n=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(ni(this.parent.stripLines),n=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options.stripLines[n]=this.options}},Se.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),n=Math.abs(this._thicknessType==="pixel"?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<n){var i=this.opacity===null?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var e=this.ctx.globalAlpha;this.ctx.globalAlpha=i,bt(this.id);var a,r,l,x;this.ctx.lineWidth=n,this.ctx.setLineDash&&this.ctx.setLineDash(Pt(this.lineDashType,n)),this.parent._position==="bottom"||this.parent._position==="top"?(a=r=this.ctx.lineWidth%2===1?(t.x<<0)+.5:t.x<<0,l=this.chart.plotArea.y1,x=this.chart.plotArea.y2,this.bounds={x1:a-n/2,y1:l,x2:r+n/2,y2:x}):(this.parent._position==="left"||this.parent._position==="right")&&(l=x=this.ctx.lineWidth%2===1?(t.y<<0)+.5:t.y<<0,a=this.chart.plotArea.x1,r=this.chart.plotArea.x2,this.bounds={x1:a,y1:l-n/2,x2:r,y2:x+n/2}),this.ctx.moveTo(a,l),this.ctx.lineTo(r,x),this.ctx.stroke(),this.ctx.globalAlpha=e}this.ctx.restore()},J(pi,De),pi.prototype.showAt=function(t){if(!this.enabled)return!1;var n=this.chart,i=!1;n.resetOverlayedCanvas(),n.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent);var e,a=n.plotInfo.axisPlacement==="xySwapped";if(this.parent._position==="bottom"?e=a?n.axisY:n.axisX:this.parent._position==="top"?e=a?n.axisY2:n.axisX2:this.parent._position==="left"?e=a?n.axisX:n.axisY:this.parent._position==="right"&&(e=a?n.axisX2:n.axisY2),e)for(a=0;a<e.length;a++)this.parent===e[a]&&(e[a]._crosshairValue=t>=e[a].viewportMinimum&&t<=e[a].viewportMaximum?t:null);for(t=["axisX","axisX2","axisY","axisY2"],a=0;a<t.length;a++){e=t[a];for(var r=0;r<n[e].length;r++){var l=n[e][r],x=l._crosshairValue;l.crosshair&&l.crosshair.enabled&&(!B(x)&&x>=l.viewportMinimum&&x<=l.viewportMaximum?(n.sessionVariables.crosshairShownByPixel=!1,l.showCrosshair(x),l.sessionVariables.crosshairValue=l.crosshair._updatedValue=x,this===l.crosshair&&(i=!0)):x!==void 0&&(l.sessionVariables.crosshairValue=null,l.crosshair._updatedValue=null))}}return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.sessionVariables._dataHighlighted&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),i},pi.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.sessionVariables._dataHighlighted&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),this.chart.renderCrosshairs(this.parent),this.parent.sessionVariables._crosshairHidden=this._hidden=!0},pi.prototype.render=function(t,n,i){var e,a,r,l,x=null,m=null,u=null,d="";this.valueFormatString||(this.parent.valueType==="dateTime"?this.valueFormatString=this.parent.valueFormatString:(u=0,u=this.chart.plotInfo.axisPlacement==="xySwapped"?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=at.generateValueFormatString(this.parent.range,u)));var h=this.opacity===null?1:this.opacity,p=Math.abs(this._thicknessType==="pixel"?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),s=this.chart.overlaidCanvasCtx,b=s.globalAlpha;if(s.beginPath(),s.strokeStyle=this.color,s.lineWidth=p,s.save(),this.labelFontSize=Math.abs(B(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=B(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=B(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:1.5*this.labelFontSize+(typeof this.labelPadding=="object"?(this.labelPadding.top||0)+(this.labelPadding.bottom||0):2*this.labelPadding),0<p&&s.setLineDash&&s.setLineDash(Pt(this.lineDashType,p)),u=new Be(s,{x:0,y:0,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:d,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,padding:this.labelPadding,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var k=0,d=[];if(this.chart.plotInfo.axisPlacement==="xySwapped"){var w=null;this.parent._position==="bottom"||this.parent._position==="top"?k=this.parent.dataSeries[0].axisX.convertPixelToValue({y:this.chart.sessionVariables.crosshairShownByPixel?this.chart.sessionVariables.mouseY:n}):(this.parent._position==="left"||this.parent._position==="right")&&(k=this.parent.convertPixelToValue({y:n}));for(var f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0,!0))&&0<=w.index&&(w.dataSeries=this.parent.dataSeries[f],w.dataPoint.y!==null&&w.dataSeries.visible&&d.push(w));if(w=null,d.length===0)return;d.sort(function(V,et){return V.distance-et.distance});var _=w=0;yPercent=cumulativeY=0;for(var k=1/0,C,f=0;f<d.length;f++){if(d[f].dataSeries.type==="rangeBar"||d[f].dataSeries.type==="error"){if(d[f].dataPoint.y)for(var E=0;E<d[f].dataPoint.y.length;E++)_=Math.abs(t-this.parent.convertValueToPixel(d[f].dataPoint.y[E])),_<=k&&(k=_,w=f)}else d[f].dataSeries.type==="stackedBar"?(cumulativeY=d[f].dataSeries.dataPointEOs[d[f].index].cumulativeY,_=Math.abs(t-this.parent.convertValueToPixel(cumulativeY)),_<=k&&(k=_,w=f)):d[f].dataSeries.type==="stackedBar100"?(_=d[0].dataPoint.x.getTime?d[0].dataPoint.x.getTime():d[0].dataPoint.x,B(C)&&(C=Math.abs(t-this.parent.convertValueToPixel(100*(d[0].dataSeries.dataPointEOs[d[0].index].cumulativeY/d[0].dataSeries.plotUnit.dataPointYSums[_])))),cumulativeY=d[f].dataSeries.dataPointEOs[d[f].index].cumulativeY,_=d[f].dataPoint.x.getTime?d[f].dataPoint.x.getTime():d[f].dataPoint.x,yPercent=100*(cumulativeY/d[f].dataSeries.plotUnit.dataPointYSums[_]),_=Math.abs(t-this.parent.convertValueToPixel(yPercent)),_<=C&&(C=_,w=f)):(_=Math.abs(t-this.parent.convertValueToPixel(d[f].dataPoint.y)),_<=k&&(k=_,w=f));B(C)||(k=Math.min(k,C))}if(C=d[w],f=0,this.parent._position==="bottom"||this.parent._position==="top"){if(C.dataSeries.type==="rangeBar"||C.dataSeries.type==="error"){for(k=Math.abs(t-this.parent.convertValueToPixel(C.dataPoint.y[0])),d=0;d<C.dataPoint.y.length;d++)_=Math.abs(t-this.parent.convertValueToPixel(C.dataPoint.y[d])),_<k&&(k=_,f=d);x=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y[f])<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y[f])<<0,this.value=C.dataPoint.y[f],u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y[f]}):B(this.options.label)?Re(C.dataPoint.y[f],this.valueFormatString,this.chart._cultureInfo):this.label}else C.dataSeries.type==="stackedBar"?(k=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),cumulativeY=C.dataSeries.dataPointEOs[C.index].cumulativeY,x=s.lineWidth%2===1?(this.parent.convertValueToPixel(cumulativeY)<<0)+.5:this.parent.convertValueToPixel(cumulativeY)<<0,this.value=cumulativeY,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):B(this.options.label)?Re(cumulativeY,this.valueFormatString,this.chart._cultureInfo):this.label):C.dataSeries.type==="stackedBar100"?(k=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),cumulativeY=C.dataSeries.dataPointEOs[C.index].cumulativeY,_=C.dataPoint.x.getTime?C.dataPoint.x.getTime():C.dataPoint.x,yPercent=100*(cumulativeY/C.dataSeries.plotUnit.dataPointYSums[_]),x=s.lineWidth%2===1?(this.parent.convertValueToPixel(yPercent)<<0)+.5:this.parent.convertValueToPixel(yPercent)<<0,this.value=yPercent,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):B(this.options.label)?Re(yPercent,this.valueFormatString,this.chart._cultureInfo):this.label):(x=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y)<<0,this.value=C.dataPoint.y,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y}):B(this.options.label)?Re(C.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);e=a=x,r=this.chart.plotArea.y1,l=this.chart.plotArea.y2,this.bounds={x1:e-p/2,y1:r,x2:a+p/2,y2:l},u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2?u.x=this.chart.bounds.x2-u.width:u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),u.y=this.parent.lineCoordinates.y2+(this.parent._position==="top"?-u.height+this.parent.tickLength:u.fontSize/2)+2,u.y+u.height>this.chart.bounds.y2?u.y=this.chart.bounds.y2-u.height:u.y<this.chart.bounds.y1&&(u.y=this.chart.bounds.y1)}else if(this.parent._position==="left"||this.parent._position==="right"){if(r=l=m=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.x)<<0,e=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:e,y1:r-p/2,x2:a,y2:l+p/2},f=!1,this.parent.labels)for(k=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=k)if(this.parent.labels[d])f=!0;else{f=!1;break}if(f){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({y:n}),w=null,f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0,!0))&&0<=w.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):B(this.options.label)?w.dataPoint.label:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):B(this.options.label)?Re(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):B(this.options.label)?Rt(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=C.dataPoint.x,u.y=l+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x2-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2)}}else if(this.parent._position==="bottom"||this.parent._position==="top"){for(k=this.parent.convertPixelToValue({x:t}),f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0,!0))&&0<=w.index&&(w.dataSeries=this.parent.dataSeries[f],w.dataPoint.y!==null&&w.dataSeries.visible&&d.push(w));if(d.length===0)return;if(d.sort(function(V,et){return V.distance-et.distance}),C=d[0],e=a=x=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.x)<<0,r=this.chart.plotArea.y1,l=this.chart.plotArea.y2,this.bounds={x1:e-p/2,y1:r,x2:a+p/2,y2:l},f=!1,this.parent.labels)for(k=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=k)if(this.parent.labels[d])f=!0;else{f=!1;break}if(f){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({x:t}),w=null,f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0,!0))&&0<=w.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):B(this.options.label)?w.dataPoint.label:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):B(this.options.label)?Re(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):B(this.options.label)?Rt(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=C.dataPoint.x,u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.width),u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="bottom"?u.y=this.parent.lineCoordinates.y2+u.fontSize/2+2:this.parent._position==="top"&&(u.y=this.parent.lineCoordinates.y1-u.height+u.fontSize/2+2)}else if(this.parent._position==="left"||this.parent._position==="right"){for(!B(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(k=this.parent.dataSeries[0].axisX.convertPixelToValue({x:this.chart.sessionVariables.crosshairShownByPixel?this.chart.sessionVariables.mouseX:t})),f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0,!0))&&0<=w.index&&(w.dataSeries=this.parent.dataSeries[f],w.dataPoint.y!==null&&w.dataSeries.visible&&d.push(w));if(d.length===0)return;for(d.sort(function(V,et){return V.distance-et.distance}),_=w=0,k=1/0,f=0;f<d.length;f++){if(d[f].dataSeries.type==="rangeColumn"||d[f].dataSeries.type==="rangeArea"||d[f].dataSeries.type==="error"||d[f].dataSeries.type==="rangeSplineArea"||d[f].dataSeries.type==="candlestick"||d[f].dataSeries.type==="ohlc"||d[f].dataSeries.type==="boxAndWhisker"){if(d[f].dataPoint.y)for(E=0;E<d[f].dataPoint.y.length;E++)_=Math.abs(n-this.parent.convertValueToPixel(d[f].dataPoint.y[E])),_<=k&&(k=_,w=f)}else d[f].dataSeries.type==="stackedColumn"?(t=d[f].dataSeries.dataPointEOs[d[f].index].cumulativeY,_=Math.abs(n-this.parent.convertValueToPixel(t)),_<=k&&(k=_,w=f)):d[f].dataSeries.type==="stackedArea"?(t=d[f].dataSeries.dataPointEOs[d[f].index].cumulativeY,_=Math.abs(n-this.parent.convertValueToPixel(t)),_<=k&&(k=_,w=f)):d[f].dataSeries.type==="stackedColumn100"||d[f].dataSeries.type==="stackedArea100"?(_=d[0].dataPoint.x.getTime?d[0].dataPoint.x.getTime():d[0].dataPoint.x,B(C)&&(C=Math.abs(n-this.parent.convertValueToPixel(100*(d[0].dataSeries.dataPointEOs[d[0].index].cumulativeY/d[0].dataSeries.plotUnit.dataPointYSums[_])))),d[f].dataSeries.type==="stackedColumn100"?(m=d[f].dataSeries.dataPointEOs[d[f].index].cumulativeY,_=d[f].dataPoint.x.getTime?d[f].dataPoint.x.getTime():d[f].dataPoint.x,t=100*(m/d[f].dataSeries.plotUnit.dataPointYSums[_]),_=Math.abs(n-this.parent.convertValueToPixel(t)),_<=C&&(C=_,w=f)):d[f].dataSeries.type==="stackedArea100"&&(m=d[f].dataSeries.dataPointEOs[d[f].index].cumulativeY,_=d[f].dataPoint.x.getTime?d[f].dataPoint.x.getTime():d[f].dataPoint.x,t=100*(m/d[f].dataSeries.plotUnit.dataPointYSums[_]),_=Math.abs(n-this.parent.convertValueToPixel(t)),_<=C&&(C=_,w=f))):d[f].dataSeries.type==="waterfall"?(_=Math.abs(n-this.parent.convertValueToPixel(d[f].dataSeries.dataPointEOs[d[f].index].cumulativeSum)),_<=k&&(C=k=_,w=f)):(_=Math.abs(n-this.parent.convertValueToPixel(d[f].dataPoint.y)),_<=k&&(k=_,w=f));B(C)||(k=Math.min(k,C))}if(C=d[w],f=0,C.dataSeries.type==="rangeColumn"||C.dataSeries.type==="rangeArea"||C.dataSeries.type==="error"||C.dataSeries.type==="rangeSplineArea"||C.dataSeries.type==="candlestick"||C.dataSeries.type==="ohlc"||C.dataSeries.type==="boxAndWhisker"){for(k=Math.abs(n-this.parent.convertValueToPixel(C.dataPoint.y[0])),d=0;d<C.dataPoint.y.length;d++)_=Math.abs(n-this.parent.convertValueToPixel(C.dataPoint.y[d])),_<k&&(k=_,f=d);m=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y[f])<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y[f])<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y[f]}):B(this.options.label)?Re(C.dataPoint.y[f],this.valueFormatString,this.chart._cultureInfo):this.label,this.value=C.dataPoint.y[f]}else C.dataSeries.type==="stackedColumn"?(t=C.dataSeries.dataPointEOs[C.index].cumulativeY,m=s.lineWidth%2===1?(this.parent.convertValueToPixel(t)<<0)+.5:this.parent.convertValueToPixel(t)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:t}):B(this.options.label)?Re(t,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=t):C.dataSeries.type==="stackedArea"?(t=C.dataSeries.dataPointEOs[C.index].cumulativeY,m=s.lineWidth%2===1?(this.parent.convertValueToPixel(t)<<0)+.5:this.parent.convertValueToPixel(t)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:t}):B(this.options.label)?Re(t,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=t):C.dataSeries.type==="stackedColumn100"?(m=C.dataSeries.dataPointEOs[C.index].cumulativeY,_=C.dataPoint.x.getTime?C.dataPoint.x.getTime():C.dataPoint.x,t=100*(m/C.dataSeries.plotUnit.dataPointYSums[_]),m=s.lineWidth%2===1?(this.parent.convertValueToPixel(t)<<0)+.5:this.parent.convertValueToPixel(t)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:t}):B(this.options.label)?Re(t,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=t):C.dataSeries.type==="stackedArea100"?(m=C.dataSeries.dataPointEOs[C.index].cumulativeY,_=C.dataPoint.x.getTime?C.dataPoint.x.getTime():C.dataPoint.x,t=100*(m/C.dataSeries.plotUnit.dataPointYSums[_]),m=s.lineWidth%2===1?(this.parent.convertValueToPixel(t)<<0)+.5:this.parent.convertValueToPixel(t)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:t}):B(this.options.label)?Re(t,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=t):C.dataSeries.type==="waterfall"?(m=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataSeries.dataPointEOs[C.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(C.dataSeries.dataPointEOs[C.index].cumulativeSum)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataSeries.dataPointEOs[C.index].cumulativeSum}):B(this.options.label)?Re(C.dataSeries.dataPointEOs[C.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=C.dataSeries.dataPointEOs[C.index].cumulativeSum):(m=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y}):B(this.options.label)?Re(C.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=C.dataPoint.y);r=l=m,e=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:e,y1:r-p/2,x2:a,y2:l+p/2},u.y=l+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x2-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2)}d=null,s.globalAlpha=h,(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent._position==="top"&&u.y-u.fontSize/2<this.chart.bounds.y1&&(u.y=this.chart.bounds.y1+u.fontSize/2),this.parent._position==="bottom"&&this.parent.lineCoordinates.y2+u.measureText().height>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.height+u.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<p&&(s.moveTo(e,r),s.lineTo(a,l),s.stroke(),this.parent.sessionVariables._crosshairHidden=this._hidden=!1)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent._position==="left"&&u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="right"&&u.x+u.measureText().width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<p&&(s.moveTo(e,r),s.lineTo(a,l),s.stroke(),this.parent.sessionVariables._crosshairHidden=this._hidden=!1))}else{if(this.parent._position==="bottom"||this.parent._position==="top"?(e=a=x=s.lineWidth%2===1?(t<<0)+.5:t<<0,r=this.chart.plotArea.y1,l=this.chart.plotArea.y2,this.bounds={x1:e-p/2,y1:r,x2:a+p/2,y2:l}):(this.parent._position==="left"||this.parent._position==="right")&&(r=l=m=s.lineWidth%2===1?(n<<0)+.5:n<<0,e=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:e,y1:r-p/2,x2:a,y2:l+p/2}),this.chart.plotInfo.axisPlacement==="xySwapped")if(this.parent._position==="left"||this.parent._position==="right"){if(f=!1,this.parent.labels)for(k=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=k)if(this.parent.labels[d])f=!0;else{f=!1;break}if(f){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({y:n}),w=null,f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0))&&0<=w.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(t):i}):B(this.options.label)?w.dataPoint.label:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(n):i}):B(this.options.label)?Re(B(i)?this.parent.convertPixelToValue(n):i,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(n):i}):B(this.options.label)?Rt(B(i)?this.parent.convertPixelToValue(n):i,this.valueFormatString,this.chart._cultureInfo):this.label;u.y=n+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x1-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2)}else(this.parent._position==="bottom"||this.parent._position==="top")&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(t):i}):B(this.options.label)?Re(B(i)?this.parent.convertPixelToValue(t):i,this.valueFormatString,this.chart._cultureInfo):this.label,u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.width),u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="bottom"?u.y=this.parent.lineCoordinates.y2+u.fontSize/2+2:this.parent._position==="top"&&(u.y=this.parent.lineCoordinates.y1-u.height+u.fontSize/2+2));else if(this.parent._position==="bottom"||this.parent._position==="top"){if(f=!1,d="",this.parent.labels)for(k=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=k)if(this.parent.labels[d])f=!0;else{f=!1;break}if(f){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({x:t}),w=null,f=0;f<this.parent.dataSeries.length;f++)(w=this.parent.dataSeries[f].getDataPointAtX(k,!0))&&0<=w.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(t):i}):B(this.options.label)?B(i)?w.dataPoint.label:i:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):"":i}):B(this.options.label)?Re(B(i)?this.parent.convertPixelToValue(t):i,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(t):i}):B(this.options.label)?Rt(B(i)?this.parent.convertPixelToValue(t):i,this.valueFormatString,this.chart._cultureInfo):this.label;u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.width),u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="bottom"?u.y=this.parent.lineCoordinates.y2+u.fontSize/2+2:this.parent._position==="top"&&(u.y=this.parent.lineCoordinates.y1-u.height+u.fontSize/2+2)}else(this.parent._position==="left"||this.parent._position==="right")&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:B(i)?this.parent.convertPixelToValue(n):i}):B(this.options.label)?Re(B(i)?this.parent.convertPixelToValue(n):i,this.valueFormatString,this.chart._cultureInfo):this.label,u.y=n+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x2-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2));this.parent._position==="left"&&u.x<this.chart.bounds.x1?u.x=this.chart.bounds.x1:this.parent._position==="right"&&u.x+u.measureText().width>this.chart.bounds.x2?u.x=this.chart.bounds.x2-u.measureText().width:this.parent._position==="top"&&u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2:this.parent._position==="bottom"&&this.parent.lineCoordinates.y2+u.measureText().height>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.height+u.fontSize/2+2),s.globalAlpha=h,0<p&&(s.moveTo(e,r),s.lineTo(a,l),s.stroke(),this.parent.sessionVariables._crosshairHidden=this._hidden=!1),this.value=this.parent._position==="bottom"||this.parent._position==="top"?this.parent.convertPixelToValue(t):this.parent.convertPixelToValue(n)}(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(x)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(m)),this._textBlock=u,this._label=i,B(i)||this.renderLabel(),s.restore(),s.globalAlpha=b},pi.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(B(this._textBlock)||B(this._textBlock.text)||!(typeof this._textBlock.text.valueOf()=="number"||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),B(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},J(Xe,De),Xe.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},Xe.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var t=document.createElement("div");t.style.width="auto",t.style.height="auto",t.style.minWidth="50px",t.style.lineHeight="normal",t.style.margin="0px 0px 0px 0px",t.style.padding="5px",t.style.fontFamily="Calibri, Arial, Georgia, serif",t.style.fontWeight="normal",t.style.fontStyle=R?"italic":"normal",t.style.fontSize="14px",t.style.color="#000000",t.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",t.style.textAlign="left",t.style.border="2px solid gray",t.style.background=R?"rgba(255,255,255,.9)":"rgb(255,255,255)",t.style.textIndent="0px",t.style.whiteSpace="nowrap",t.style.borderRadius="5px",t.style.MozUserSelect="none",t.style.WebkitUserSelect="none",t.style.msUserSelect="none",t.style.userSelect="none",R||(t.style.filter="alpha(opacity = 90)",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),t.innerText="Sample Tooltip",this.container.appendChild(t),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Xe.prototype.mouseMoveHandler=function(t,n){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,n),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.container&&this.container.style&&this.dispatchEvent(this.container.style.display==="none"?"hidden":"updated",this._updatedEventParameters,this))},Xe.prototype._updateToolTip=function(t,n,i){if(i=typeof i>"u"?!0:i,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof t>"u"||typeof n>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,n=this._prevY}else this._prevX=t,this._prevY=n;var e=null,a=null,r=[],l=0;if(this.shared&&this.enabled&&this.chart.plotInfo.axisPlacement!=="none"){var x=[];if(this.chart.axisX)for(var m=0;m<this.chart.axisX.length;m++){for(var l=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX[m].convertPixelToValue({y:n}):this.chart.axisX[m].convertPixelToValue({x:t}),u=null,e=0;e<this.chart.axisX[m].dataSeries.length;e++)(u=this.chart.axisX[m].dataSeries[e].getDataPointAtX(l,i,!0))&&0<=u.index&&(u.dataSeries=this.chart.axisX[m].dataSeries[e],u.dataPoint.y!==null&&u.dataSeries.visible&&x.push(u));u=null}if(this.chart.axisX2)for(m=0;m<this.chart.axisX2.length;m++){for(l=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX2[m].convertPixelToValue({y:n}):this.chart.axisX2[m].convertPixelToValue({x:t}),u=null,e=0;e<this.chart.axisX2[m].dataSeries.length;e++)(u=this.chart.axisX2[m].dataSeries[e].getDataPointAtX(l,i,!0))&&0<=u.index&&(u.dataSeries=this.chart.axisX2[m].dataSeries[e],u.dataPoint.y!==null&&u.dataSeries.visible&&x.push(u));u=null}if(x.length===0)return;for(x.sort(function(d,h){return d.dataSeries.axisX.logarithmic||h.dataSeries.axisX.logarithmic?d.distance-h.distance:d.distance/d.dataSeries.axisX.range-h.distance/h.dataSeries.axisX.range}),i=x[0],e=0;e<x.length;e++)x[e].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&r.push(x[e]);x=null}else{if(e=this.chart.getDataPointAtXY(t,n,i))this.currentDataPointIndex=e.dataPointIndex,this.currentSeriesIndex=e.dataSeries.index;else if(R)if(e=qt(t,n,this.chart._eventManager.ghostCtx),0<e&&typeof this.chart._eventManager.objectMap[e]<"u"){if(e=this.chart._eventManager.objectMap[e],e.objectType==="legendItem")return;this.currentSeriesIndex=e.dataSeriesIndex,this.currentDataPointIndex=0<=e.dataPointIndex?e.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(a=this.chart.data[this.currentSeriesIndex],u={},0<=this.currentDataPointIndex)e=a.dataPoints[this.currentDataPointIndex],u.dataSeries=a,u.dataPoint=e,u.index=this.currentDataPointIndex,u.distance=Math.abs(e.x-l),a.type==="waterfall"&&(u.cumulativeSumYStartValue=a.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,u.cumulativeSum=a.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else if(this.enabled&&a&&(a.type==="line"||a.type==="stepLine"||a.type==="spline"||a.type==="area"||a.type==="stepArea"||a.type==="splineArea"||a.type==="stackedArea"||a.type==="stackedArea100"||a.type==="rangeArea"||a.type==="rangeSplineArea"||a.type==="candlestick"||a.type==="ohlc"||a.type==="boxAndWhisker"))l=a.axisX.convertPixelToValue({x:t}),u=a.getDataPointAtX(l,i,!0),B(u)||(u.dataSeries=a,this.currentDataPointIndex=u.index,e=u.dataPoint);else{this.chart.clearedOverlayedCanvas==="toolTip"&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null,this.chart.sessionVariables._dataHighlighted=!1,this.container&&(this.container.style.display="none"));return}if(!B(u)&&!B(u.dataPoint)&&!B(u.dataPoint.y))if(u.dataSeries.axisY)if(0<u.dataPoint.y.length){for(e=i=0;e<u.dataPoint.y.length;e++)u.dataPoint.y[e]<u.dataSeries.axisY.viewportMinimum?i--:u.dataPoint.y[e]>u.dataSeries.axisY.viewportMaximum&&i++;i<u.dataPoint.y.length&&i>-u.dataPoint.y.length&&r.push(u)}else a.type==="column"||a.type==="bar"?0>u.dataPoint.y?0>u.dataSeries.axisY.viewportMinimum&&u.dataSeries.axisY.viewportMaximum>=u.dataPoint.y&&r.push(u):u.dataSeries.axisY.viewportMinimum<=u.dataPoint.y&&0<=u.dataSeries.axisY.viewportMaximum&&r.push(u):a.type==="bubble"?(i=this.chart._eventManager.objectMap[a.dataPointIds[u.index]].size/2,u.dataPoint.y>=u.dataSeries.axisY.viewportMinimum-i&&u.dataPoint.y<=u.dataSeries.axisY.viewportMaximum+i&&r.push(u)):a.type==="waterfall"?(i=0,u.cumulativeSumYStartValue<u.dataSeries.axisY.viewportMinimum?i--:u.cumulativeSumYStartValue>u.dataSeries.axisY.viewportMaximum&&i++,u.cumulativeSum<u.dataSeries.axisY.viewportMinimum?i--:u.cumulativeSum>u.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&r.push(u)):(0<=u.dataSeries.type.indexOf("100")||a.type==="stackedColumn"||a.type==="stackedBar"||a.type==="stackedArea"||u.dataPoint.y>=u.dataSeries.axisY.viewportMinimum&&u.dataPoint.y<=u.dataSeries.axisY.viewportMaximum)&&r.push(u);else r.push(u)}}if(0<r.length){if(this._entries=r,this.highlightObjects(r),this.enabled){if(i="",i=this.getToolTipInnerHTML({entries:r}),i!==null){if(this.contentDiv.innerHTML=i,this.isToolTipDefinedInData&&B(this.options.content)&&B(this.options.contentFormatter))for(l=this.contentDiv.getElementsByTagName("span"),e=0;e<l.length;e++)l[e]&&(l[e].style.color=l[e].getAttribute("data-color"));l=!1,this.container.style.display==="none"&&(l=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:R?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=r[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:r[0].dataPoint.color?r[0].dataPoint.color:0<r[0].dataPoint.y?r[0].dataSeries.risingColor:r[0].dataSeries.fallingColor:r[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:r[0].dataSeries.color?r[0].dataSeries.color:r[0].dataSeries._colorSet[a.index%r[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:r[0].dataPoint.color?r[0].dataPoint.color:r[0].dataSeries.color?r[0].dataSeries.color:r[0].dataSeries._colorSet[r[0].index%r[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:R?"italic":"normal"}catch{}r[0].dataSeries.type==="pie"||r[0].dataSeries.type==="doughnut"||r[0].dataSeries.type==="funnel"||r[0].dataSeries.type==="pyramid"||r[0].dataSeries.type==="bar"||r[0].dataSeries.type==="rangeBar"||r[0].dataSeries.type==="stackedBar"||r[0].dataSeries.type==="stackedBar100"?t=t-10-this.container.clientWidth:(t=r[0].dataSeries.axisX.convertValueToPixel(r[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t=Math.max(0,t+this.container.clientWidth+20)),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),n=r.length!==1||this.shared||r[0].dataSeries.type!=="line"&&r[0].dataSeries.type!=="stepLine"&&r[0].dataSeries.type!=="spline"&&r[0].dataSeries.type!=="area"&&r[0].dataSeries.type!=="stepArea"&&r[0].dataSeries.type!=="splineArea"?r[0].dataSeries.type==="bar"||r[0].dataSeries.type==="rangeBar"||r[0].dataSeries.type==="stackedBar"||r[0].dataSeries.type==="stackedBar100"?r[0].dataSeries.axisX.convertValueToPixel(r[0].dataPoint.x):n:r[0].dataSeries.axisY.convertValueToPixel(r[0].dataPoint.y),n=-n+10,0<n+this.container.clientHeight+5&&(n-=n+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,n),!this.animationEnabled||l?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=t,this.positionBottom=n,this.container.style.left=t+"px",this.container.style.bottom=n+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(n=[],e=0;e<r.length;e++)n.push({xValue:r[e].dataPoint.x,dataPoint:r[e].dataPoint,dataSeries:r[e].dataSeries,dataPointIndex:r[e].index,dataSeriesIndex:r[e].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:i,entries:n}}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},Xe.prototype.highlightObjects=function(t){var n=this.chart.overlaidCanvasCtx;B(this.chart.clearedOverlayedCanvas)||this.chart.clearedOverlayedCanvas==="toolTip"?(this.chart.resetOverlayedCanvas(),n.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip",this.chart.sessionVariables._dataHighlighted=!1):this.chart.clearedOverlayedCanvas=null,n.save();var i=this.chart.plotArea,e=0;for(n.beginPath(),n.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),n.clip(),i=0;i<t.length;i++){var a=t[i];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&a.objectType==="dataPoint"){var e=this.chart.data[a.dataSeriesIndex],r=e.dataPoints[a.dataPointIndex],l=a.dataPointIndex;r.highlightEnabled===!1||e.highlightEnabled!==!0&&r.highlightEnabled!==!0||(e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="scatter"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="stackedArea"||e.type==="stackedArea100"||e.type==="rangeArea"||e.type==="rangeSplineArea"?(r=e.getMarkerProperties(l,a.x1,a.y1,this.chart.overlaidCanvasCtx),r.size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),Ie.drawMarkers([r]),typeof a.y2<"u"&&(r=e.getMarkerProperties(l,a.x1,a.y2,this.chart.overlaidCanvasCtx),r.size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),Ie.drawMarkers([r])),this.chart.sessionVariables._dataHighlighted=!0):e.type==="bubble"?(r=e.getMarkerProperties(l,a.x1,a.y1,this.chart.overlaidCanvasCtx),r.size=a.size,r.color="white",r.borderColor="white",n.globalAlpha=.3,Ie.drawMarkers([r]),n.globalAlpha=1,this.chart.sessionVariables._dataHighlighted=!0):e.type==="column"||e.type==="stackedColumn"||e.type==="stackedColumn100"||e.type==="bar"||e.type==="rangeBar"||e.type==="stackedBar"||e.type==="stackedBar100"||e.type==="rangeColumn"||e.type==="waterfall"?(Pe(n,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3),this.chart.sessionVariables._dataHighlighted=!0):e.type==="pie"||e.type==="doughnut"?(Ge(n,a.center,a.radius,"white",e.type,a.startAngle,a.endAngle,.3,a.percentInnerRadius),this.chart.sessionVariables._dataHighlighted=!0):e.type==="funnel"||e.type==="pyramid"?(ii(n,a.funnelSection,.3,"white"),this.chart.sessionVariables._dataHighlighted=!0):e.type==="candlestick"?(n.globalAlpha=1,n.strokeStyle=a.color,n.lineWidth=2*a.borderThickness,e=n.lineWidth%2===0?0:.5,n.beginPath(),n.moveTo(a.x3-e,Math.min(a.y2,a.y3)),n.lineTo(a.x3-e,Math.min(a.y1,a.y4)),n.stroke(),n.beginPath(),n.moveTo(a.x3-e,Math.max(a.y1,a.y4)),n.lineTo(a.x3-e,Math.max(a.y2,a.y3)),n.stroke(),Pe(n,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1),n.globalAlpha=1,this.chart.sessionVariables._dataHighlighted=!0):e.type==="ohlc"?(n.globalAlpha=1,n.strokeStyle=a.color,n.lineWidth=2*a.borderThickness,e=n.lineWidth%2===0?0:.5,n.beginPath(),n.moveTo(a.x3-e,a.y2),n.lineTo(a.x3-e,a.y3),n.stroke(),n.beginPath(),n.moveTo(a.x3,a.y1),n.lineTo(a.x1,a.y1),n.stroke(),n.beginPath(),n.moveTo(a.x3,a.y4),n.lineTo(a.x2,a.y4),n.stroke(),n.globalAlpha=1,this.chart.sessionVariables._dataHighlighted=!0):e.type==="boxAndWhisker"?(n.save(),n.globalAlpha=1,n.strokeStyle=a.stemColor,n.lineWidth=2*a.stemThickness,0<a.stemThickness&&(n.beginPath(),n.moveTo(a.x3,a.y2+a.borderThickness/2),n.lineTo(a.x3,a.y1+a.whiskerThickness/2),n.stroke(),n.beginPath(),n.moveTo(a.x3,a.y4-a.whiskerThickness/2),n.lineTo(a.x3,a.y3-a.borderThickness/2),n.stroke()),n.beginPath(),Pe(n,a.x1,Math.max(a.y2,a.y3),a.x2,Math.min(a.y2,a.y3),"transparent",2*a.borderThickness,a.color,!1,!1),n.globalAlpha=1,n.strokeStyle=a.whiskerColor,n.lineWidth=2*a.whiskerThickness,0<a.whiskerThickness&&(n.beginPath(),n.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y4),n.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y4),n.stroke(),n.beginPath(),n.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y1),n.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y1),n.stroke()),n.globalAlpha=1,n.strokeStyle=a.lineColor,n.lineWidth=2*a.lineThickness,0<a.lineThickness&&(n.beginPath(),n.moveTo(a.x1,a.y5),n.lineTo(a.x2,a.y5),n.stroke()),n.restore(),n.globalAlpha=1,this.chart.sessionVariables._dataHighlighted=!0):e.type==="error"&&(Z(n,a.x1,a.y1,a.x2,a.y2,"white",a.whiskerProperties,a.stemProperties,a.isXYSwapped,.3),this.chart.sessionVariables._dataHighlighted=!0))}}n.restore(),n.globalAlpha=1,n.beginPath()},Xe.prototype.getToolTipInnerHTML=function(t){t=t.entries;var n=null,i=null,e=null,a=0,r="";this.isToolTipDefinedInData=!0;for(var l=0;l<t.length;l++)if(t[l].dataSeries.toolTipContent||t[l].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&typeof this.content=="function"||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},n=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){for(var x=null,m="",l=0;l<t.length;l++){if(i=t[l].dataSeries,e=t[l].dataPoint,a=t[l].index,r="",l===0&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?m+=typeof this.chart.axisX[0].labels[e.x]<"u"?this.chart.axisX[0].labels[e.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(m+=typeof this.chart.axisX2[0].labels[e.x]<"u"?this.chart.axisX2[0].labels[e.x]:"{x}"),m+="</br>",!i.visible)continue;m=this.chart.replaceKeywordsWithValue(m,e,i,a)}e.toolTipContent===null||typeof e.toolTipContent>"u"&&i.options.toolTipContent===null||(i.type==="line"||i.type==="stepLine"||i.type==="spline"||i.type==="area"||i.type==="stepArea"||i.type==="splineArea"||i.type==="column"||i.type==="bar"||i.type==="scatter"||i.type==="stackedColumn"||i.type==="stackedColumn100"||i.type==="stackedBar"||i.type==="stackedBar100"||i.type==="stackedArea"||i.type==="stackedArea100"||i.type==="waterfall"?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=x!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}`,x=i.axisXIndex):i.type==="bubble"?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=x!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}`):i.type==="rangeColumn"||i.type==="rangeBar"||i.type==="rangeArea"||i.type==="rangeSplineArea"||i.type==="error"?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=x!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}`):i.type==="candlestick"||i.type==="ohlc"?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=x!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}`):i.type==="boxAndWhisker"&&(this.chart.axisX&&1<this.chart.axisX.length&&(r+=x!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}`),n===null&&(n=""),i.visible&&(this.reversed===!0?(n=this.chart.replaceKeywordsWithValue(r,e,i,a)+n,l<t.length-1&&(n="</br>"+n)):(n+=this.chart.replaceKeywordsWithValue(r,e,i,a),l<t.length-1&&(n+="</br>"))))}n!==null&&(n=m+n)}else{if(i=t[0].dataSeries,e=t[0].dataPoint,a=t[0].index,e.toolTipContent===null||typeof e.toolTipContent>"u"&&i.options.toolTipContent===null)return null;i.type==="line"||i.type==="stepLine"||i.type==="spline"||i.type==="area"||i.type==="stepArea"||i.type==="splineArea"||i.type==="column"||i.type==="bar"||i.type==="scatter"||i.type==="stackedColumn"||i.type==="stackedColumn100"||i.type==="stackedBar"||i.type==="stackedBar100"||i.type==="stackedArea"||i.type==="stackedArea100"||i.type==="waterfall"?r=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":i.type==="bubble"?r=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":i.type==="pie"||i.type==="doughnut"||i.type==="funnel"||i.type==="pyramid"?r=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.name?"{name}:</span>&nbsp;&nbsp;":e.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":i.type==="rangeColumn"||i.type==="rangeBar"||i.type==="rangeArea"||i.type==="rangeSplineArea"||i.type==="error"?r=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":i.type==="candlestick"||i.type==="ohlc"?r=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":i.type==="boxAndWhisker"&&(r=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),n===null&&(n=""),n+=this.chart.replaceKeywordsWithValue(r,e,i,a)}return n},Xe.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},Xe.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Xe.prototype.hide=function(t){if(!(!this.container||this.container&&this.container.style&&this.container.style.display==="none")){var n=typeof t>"u"||this.chart.clearedOverlayedCanvas.indexOf("axis")!==-1;this.chart.sessionVariables._dataHighlighted=!1,this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof t>"u"||t)&&(this.chart.resetOverlayedCanvas(),n&&this.chart.renderCrosshairs())}},Xe.prototype.show=function(t,n,i){this._updateToolTip(t,n,typeof i>"u"?!1:i)},Xe.prototype.showAtIndex=function(t,n){},Xe.prototype.showAtX=function(t,n){if(!this.enabled)return!1;!B(this.chart.clearedOverlayedCanvas)&&this.chart.clearedOverlayedCanvas.indexOf("axis")&&(this.chart.clearedOverlayedCanvas=null),this._updateOptions();var i,e,a,r=[];if(a=!1,n=!B(n)&&0<=n&&n<this.chart.data.length?n:0,this.shared)for(var l=0;l<this.chart.data.length;l++)i=this.chart.data[l],(e=i.getDataPointAtX(t,!1))&&e.dataPoint&&!B(e.dataPoint.y)&&i.visible&&(e.dataSeries=i,this.chart.data[n].axisX.convertValueToPixel(t)===i.axisX.convertValueToPixel(e.dataPoint.x)&&r.push(e));else this.chart.data&&0<this.chart.data.length&&(i=this.chart.data[n],(e=i.getDataPointAtX(t,!1))&&e.dataPoint&&!B(e.dataPoint.y)&&i.visible&&(e.dataSeries=i,r.push(e)));if(0<r.length){for(l=0;l<r.length;l++)if(e=r[l],(this.shared||0<=e.dataSeries.type.indexOf("100"))&&e.dataSeries.axisX&&e.dataPoint.x>=e.dataSeries.axisX.viewportMinimum&&e.dataPoint.x<=e.dataSeries.axisX.viewportMaximum){a=!1;break}else if(e.dataSeries.axisX&&e.dataSeries.axisY&&(e.dataPoint.x<e.dataSeries.axisX.viewportMinimum||e.dataPoint.x>e.dataSeries.axisX.viewportMaximum||e.dataPoint.y<e.dataSeries.axisY.viewportMinimum||e.dataPoint.y>e.dataSeries.axisY.viewportMaximum))a=!0;else{a=!1;break}if(a)return this.hide(),!1;if(this.highlightObjects(r),this.chart.clearedOverlayedCanvas==="toolTip"&&this.chart.renderCrosshairs(),this._entries=r,l="",l=this.getToolTipInnerHTML({entries:r}),l!==null){if(this.contentDiv.innerHTML=l,this.isToolTipDefinedInData&&B(this.options.content)&&B(this.options.contentFormatter))for(e=this.contentDiv.getElementsByTagName("span"),l=0;l<e.length;l++)e[l]&&(e[l].style.color=e[l].getAttribute("data-color"));l=!1,this.container.style.display==="none"&&(l=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:R?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=r[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:r[0].dataPoint.color?r[0].dataPoint.color:0<r[0].dataPoint.y?r[0].dataSeries.risingColor:r[0].dataSeries.fallingColor:r[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:r[0].dataSeries.color?r[0].dataSeries.color:r[0].dataSeries._colorSet[i.index%r[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:r[0].dataPoint.color?r[0].dataPoint.color:r[0].dataSeries.color?r[0].dataSeries.color:r[0].dataSeries._colorSet[r[0].index%r[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:R?"italic":"normal"}catch{}r[0].dataSeries.type==="pie"||r[0].dataSeries.type==="doughnut"?i=r[0].dataSeries.dataPointEOs[r[0].index].center.x+r[0].dataSeries.radius*Math.cos(r[0].dataSeries.dataPointEOs[r[0].index].midAngle)+-(r[0].dataSeries.dataPointEOs[r[0].index].hemisphere==="left"?0:this.container.clientWidth):r[0].dataSeries.type==="funnel"||r[0].dataSeries.type==="pyramid"?(e=r[0].dataSeries.dataPointEOs[r[0].index].sectionsofFunnel,i=(e.x1+e.x2-this.container.clientWidth)/2):(i=r[0].dataSeries.type==="bar"||r[0].dataSeries.type==="rangeBar"||r[0].dataSeries.type==="stackedBar"||r[0].dataSeries.type==="stackedBar100"?r[0].dataSeries.axisY.convertValueToPixel(r[0].dataPoint.y.length?r[0].dataPoint.y[r[0].dataPoint.y.length-1]:r[0].dataPoint.y)-this.container.clientWidth<<0:r[0].dataSeries.axisX.convertValueToPixel(r[0].dataPoint.x)-this.container.clientWidth<<0,i-=10),0>i&&(i+=this.container.clientWidth+20),i+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(i=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),r.length!==1||this.shared||r[0].dataSeries.type!=="line"&&r[0].dataSeries.type!=="stepLine"&&r[0].dataSeries.type!=="spline"&&r[0].dataSeries.type!=="area"&&r[0].dataSeries.type!=="stepArea"&&r[0].dataSeries.type!=="splineArea"?r[0].dataSeries.type==="pie"||r[0].dataSeries.type==="doughnut"?(e=r[0].dataSeries.dataPointEOs[r[0].index].center.y+r[0].dataSeries.radius*Math.sin(r[0].dataSeries.dataPointEOs[r[0].index].midAngle),e<r[0].dataSeries.dataPointEOs[r[0].index].center.y&&(e+=this.container.clientHeight)):r[0].dataSeries.type==="funnel"||r[0].dataSeries.type==="pyramid"?(e=r[0].dataSeries.dataPointEOs[r[0].dataSeries.reversed?r[0].dataSeries.dataPointEOs.length-1-r[0].index:r[0].index].sectionsofFunnel,e=typeof e.x5<"u"?(e.y2+e.y4)/2:(e.y2+e.y3)/2+this.container.clientHeight/2):e=r[0].dataSeries.type==="bar"||r[0].dataSeries.type==="rangeBar"||r[0].dataSeries.type==="stackedBar"||r[0].dataSeries.type==="stackedBar100"?r[0].dataSeries.axisX.convertValueToPixel(r[0].dataPoint.x):r[0].dataSeries.axisY.convertValueToPixel(r[0].dataPoint.y.length?r[0].dataPoint.y[r[0].dataPoint.y.length-1]:r[0].dataPoint.y):e=r[0].dataSeries.axisY.convertValueToPixel(r[0].dataPoint.y),e=-e+10,0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0),this.fixMozTransitionDelay(i,e),!this.animationEnabled||l?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=i+"px",this.container.style.bottom=e+"px"}else return this.hide(!1),!1}else return this.hide(),!1;return this._xValue=t,this._dataSeriesIndex=n,this._prevY=this._prevX=NaN,!0},Xe.prototype.fixMozTransitionDelay=function(t,n){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var i=parseFloat(this.container.style.left),i=isNaN(i)?0:i,e=parseFloat(this.container.style.bottom),e=isNaN(e)?0:e;10<Math.sqrt(Math.pow(i-t,2)+Math.pow(e-n,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},Xe.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},Ze.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],R&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Ze.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Ze.prototype.mouseEventHandler=function(t){if(t.type==="mousemove"||t.type==="click"){var n=[],i=pa(t),e=null;if((e=this.chart.getObjectAtXY(i.x,i.y,!1))&&typeof this.objectMap[e]<"u")if(e=this.objectMap[e],e.objectType==="dataPoint"){var a=this.chart.data[e.dataSeriesIndex],r=a.dataPoints[e.dataPointIndex],l=e.dataPointIndex;e.eventParameter={x:i.x,y:i.y,dataPoint:r,dataSeries:a.options,dataPointIndex:l,dataSeriesIndex:a.index,chart:this.chart},e.eventContext={context:r,userContext:r,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},n.push(e),e=this.objectMap[a.id],e.eventParameter={x:i.x,y:i.y,dataPoint:r,dataSeries:a.options,dataPointIndex:l,dataSeriesIndex:a.index,chart:this.chart},e.eventContext={context:a,userContext:a.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},n.push(this.objectMap[a.id])}else e.objectType==="legendItem"&&(a=this.chart.data[e.dataSeriesIndex],r=e.dataPointIndex!==null?a.dataPoints[e.dataPointIndex]:null,e.eventParameter={x:i.x,y:i.y,dataSeries:a.options,dataPoint:r,dataPointIndex:e.dataPointIndex,dataSeriesIndex:e.dataSeriesIndex,chart:this.chart},e.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},n.push(e));for(a=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(r=!0,e=0;e<n.length;e++)if(n[e].id===this.mouseoveredObjectMaps[i].id){r=!1;break}r?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",t):a.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=a,i=0;i<n.length;i++){for(a=!1,e=0;e<this.mouseoveredObjectMaps.length;e++)if(n[i].id===this.mouseoveredObjectMaps[e].id){a=!0;break}a||(this.fireEvent(n[i],"mouseover",t),this.mouseoveredObjectMaps.push(n[i])),t.type==="click"?this.fireEvent(n[i],"click",t):t.type==="mousemove"&&this.fireEvent(n[i],"mousemove",t)}}},Ze.prototype.fireEvent=function(t,n,i){if(t&&n){var e=t.eventParameter,a=t.eventContext,r=t.eventContext.userContext;r&&a&&r[a[n]]&&r[a[n]].call(r,e),n!=="mouseout"?r.cursor&&r.cursor!==i.target.style.cursor&&(i.target.style.cursor=r.cursor):(i.target.style.cursor=this.chart.panEnabled?a.mouseout!=="itemmouseout"||r.dockInsidePlotArea?"move":this.chart._defaultCursor:this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),n==="click"&&t.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],e),n==="click"&&t.objectType==="dataPoint"&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],e)}},Le.prototype.animate=function(t,n,i,e,a){var r=this;for(this.chart.isAnimating=!0,a=a||Xt.easing.linear,i&&this.animations.push({startTime:new Date().getTime()+(t||0),duration:n,animationCallback:i,onComplete:e}),t=[];0<this.animations.length;)n=this.animations.shift(),i=new Date().getTime(),e=0,n.startTime<=i&&(e=a(Math.min(i-n.startTime,n.duration),0,1,n.duration),e=Math.min(e,1),isNaN(e)||!isFinite(e))&&(e=1),1>e&&t.push(n),n.animationCallback(e),1<=e&&n.onComplete&&n.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){r.animate.call(r)}):this.chart.isAnimating=!1},Le.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Xt={yScaleAnimation:function(t,n){if(t!==0){var i=n.dest,e=n.source.canvas,a=n.animationBase;i.drawImage(e,0,0,e.width,e.height,0,a-a*t,i.canvas.width/Ue,t*i.canvas.height/Ue)}},xScaleAnimation:function(t,n){if(t!==0){var i=n.dest,e=n.source.canvas,a=n.animationBase;i.drawImage(e,0,0,e.width,e.height,a-a*t,0,t*i.canvas.width/Ue,i.canvas.height/Ue)}},xClipAnimation:function(t,n){if(t!==0){var i=n.dest,e=n.source.canvas;i.save(),0<t&&i.drawImage(e,0,0,e.width*t,e.height,0,0,e.width*t/Ue,e.height/Ue),i.restore()}},fadeInAnimation:function(t,n){if(t!==0){var i=n.dest,e=n.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(e,0,0,e.width,e.height,0,0,i.canvas.width/Ue,i.canvas.height/Ue),i.restore()}},easing:{linear:function(t,n,i,e){return i*t/e+n},easeOutQuad:function(t,n,i,e){return-i*(t/=e)*(t-2)+n},easeOutQuart:function(t,n,i,e){return-i*((t=t/e-1)*t*t*t-1)+n},easeInQuad:function(t,n,i,e){return i*(t/=e)*t+n},easeInQuart:function(t,n,i,e){return i*(t/=e)*t*t*t+n}}},Ie={drawMarker:function(t,n,i,e,a,r,l,x){if(i){var m=1;i.fillStyle=r||"#000000",i.strokeStyle=l||"#000000",i.lineWidth=x||0,i.setLineDash&&i.setLineDash(Pt("solid",x)),e==="circle"?(i.moveTo(t,n),i.beginPath(),i.arc(t,n,a/2,0,2*Math.PI,!1),r&&i.fill(),x&&(l?i.stroke():(m=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=m))):e==="square"?(i.beginPath(),i.rect(t-a/2,n-a/2,a,a),r&&i.fill(),x&&(l?i.stroke():(m=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=m))):e==="triangle"?(i.beginPath(),i.moveTo(t-a/2,n+a/2),i.lineTo(t+a/2,n+a/2),i.lineTo(t,n-a/2),i.closePath(),r&&i.fill(),x&&(l?i.stroke():(m=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=m)),i.beginPath()):e==="cross"&&(i.strokeStyle=r,i.lineWidth=a/4,i.beginPath(),i.moveTo(t-a/2,n-a/2),i.lineTo(t+a/2,n+a/2),i.stroke(),i.moveTo(t+a/2,n-a/2),i.lineTo(t-a/2,n+a/2),i.stroke())}},drawMarkers:function(t){for(var n=0;n<t.length;n++){var i=t[n];Ie.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return T}(),X.version="v3.12.17 GA",window.CanvasJS&&X&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=X)})(),document.createElement("canvas").getContext||function(){function J(){return this.context_||(this.context_=new Pt(this))}function ht(O,X,ot){var Mt=Gi.call(arguments,2);return function(){return O.apply(X,Mt.concat(Gi.call(arguments)))}}function it(O){return String(O).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function nt(O){O.namespaces.g_vml_||O.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),O.namespaces.g_o_||O.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),O.styleSheets.ex_canvas_||(O=O.createStyleSheet(),O.owningElement.id="ex_canvas_",O.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function ut(O){var X=O.srcElement;switch(O.propertyName){case"width":X.getContext().clearRect(),X.style.width=X.attributes.width.nodeValue+"px",X.firstChild.style.width=X.clientWidth+"px";break;case"height":X.getContext().clearRect(),X.style.height=X.attributes.height.nodeValue+"px",X.firstChild.style.height=X.clientHeight+"px"}}function vt(O){O=O.srcElement,O.firstChild&&(O.firstChild.style.width=O.clientWidth+"px",O.firstChild.style.height=O.clientHeight+"px")}function It(){return[[1,0,0],[0,1,0],[0,0,1]]}function bt(O,X){for(var ot=It(),Mt=0;3>Mt;Mt++)for(var dt=0;3>dt;dt++){for(var kt=0,Vt=0;3>Vt;Vt++)kt+=O[Mt][Vt]*X[Vt][dt];ot[Mt][dt]=kt}return ot}function hi(O,X){X.fillStyle=O.fillStyle,X.lineCap=O.lineCap,X.lineJoin=O.lineJoin,X.lineWidth=O.lineWidth,X.miterLimit=O.miterLimit,X.shadowBlur=O.shadowBlur,X.shadowColor=O.shadowColor,X.shadowOffsetX=O.shadowOffsetX,X.shadowOffsetY=O.shadowOffsetY,X.strokeStyle=O.strokeStyle,X.globalAlpha=O.globalAlpha,X.font=O.font,X.textAlign=O.textAlign,X.textBaseline=O.textBaseline,X.arcScaleX_=O.arcScaleX_,X.arcScaleY_=O.arcScaleY_,X.lineScale_=O.lineScale_}function B(O){var ot=O.indexOf("(",3),X=O.indexOf(")",ot+1),ot=O.substring(ot+1,X).split(",");return(ot.length!=4||O.charAt(3)!="a")&&(ot[3]=1),ot}function ni(O,X,ot){return Math.min(ot,Math.max(X,O))}function Ji(O,X,ot){return 0>ot&&ot++,1<ot&&ot--,1>6*ot?O+6*(X-O)*ot:1>2*ot?X:2>3*ot?O+6*(X-O)*(2/3-ot):O}function Zi(O){if(O in qi)return qi[O];var X,ot=1;if(O=String(O),O.charAt(0)=="#")X=O;else if(/^rgb/.test(O)){ot=B(O),X="#";for(var Mt,dt=0;3>dt;dt++)Mt=ot[dt].indexOf("%")!=-1?Math.floor(255*(parseFloat(ot[dt])/100)):+ot[dt],X+=ei[ni(Mt,0,255)];ot=+ot[3]}else if(/^hsl/.test(O)){if(dt=ot=B(O),X=parseFloat(dt[0])/360%360,0>X&&X++,Mt=ni(parseFloat(dt[1])/100,0,1),dt=ni(parseFloat(dt[2])/100,0,1),Mt==0)Mt=dt=X=dt;else{var kt=.5>dt?dt*(1+Mt):dt+Mt-dt*Mt,Vt=2*dt-kt;Mt=Ji(Vt,kt,X+1/3),dt=Ji(Vt,kt,X),X=Ji(Vt,kt,X-1/3)}X="#"+ei[Math.floor(255*Mt)]+ei[Math.floor(255*dt)]+ei[Math.floor(255*X)],ot=ot[3]}else X=Ti[O]||O;return qi[O]={color:X,alpha:ot}}function Pt(O){this.m_=It(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*Ut,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=O;var X="width:"+O.clientWidth+"px;height:"+O.clientHeight+"px;overflow:hidden;position:absolute",ot=O.ownerDocument.createElement("div");ot.style.cssText=X,O.appendChild(ot),X=ot.cloneNode(!1),X.style.backgroundColor="red",X.style.filter="alpha(opacity=0)",O.appendChild(X),this.element_=ot,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function Ft(O,X,ot,Mt){O.currentPath_.push({type:"bezierCurveTo",cp1x:X.x,cp1y:X.y,cp2x:ot.x,cp2y:ot.y,x:Mt.x,y:Mt.y}),O.currentX_=Mt.x,O.currentY_=Mt.y}function Xi(O,X){var Mt=Zi(O.strokeStyle),ot=Mt.color,Mt=Mt.alpha*O.globalAlpha,dt=O.lineScale_*O.lineWidth;1>dt&&(Mt*=dt),X.push("<g_vml_:stroke",' opacity="',Mt,'"',' joinstyle="',O.lineJoin,'"',' miterlimit="',O.miterLimit,'"',' endcap="',R[O.lineCap]||"square",'"',' weight="',dt,'px"',' color="',ot,'" />')}function qt(O,X,ot,Mt){var dt=O.fillStyle,kt=O.arcScaleX_,Vt=O.arcScaleY_,ce=Mt.x-ot.x,re=Mt.y-ot.y;if(dt instanceof ki){var Zt=0,Me=Mt=0,ge=0,wt=1;if(dt.type_=="gradient"){Zt=dt.x1_/kt,ot=dt.y1_/Vt;var Qe=xe(O,dt.x0_/kt,dt.y0_/Vt),Zt=xe(O,Zt,ot),Zt=180*Math.atan2(Zt.x-Qe.x,Zt.y-Qe.y)/Math.PI;0>Zt&&(Zt+=360),1e-6>Zt&&(Zt=0)}else Qe=xe(O,dt.x0_,dt.y0_),Mt=(Qe.x-ot.x)/ce,Me=(Qe.y-ot.y)/re,ce/=kt*Ut,re/=Vt*Ut,wt=M.max(ce,re),ge=2*dt.r0_/wt,wt=2*dt.r1_/wt-ge;kt=dt.colors_,kt.sort(function(Ui,_i){return Ui.offset-_i.offset}),Vt=kt.length,Qe=kt[0].color,ot=kt[Vt-1].color,ce=kt[0].alpha*O.globalAlpha,O=kt[Vt-1].alpha*O.globalAlpha;for(var re=[],Qt=0;Qt<Vt;Qt++){var ji=kt[Qt];re.push(ji.offset*wt+ge+" "+ji.color)}X.push('<g_vml_:fill type="',dt.type_,'"',' method="none" focus="100%"',' color="',Qe,'"',' color2="',ot,'"',' colors="',re.join(","),'"',' opacity="',O,'"',' g_o_:opacity2="',ce,'"',' angle="',Zt,'"',' focusposition="',Mt,",",Me,'" />')}else dt instanceof di?ce&&re&&X.push("<g_vml_:fill",' position="',-ot.x/ce*kt*kt,",",-ot.y/re*Vt*Vt,'"',' type="tile"',' src="',dt.src_,'" />'):(dt=Zi(O.fillStyle),X.push('<g_vml_:fill color="',dt.color,'" opacity="',dt.alpha*O.globalAlpha,'" />'))}function xe(O,X,ot){return O=O.m_,{x:Ut*(X*O[0][0]+ot*O[1][0]+O[2][0])-Be,y:Ut*(X*O[0][1]+ot*O[1][1]+O[2][1])-Be}}function Bi(O,X,ot){isFinite(X[0][0])&&isFinite(X[0][1])&&isFinite(X[1][0])&&isFinite(X[1][1])&&isFinite(X[2][0])&&isFinite(X[2][1])&&(O.m_=X,ot&&(O.lineScale_=De(oa(X[0][0]*X[1][1]-X[0][1]*X[1][0]))))}function ki(O){this.type_=O,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function di(O,X){if(!O||O.nodeType!=1||O.tagName!="IMG")throw new fe("TYPE_MISMATCH_ERR");if(O.readyState!="complete")throw new fe("INVALID_STATE_ERR");switch(X){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=X;break;default:throw new fe("SYNTAX_ERR")}this.src_=O.src,this.width_=O.width,this.height_=O.height}function fe(O){this.code=this[O],this.message=O+": DOM Exception "+this.code}var M=Math,ue=M.round,Ae=M.sin,gi=M.cos,oa=M.abs,De=M.sqrt,Ut=10,Be=Ut/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var Gi=Array.prototype.slice;nt(document);var Li={init:function(O){O=O||document,O.createElement("canvas"),O.attachEvent("onreadystatechange",ht(this.init_,this,O))},init_:function(O){O=O.getElementsByTagName("canvas");for(var X=0;X<O.length;X++)this.initElement(O[X])},initElement:function(O){if(!O.getContext){O.getContext=J,nt(O.ownerDocument),O.innerHTML="",O.attachEvent("onpropertychange",ut),O.attachEvent("onresize",vt);var X=O.attributes;X.width&&X.width.specified?O.style.width=X.width.nodeValue+"px":O.width=O.clientWidth,X.height&&X.height.specified?O.style.height=X.height.nodeValue+"px":O.height=O.clientHeight}return O}};Li.init();for(var ei=[],Nt=0;16>Nt;Nt++)for(var Fi=0;16>Fi;Fi++)ei[16*Nt+Fi]=Nt.toString(16)+Fi.toString(16);var Ti={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},qi={},ci={},R={butt:"flat",round:"round"},Nt=Pt.prototype;Nt.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Nt.beginPath=function(){this.currentPath_=[]},Nt.moveTo=function(O,X){var ot=xe(this,O,X);this.currentPath_.push({type:"moveTo",x:ot.x,y:ot.y}),this.currentX_=ot.x,this.currentY_=ot.y},Nt.lineTo=function(O,X){var ot=xe(this,O,X);this.currentPath_.push({type:"lineTo",x:ot.x,y:ot.y}),this.currentX_=ot.x,this.currentY_=ot.y},Nt.bezierCurveTo=function(O,X,ot,Mt,dt,kt){dt=xe(this,dt,kt),O=xe(this,O,X),ot=xe(this,ot,Mt),Ft(this,O,ot,dt)},Nt.quadraticCurveTo=function(O,X,ot,Mt){O=xe(this,O,X),ot=xe(this,ot,Mt),Mt={x:this.currentX_+2/3*(O.x-this.currentX_),y:this.currentY_+2/3*(O.y-this.currentY_)},Ft(this,Mt,{x:Mt.x+(ot.x-this.currentX_)/3,y:Mt.y+(ot.y-this.currentY_)/3},ot)},Nt.arc=function(O,X,ot,Mt,dt,kt){ot*=Ut;var Vt=kt?"at":"wa",ce=O+gi(Mt)*ot-Be,re=X+Ae(Mt)*ot-Be;Mt=O+gi(dt)*ot-Be,dt=X+Ae(dt)*ot-Be,ce!=Mt||kt||(ce+=.125),O=xe(this,O,X),ce=xe(this,ce,re),Mt=xe(this,Mt,dt),this.currentPath_.push({type:Vt,x:O.x,y:O.y,radius:ot,xStart:ce.x,yStart:ce.y,xEnd:Mt.x,yEnd:Mt.y})},Nt.rect=function(O,X,ot,Mt){this.moveTo(O,X),this.lineTo(O+ot,X),this.lineTo(O+ot,X+Mt),this.lineTo(O,X+Mt),this.closePath()},Nt.strokeRect=function(O,X,ot,Mt){var dt=this.currentPath_;this.beginPath(),this.moveTo(O,X),this.lineTo(O+ot,X),this.lineTo(O+ot,X+Mt),this.lineTo(O,X+Mt),this.closePath(),this.stroke(),this.currentPath_=dt},Nt.fillRect=function(O,X,ot,Mt){var dt=this.currentPath_;this.beginPath(),this.moveTo(O,X),this.lineTo(O+ot,X),this.lineTo(O+ot,X+Mt),this.lineTo(O,X+Mt),this.closePath(),this.fill(),this.currentPath_=dt},Nt.createLinearGradient=function(O,X,ot,Mt){var dt=new ki("gradient");return dt.x0_=O,dt.y0_=X,dt.x1_=ot,dt.y1_=Mt,dt},Nt.createRadialGradient=function(O,X,ot,Mt,dt,kt){var Vt=new ki("gradientradial");return Vt.x0_=O,Vt.y0_=X,Vt.r0_=ot,Vt.x1_=Mt,Vt.y1_=dt,Vt.r1_=kt,Vt},Nt.drawImage=function(O,X){var ot,Mt,dt,kt,Vt,ce,re,Zt;dt=O.runtimeStyle.width,kt=O.runtimeStyle.height,O.runtimeStyle.width="auto",O.runtimeStyle.height="auto";var Me=O.width,ge=O.height;if(O.runtimeStyle.width=dt,O.runtimeStyle.height=kt,arguments.length==3)ot=arguments[1],Mt=arguments[2],Vt=ce=0,re=dt=Me,Zt=kt=ge;else if(arguments.length==5)ot=arguments[1],Mt=arguments[2],dt=arguments[3],kt=arguments[4],Vt=ce=0,re=Me,Zt=ge;else if(arguments.length==9)Vt=arguments[1],ce=arguments[2],re=arguments[3],Zt=arguments[4],ot=arguments[5],Mt=arguments[6],dt=arguments[7],kt=arguments[8];else throw Error("Invalid number of arguments");var wt=xe(this,ot,Mt),Qe=[];if(Qe.push(" <g_vml_:group",' coordsize="',10*Ut,",",10*Ut,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Qt=[];Qt.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ue(wt.x/Ut),",","Dy=",ue(wt.y/Ut),"");var ji=xe(this,ot+dt,Mt),Ui=xe(this,ot,Mt+kt);ot=xe(this,ot+dt,Mt+kt),wt.x=M.max(wt.x,ji.x,Ui.x,ot.x),wt.y=M.max(wt.y,ji.y,Ui.y,ot.y),Qe.push("padding:0 ",ue(wt.x/Ut),"px ",ue(wt.y/Ut),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Qt.join(""),", sizingmethod='clip');")}else Qe.push("top:",ue(wt.y/Ut),"px;left:",ue(wt.x/Ut),"px;");Qe.push(' ">','<g_vml_:image src="',O.src,'"',' style="width:',Ut*dt,"px;"," height:",Ut*kt,'px"',' cropleft="',Vt/Me,'"',' croptop="',ce/ge,'"',' cropright="',(Me-Vt-re)/Me,'"',' cropbottom="',(ge-ce-Zt)/ge,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Qe.join(""))},Nt.stroke=function(O){var X=[];X.push("<g_vml_:shape",' filled="',!!O,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*Ut,",",10*Ut,'"',' stroked="',!O,'"',' path="');for(var ot={x:null,y:null},Mt={x:null,y:null},dt=0;dt<this.currentPath_.length;dt++){var kt=this.currentPath_[dt];switch(kt.type){case"moveTo":X.push(" m ",ue(kt.x),",",ue(kt.y));break;case"lineTo":X.push(" l ",ue(kt.x),",",ue(kt.y));break;case"close":X.push(" x "),kt=null;break;case"bezierCurveTo":X.push(" c ",ue(kt.cp1x),",",ue(kt.cp1y),",",ue(kt.cp2x),",",ue(kt.cp2y),",",ue(kt.x),",",ue(kt.y));break;case"at":case"wa":X.push(" ",kt.type," ",ue(kt.x-this.arcScaleX_*kt.radius),",",ue(kt.y-this.arcScaleY_*kt.radius)," ",ue(kt.x+this.arcScaleX_*kt.radius),",",ue(kt.y+this.arcScaleY_*kt.radius)," ",ue(kt.xStart),",",ue(kt.yStart)," ",ue(kt.xEnd),",",ue(kt.yEnd))}kt&&((ot.x==null||kt.x<ot.x)&&(ot.x=kt.x),(Mt.x==null||kt.x>Mt.x)&&(Mt.x=kt.x),(ot.y==null||kt.y<ot.y)&&(ot.y=kt.y),(Mt.y==null||kt.y>Mt.y)&&(Mt.y=kt.y))}X.push(' ">'),O?qt(this,X,ot,Mt):Xi(this,X),X.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",X.join(""))},Nt.fill=function(){this.stroke(!0)},Nt.closePath=function(){this.currentPath_.push({type:"close"})},Nt.save=function(){var O={};hi(this,O),this.aStack_.push(O),this.mStack_.push(this.m_),this.m_=bt(It(),this.m_)},Nt.restore=function(){this.aStack_.length&&(hi(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Nt.translate=function(O,X){Bi(this,bt([[1,0,0],[0,1,0],[O,X,1]],this.m_),!1)},Nt.rotate=function(O){var X=gi(O);O=Ae(O),Bi(this,bt([[X,O,0],[-O,X,0],[0,0,1]],this.m_),!1)},Nt.scale=function(O,X){this.arcScaleX_*=O,this.arcScaleY_*=X,Bi(this,bt([[O,0,0],[0,X,0],[0,0,1]],this.m_),!0)},Nt.transform=function(O,X,ot,Mt,dt,kt){Bi(this,bt([[O,X,0],[ot,Mt,0],[dt,kt,1]],this.m_),!0)},Nt.setTransform=function(O,X,ot,Mt,dt,kt){Bi(this,[[O,X,0],[ot,Mt,0],[dt,kt,1]],!0)},Nt.drawText_=function(O,X,ot,Mt,dt){var kt=this.m_;Mt=0;var Vt=1e3,ce=0,re=[],Zt;if(Zt=this.font,ci[Zt])Zt=ci[Zt];else{var Me=document.createElement("div").style;try{Me.font=Zt}catch{}Zt=ci[Zt]={style:Me.fontStyle||"normal",variant:Me.fontVariant||"normal",weight:Me.fontWeight||"normal",size:Me.fontSize||10,family:Me.fontFamily||"sans-serif"}}var Me=Zt,ge=this.element_;Zt={};for(var wt in Me)Zt[wt]=Me[wt];switch(wt=parseFloat(ge.currentStyle.fontSize),ge=parseFloat(Me.size),typeof Me.size=="number"?Zt.size=Me.size:Me.size.indexOf("px")!=-1?Zt.size=ge:Me.size.indexOf("em")!=-1?Zt.size=wt*ge:Me.size.indexOf("%")!=-1?Zt.size=wt/100*ge:Me.size.indexOf("pt")!=-1?Zt.size=ge/.75:Zt.size=wt,Zt.size*=.981,wt=Zt.style+" "+Zt.variant+" "+Zt.weight+" "+Zt.size+"px "+Zt.family,ge=this.element_.currentStyle,Me=this.textAlign.toLowerCase(),Me){case"left":case"center":case"right":break;case"end":Me=ge.direction=="ltr"?"right":"left";break;case"start":Me=ge.direction=="rtl"?"right":"left";break;default:Me="left"}switch(this.textBaseline){case"hanging":case"top":ce=Zt.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":ce=-Zt.size/2.25}switch(Me){case"right":Mt=1e3,Vt=.05;break;case"center":Mt=Vt=500}X=xe(this,X+0,ot+ce),re.push('<g_vml_:line from="',-Mt,' 0" to="',Vt,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!dt,'" stroked="',!!dt,'" style="position:absolute;width:1px;height:1px;">'),dt?Xi(this,re):qt(this,re,{x:-Mt,y:0},{x:Vt,y:Zt.size}),dt=kt[0][0].toFixed(3)+","+kt[1][0].toFixed(3)+","+kt[0][1].toFixed(3)+","+kt[1][1].toFixed(3)+",0,0",X=ue(X.x/Ut)+","+ue(X.y/Ut),re.push('<g_vml_:skew on="t" matrix="',dt,'" ',' offset="',X,'" origin="',Mt,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',it(O),'" style="v-text-align:',Me,";font:",it(wt),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",re.join(""))},Nt.fillText=function(O,X,ot,Mt){this.drawText_(O,X,ot,Mt,!1)},Nt.strokeText=function(O,X,ot,Mt){this.drawText_(O,X,ot,Mt,!0)},Nt.measureText=function(O){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var X=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(X.createTextNode(O)),{width:this.textMeasureEl_.offsetWidth}},Nt.clip=function(){},Nt.arcTo=function(){},Nt.createPattern=function(O,X){return new di(O,X)},ki.prototype.addColorStop=function(O,X){X=Zi(X),this.colors_.push({offset:O,color:X.color,alpha:X.alpha})},Nt=fe.prototype=Error(),Nt.INDEX_SIZE_ERR=1,Nt.DOMSTRING_SIZE_ERR=2,Nt.HIERARCHY_REQUEST_ERR=3,Nt.WRONG_DOCUMENT_ERR=4,Nt.INVALID_CHARACTER_ERR=5,Nt.NO_DATA_ALLOWED_ERR=6,Nt.NO_MODIFICATION_ALLOWED_ERR=7,Nt.NOT_FOUND_ERR=8,Nt.NOT_SUPPORTED_ERR=9,Nt.INUSE_ATTRIBUTE_ERR=10,Nt.INVALID_STATE_ERR=11,Nt.SYNTAX_ERR=12,Nt.INVALID_MODIFICATION_ERR=13,Nt.NAMESPACE_ERR=14,Nt.INVALID_ACCESS_ERR=15,Nt.VALIDATION_ERR=16,Nt.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Li,CanvasRenderingContext2D=Pt,CanvasGradient=ki,CanvasPattern=di,DOMException=fe}()}(Ea)),Ea.exports}var Ts=ks();const Ps=Za(Ts),Cs=`function selectionSort(arr) {
    const n = arr.length;
    for (let i = 0; i < n - 1; i++) {
        let minIndex = i;
        for (let j = i + 1; j < n; j++) {
            if (arr[j] < arr[minIndex]) {
                minIndex = j;
            }
        }
        [arr[i], arr[minIndex]] = [arr[minIndex], arr[i]];
    }
    return arr;
}`,Ss=`function bubbleSort(arr) {
    const n = arr.length;
    for (let i = 0; i < n - 1; i++) {
        for (let j = 0; j < n - i - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
            }
        }
    }
    return arr;
}`,ws=`function insertionSort(arr) {
    const n = arr.length;
    for (let i = 1; i < n; i++) {
        const key = arr[i];
        let j = i - 1;
        while (j >= 0 && arr[j] > key) {
            arr[j + 1] = arr[j];
            j--;
        }
        arr[j + 1] = key;
    }
    return arr;
}`,_s=`function quickSort(arr, low, high) {
    if (low < high) {
        // æ¾å°åºåçæ­£ç¡®ä½ç½®
        let pi = partition(arr, low, high);

        // éå½å¯¹å·¦å³ä¸¤é¨åè¿è¡æåº
        quickSort(arr, low, pi - 1);
        quickSort(arr, pi + 1, high);
    }
    return arr;
}

// ååºå½æ°
function partition(arr, low, high) {
    let pivot = arr[high]; // éæ©æåä¸ä¸ªåç´ ä½ä¸ºåºå
    let i = (low - 1); // å°äºåºåçåç´ çç´¢å¼

    for (let j = low; j < high; j++) {
        // å¦æå½ååç´ å°äºæç­äºåºå
        if (arr[j] <= pivot) {
            i++;
            // äº¤æ¢ arr[i] å arr[j]
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
    }

    // å°åºååç´ æ¾å°æ­£ç¡®çä½ç½®
    [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]];
    return i + 1; // è¿ååºåçç´¢å¼
}`,As=`function mergeSort(arr) {
    if (arr.length > 1) {
        const mid = Math.floor(arr.length / 2);
        const left = arr.slice(0, mid);
        const right = arr.slice(mid);

        mergeSort(left);
        mergeSort(right);

        let i = 0, j = 0, k = 0;
        while (i < left.length && j < right.length) {
            if (left[i] < right[j]) {
                arr[k] = left[i];
                i++;
            } else {
                arr[k] = right[j];
                j++;
            }
            k++;
        }

        while (i < left.length) {
            arr[k] = left[i];
            i++;
            k++;
        }

        while (j < right.length) {
            arr[k] = right[j];
            j++;
            k++;
        }
    }
    return arr;
}`,Bs=`function bucketSort(arr) {
    const n = arr.length;
    const max = Math.max(...arr);
    const min = Math.min(...arr);
    const bucketSize = 5; // æ¡¶çå¤§å°ï¼å¯æ ¹æ®å®éæåµè°æ´ï¼
    const bucketCount = Math.floor((max - min) / bucketSize) + 1;
    const buckets = new Array(bucketCount).fill(null).map(() => []);

    for (let i = 0; i < n; i++) {
        const bucketIndex = Math.floor((arr[i] - min) / bucketSize);
        buckets[bucketIndex].push(arr[i]);
    }

    for (let i = 0; i < bucketCount; i++) {
        buckets[i].sort((a, b) => a - b);
    }

    let index = 0;
    for (let i = 0; i < bucketCount; i++) {
        for (let j = 0; j < buckets[i].length; j++) {
            arr[index++] = buckets[i][j];
        }
    }
    return arr;
}`,Ls=`function countingSort(arr) {
    const max = Math.max(...arr);
    const min = Math.min(...arr);
    const range = max - min + 1;
    const countArray = new Array(range).fill(0);

    for (let num of arr) {
        countArray[num - min]++;
    }

    let index = 0;
    for (let i = 0; i < range; i++) {
        while (countArray[i] > 0) {
            arr[index++] = i + min;
            countArray[i]--;
        }
    }
    return arr;
}`,Fs=`function radixSort(arr) {
    const getDigit = (num, pos) => Math.floor(Math.abs(num) / Math.pow(10, pos)) % 10;
    const maxDigit = Math.max(...arr).toString().length;

    for (let pos = 0; pos < maxDigit; pos++) {
        const buckets = Array.from({ length: 10 }, () => []);
        for (let num of arr) {
            const digit = getDigit(num, pos);
            buckets[digit].push(num);
        }
        arr = [].concat(...buckets);
    }
    return arr;
}`,Is=`function shellSort(arr) {
    let n = arr.length;
    // åå§åå¢éåºåï¼éå¸¸ä½¿ç¨Knuthåºåæå¶ä»
    for (let gap = Math.floor(n / 2); gap > 0; gap = Math.floor(gap / 2)) {
        // å¯¹æ¯ä¸ªå¢éè¿è¡æå¥æåº
        for (let i = gap; i < n; i++) {
            let temp = arr[i];
            let j;
            // æå¥æåºçåå¾ªç¯
            for (j = i; j >= gap && arr[j - gap] > temp; j -= gap) {
                arr[j] = arr[j - gap]; // åç´ åç§»
            }
            arr[j] = temp; // æå¥åç´ 
        }
    }
    return arr;
}`,Vs=`function heapSort(arr) {
    let n = arr.length;

    // æå»ºæå¤§å  (ä»æåä¸ä¸ªéå¶å­èç¹å¼å§)
    for (let i = Math.floor(n / 2) - 1; i >= 0; i--) {
        heapify(arr, n, i);
    }

    // ä¸ä¸ªä¸ªå°ä»å é¡¶ååºåç´ 
    for (let i = n - 1; i > 0; i--) {
        // å°å½åå é¡¶ï¼æå¤§åç´ ï¼ä¸æ«å°¾åç´ äº¤æ¢
        [arr[0], arr[i]] = [arr[i], arr[0]];
        // å¯¹å©ä½çå è¿è¡å å
        heapify(arr, i, 0);
    }
    return arr;
}

// å åå½æ°
function heapify(arr, n, i) {
    let largest = i; // åå§åæå¤§åç´ ä¸ºæ ¹
    let left = 2 * i + 1; // å·¦å­èç¹
    let right = 2 * i + 2; // å³å­èç¹

    // å¦æå·¦å­èç¹æ¯æ ¹å¤§
    if (left < n && arr[left] > arr[largest]) {
        largest = left;
    }

    // å¦æå³å­èç¹æ¯ç®åæå¤§åç´ å¤§
    if (right < n && arr[right] > arr[largest]) {
        largest = right;
    }

    // å¦ææå¤§åç´ ä¸æ¯æ ¹
    if (largest !== i) {
        [arr[i], arr[largest]] = [arr[largest], arr[i]]; // äº¤æ¢
        // éå½å ååå½±åçå­æ 
        heapify(arr, n, largest);
    }
}`;async function Ds(I){let J;switch(I){case"selectionSort":J=Cs;break;case"bubbleSort":J=Ss;break;case"insertionSort":J=ws;break;case"quickSort":J=_s;break;case"mergeSort":J=As;break;case"bucketSort":J=Bs;break;case"countingSort":J=Ls;break;case"radixSort":J=Fs;break;case"shellSort":J=Is;break;case"heapSort":J=Vs;break;default:console.error("æ æçæåºç®æ³"),J=`// æªæ¾å° ${I} çç®æ³å®ç°`}return J}async function Ws(I,J){const it=(await Ds(I)).split(`
`).map(vt=>{let It=vt.replace(/\/\/.*$/,"").trimEnd();return It=It.replace(/\/\*[\s\S]*?\*\/|/g,""),It}).filter(vt=>vt.trim()!=="");let nt="";it.forEach((vt,It)=>{const bt=J.includes(It+1);nt+=`<div class="code-line ${bt?"highlight":""}">${vt.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</div>`}),Mi.codeDisplay.html(nt);const ut=document.getElementById("code-display").querySelector(".highlight");ut&&ut.scrollIntoView({behavior:"smooth",block:"center"})}let na=null;async function ka(I,J,ht){if(console.log(J),J.length===0){Mi.currentStepNumberSpan.textContent=0,stepDescriptionSpan.textContent="è¯·éæ©ç®æ³å¹¶ç¹å»éç½®",codeDisplay.innerHTML="",na&&na.destroy(),na=null;return}const it=J[ht];Mi.currentStepNumberSpan.textContent=ht+1,Mi.stepDescriptionSpan.textContent=it.description,await Ws(I,it.highlightLines),Xs(it.array,it.barColors),Mi.prevButton.disabled=ht===0,Mi.nextButton.disabled=ht===J.length-1}function Xs(I,J){const ht=I.map((it,nt)=>({y:it,label:it.toString(),color:J[nt]||BAR_COLOR_DEFAULT}));na?(na.options.data[0].dataPoints=ht,na.render()):(na=new Ps.Chart("chart-container",{animationEnabled:!1,theme:"light2",title:{text:"æ°ç»ç¶æ"},axisY:{title:"æ°å¼",includeZero:!0,maximum:10,interval:1},axisX:{title:"ç´¢å¼"},data:[{type:"column",dataPoints:ht,indexLabel:"{y}",indexLabelFontColor:"#333",indexLabelPlacement:"outside"}]}),na.render())}function fa(I){I&&(clearInterval(I),I=null,Mi.stopButton.disabled=!0)}let Ra=[9,2,7,5,1,8,3,10,4,6],ca="selectionSort",xi=[],wi=0,Ga=null;Mi.submitButton.on("click",()=>{Ra=bi("#input-data").val().split(",").map(Number),console.log(Ra),_a()});Mi.algorithmSelect.on("change",I=>{ca=I.target.value,_a()});Mi.startButton.on("click",async()=>{const I=document.getElementById("interval-time").value;fa(),wi>=xi.length-1&&(wi=0,await ka(ca,xi,wi)),Ga=setInterval(async()=>{wi<xi.length-1?(wi++,await ka(ca,xi,wi)):fa()},I)});Mi.resetButton.on("click",()=>{_a()});Mi.prevButton.on("click",async()=>{fa(),wi>0&&(wi--,await ka(ca,xi,wi))});Mi.nextButton.on("click",async()=>{fa(),wi<xi.length-1&&(wi++,await ka(ca,xi,wi))});Mi.stopButton.on("click",()=>{fa()});function Wt(I,J,ht=[],it=[]){xi.push({array:[...I],description:J,highlightLines:ht,barColors:it.length>0?[...it]:Array(I.length).fill(BAR_COLOR_DEFAULT)})}async function _a(){fa(Ga),xi=[],wi=0;const I=[...Ra];switch(ca){case"selectionSort":cs(I);break;case"bubbleSort":ps(I);break;case"insertionSort":xs(I);break;case"quickSort":Oa(I);break;case"mergeSort":za(I);break;case"bucketSort":fs(I);break;case"countingSort":ys(I);break;case"radixSort":bs(I);break;case"shellSort":vs(I);break;case"heapSort":Ms(I);break;default:console.error("æ æçæåºç®æ³")}Mi.totalStepsSpan.textContent=xi.length,await ka(ca,xi,wi)}window.onload=()=>{_a(),bi("#input-data").val("5,4,3,1,1,2"),bi("#submit-button").click(),bi("#next-button").click()};
